{"version":3,"sources":["webpack:///./src/services/rubixService.js","webpack:///./src/services/systemSettingService.js","webpack:///./src/components/RubixFlow/RFFrameworkUpgrade/rfFrameworkUpgrade.vue?9e5e","webpack:///./src/services/rfPluginUpgradeService.js","webpack:///./src/components/Common/RbxSwitch.vue?5c16","webpack:///src/components/Common/RbxSwitch.vue","webpack:///./src/components/Common/RbxSwitch.vue","webpack:///./src/components/Common/RbxSwitch.vue?aced","webpack:///./src/components/Common/BackButton.vue?d493","webpack:///src/components/Common/BackButton.vue","webpack:///./src/components/Common/BackButton.vue","webpack:///./src/components/Common/BackButton.vue?914e","webpack:///./src/components/RubixFlow/RFFrameworkUpgrade/rfPluginDownloadStates.js","webpack:///./src/components/RubixFlow/RFFrameworkUpgrade/rfPluginDownload.vue?838c","webpack:///src/components/RubixFlow/RFFrameworkUpgrade/rfPluginDownload.vue","webpack:///./src/components/RubixFlow/RFFrameworkUpgrade/rfPluginDownload.vue?0789","webpack:///./src/components/RubixFlow/RFFrameworkUpgrade/rfPluginDownload.vue?54e6","webpack:///./src/services/rfFlowFrameworkUpgradeService.js","webpack:///src/components/RubixFlow/RFFrameworkUpgrade/rfFrameworkUpgrade.vue","webpack:///./src/components/RubixFlow/RFFrameworkUpgrade/rfFrameworkUpgrade.vue?8a52","webpack:///./src/components/RubixFlow/RFFrameworkUpgrade/rfFrameworkUpgrade.vue","webpack:///./src/services/appsService.js"],"names":["endpoint","fetchPlatInfo","http","get","fetchStatus","upgradeLatest","put","version","upgrade","fetchReleases","updateToken","token","post","fetchTokenHint","upgradeViaFile","file","formData","FormData","append","headers","fetchAppUrl","createRestartJob","body","deleteRestartJob","delete","data","pingSystemService","fetchSystemServices","changeServiceStatus","action","serviceName","service","name","props","components","TooltipIconButton","computed","_value","this","value","set","enableTxt","enableText","disableTxt","disableText","enableClr","enableColor","disableClr","disableColor","methods","onInput","disabled","$emit","v","_vm","_h","$createElement","_c","_self","_e","attrs","_v","onBack","$router","go","staticClass","on","DOWNLOAD_STATES","currentView","downloadStarted","successInstallApps","failureInstallApps","stepsModel","1","loader","back","forward","hasForward","hasCancel","title","buttonLabel","2","3","hasCancelInstallation","4","updated","watch","currentDownloadState","showDownloadStateView","newVal","mounted","apps","selectedPlugins","map","downloadedApps","appDownloadStates","downloadState","plugin","isDownloading","download","pluginName","hasError","error","errorMessage","install","spinLoader","installPlugins","clearDownloadStateInterval","cancel","deleteDownloadState","closeDialog","startDownload","cancelInstallation","resetPluginInstallation","clearSelectedApps","unmount","_s","model","callback","$$v","expression","_l","app","i","key","domProps","displayName","length","successApps","failedApps","next","serviceStatus","rfPluginUpgradeService","fetch","plugins","url","uninstall","fetchDownloadState","multiStepDownloadInstall","BackButton","remount","isUninstalling","isUpgradePersistent","isFetchingDownloadState","downloadStateInterval","clearSelectedItems","rfFlowFrameworkUpgradeService","gridName","gridNames","toolbarTitle","selectedItem","isDeletingDownloadState","dialogNames","dialog","remountDialog","gridHeaders","showCheckDownloadIcon","showDownloadProgressIcon","destroyed","clearInterval","downloadPlugin","payload","then","onUninstall","startDownloadStateInterval","setInterval","dialogName","config","setTimeout","selectedApp","toggleDialog","item","fn","onGridItemInstallChange","is_installed","scopedSlots","_u","ref","selectedItems","$set","val","fetchApps","queryParams","qs","stringify","browser_download_url","latest_version","fetchAllApps","systemSettingService","fetchAllInstalledApps","r","filter","appDetail","fetchSystemDefaultApps","fetchAppReleases","appName","fetchAppsReleases","services","all","catch","err","fetchAppStatus","options","uninstallApp","installApp","downloadApp","uploadApp","deleteAppData","deleteAppDataService","downloadAppData","a","rubixService","responseType","fetchJSONConfig","fetchOpenVPNConfig","axiosConfig","fetchEnvConfig","fetchAppConfig","appType","RUBIX_APP_TYPES","PYTHON_APP","FRONTEND_APP","APT_APP","Error","saveJSONConfig","saveENVConfig","saveOpenVPNConfig","saveAppConfig","deleteJSONConfig","deleteENVConfig","deleteOpenVPNConfig","deleteAppConfig","downloadAppConfig","exportJSON","exportENV","exportOpenVPNConfig","bulkAppControl","actions","bulkInstallApps","bulkDownloadApps","restrictToast","isSelfRestart","global_uuid","RUBIX_APP_STATUS_CONTROL_ACTIONS","RESTART","slaveId","includes","isSelfInstall","isMaster"],"mappings":"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","file":"static/js/8.6f7478581a58103b0dfd.js","sourcesContent":["import http from '../axios';\n\nconst endpoint = '/rubix-service';\n\nexport const fetchPlatInfo = () => {\n  return http.get(`${endpoint}/plat`);\n};\n\nexport const fetchStatus = () => {\n  return http.get(`${endpoint}/status`);\n};\n\nexport const upgradeLatest = () => {\n  return http.put(`${endpoint}/upgrade`, { version: 'latest' });\n};\n\nexport const upgrade = version => {\n  return http.put(`${endpoint}/upgrade`, { version });\n};\n\nexport const fetchReleases = () => {\n  return http.get(`${endpoint}/releases`);\n};\n\nexport const updateToken = token => {\n  return http.post(`${endpoint}/token`, { token });\n};\n\nexport const fetchTokenHint = () => {\n  return http.get(`${endpoint}/token-hint`);\n};\n\nexport const upgradeViaFile = (version, file) => {\n  let formData = new FormData();\n  formData.append('upgradeFile', file);\n  formData.append('version', version);\n  return http.post(`${endpoint}/upload-upgrade`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const fetchAppUrl = () => {\n  return http.get(`${endpoint}/app-url`);\n};\n\nexport const createRestartJob = body => {\n  return http.post(`${endpoint}/restart-job`, [body]);\n};\n\nexport const deleteRestartJob = body => {\n  return http.delete(`${endpoint}/restart-job`, { data: [body] });\n};\n\nexport const pingSystemService = () => {\n  return http.get(`${endpoint}/system/ping`);\n};\n","import http from '../axios';\n\nconst endpoint = '/system-service';\n\nexport const fetchSystemServices = () => {\n  return http.get(endpoint);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const fetchSystemStatByServiceName = serviceName => {\n  return http.get(`${endpoint}/${serviceName}`);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('generic-grid',{key:_vm.remount,attrs:{\"itemKey\":\"name\",\"service\":_vm.service,\"creatable\":false,\"deletable\":false,\"hideActions\":true,\"headers\":_vm.gridHeaders,\"toolbarTitle\":_vm.toolbarTitle},scopedSlots:_vm._u([{key:\"gridItemActions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('rbx-switch',{attrs:{\"value\":item.is_installed,\"enableText\":\"Installed\",\"disableText\":\"Not Installed\"},on:{\"input\":function () { return _vm.onGridItemInstallChange(item); }}})]}},{key:\"toolbarButtons\",fn:function(ref){\nvar selectedItems = ref.selectedItems;\nvar clearSelectedItems = ref.clearSelectedItems;\nreturn [_c('span',{staticClass:\"mr-2\"},[_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"disabled\":_vm.isDeletingDownloadState,\"x-small\":\"\",\"color\":\"downloadColor\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.multiStepDownloadInstall, selectedItems, clearSelectedItems); }}},[_vm._v(\"\\n          Download Apps\\n          \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-download \")])],1),_vm._v(\" \"),(_vm.showDownloadProgressIcon)?_c('v-progress-circular',{attrs:{\"width\":2,\"size\":15,\"color\":\"white\",\"indeterminate\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.showCheckDownloadIcon)?_c('v-icon',{attrs:{\"x-medium\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-check\")]):_vm._e()],1),_vm._v(\" \"),_c('v-btn',{staticClass:\"btn-height-22 white--text mr-2\",attrs:{\"disabled\":selectedItems && selectedItems.length == 0,\"x-small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.uninstall, selectedItems, clearSelectedItems); }}},[_vm._v(\"\\n        Uninstall Apps\\n        \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-trash-o \")])],1)]}}])}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.uninstall],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.uninstall); },\"on-confirm\":function () { return _vm.onUninstall(); },\"loading\":_vm.isUninstalling,\"dialog-text\":\"Do you want to uninstall these apps ?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":_vm.isUpgradePersistent,\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.multiStepDownloadInstall]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.multiStepDownloadInstall, $$v)},expression:\"dialog[dialogNames.multiStepDownloadInstall]\"}},[(_vm.remountDialog[_vm.dialogNames.multiStepDownloadInstall])?_c('rf-plugin-download',{attrs:{\"selectedPlugins\":_vm.selectedItem,\"startDownload\":_vm.downloadPlugin,\"installPlugins\":_vm.installPlugins,\"appDownloadStates\":_vm.appDownloadStates,\"clearSelectedApps\":_vm.clearSelectedApps,\"currentDownloadState\":_vm.currentDownloadState,\"deleteDownloadState\":_vm.deleteDownloadState,\"clearDownloadStateInterval\":_vm.clearDownloadStateInterval,\"closeDialog\":function (val, config) { return _vm.closeDialog(_vm.dialogNames.multiStepDownloadInstall, config); }}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from '../axios';\n\nexport const RfPluginUpgradeService = pluginName => {\n  const endpoint = `rf-plugin-upgrade/${pluginName}`;\n  return {\n    endpoint,\n    fetch: () => {\n      return http.get(endpoint);\n    },\n    download: plugins => {\n      const url = endpoint + '/download';\n      return http.post(url, plugins);\n    },\n    install: plugins => {\n      const url = endpoint + '/install';\n      return http.post(url, plugins);\n    },\n    uninstall: plugins => {\n      const url = endpoint + '/uninstall';\n      return http.post(url, plugins);\n    },\n    fetchDownloadState: () => {\n      const url = endpoint + '/downloadState';\n      return http.get(url);\n    },\n    deleteDownloadState: () => {\n      const url = endpoint + '/downloadState';\n      return http.delete(url);\n    },\n  };\n};\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxSwitch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxSwitch.vue?vue&type=script&lang=js&\"","<template>\n  <span>\n    <tooltip-icon-button\n      v-if=\"!_value\"\n      :btnColor=\"disableClr\"\n      buttonSize=\"medium\"\n      btnIcon=\"fa-toggle-off\"\n      :btnTooltip=\"disableTxt\"\n      :onClick=\"() => onInput(true)\"\n    />\n    <tooltip-icon-button\n      v-if=\"_value\"\n      :btnColor=\"enableClr\"\n      buttonSize=\"medium\"\n      btnIcon=\"fa-toggle-on\"\n      :btnTooltip=\"enableTxt\"\n      :onClick=\"() => onInput(false)\"\n    />\n  </span>\n</template>\n<script>\nimport TooltipIconButton from '../RubixApps/TooltipIconButton.vue';\n\nexport default {\n  name: 'switch',\n  props: ['value', 'enableText', 'disableText', 'enableColor', 'disableColor', 'disabled'],\n  data() {\n    return {};\n  },\n  components: { TooltipIconButton },\n  computed: {\n    _value: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        return value;\n      },\n    },\n    enableTxt() {\n      return this.enableText ? this.enableText : 'Enable';\n    },\n    disableTxt() {\n      return this.disableText ? this.disableText : 'Disable';\n    },\n    enableClr() {\n      return this.enableColor ? this.enableColor : 'green';\n    },\n    disableClr() {\n      return this.disableColor ? this.disableColor : 'orange';\n    },\n  },\n  methods: {\n    onInput(v) {\n      if (this.disabled) {\n        return;\n      }\n      this.$emit('input', v);\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./RbxSwitch.vue?vue&type=template&id=b66c5c2a&\"\nimport script from \"./RbxSwitch.vue?vue&type=script&lang=js&\"\nexport * from \"./RbxSwitch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(!_vm._value)?_c('tooltip-icon-button',{attrs:{\"btnColor\":_vm.disableClr,\"buttonSize\":\"medium\",\"btnIcon\":\"fa-toggle-off\",\"btnTooltip\":_vm.disableTxt,\"onClick\":function () { return _vm.onInput(true); }}}):_vm._e(),_vm._v(\" \"),(_vm._value)?_c('tooltip-icon-button',{attrs:{\"btnColor\":_vm.enableClr,\"buttonSize\":\"medium\",\"btnIcon\":\"fa-toggle-on\",\"btnTooltip\":_vm.enableTxt,\"onClick\":function () { return _vm.onInput(false); }}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackButton.vue?vue&type=script&lang=js&\"","<template>\n  <v-btn @click=\"onBack\" icon medium class=\"mr-1\">\n    <v-icon medium> fa-angle-left </v-icon>\n  </v-btn>\n</template>\n<script>\nexport default {\n  name: 'back-button',\n  methods: {\n    onBack() {\n      this.$router.go(-1);\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./BackButton.vue?vue&type=template&id=5073235d&\"\nimport script from \"./BackButton.vue?vue&type=script&lang=js&\"\nexport * from \"./BackButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.onBack}},[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\" fa-angle-left \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const DOWNLOAD_STATES = {\n  CLEARED: 'CLEARED',\n  DOWNLOADING: 'DOWNLOADING',\n  DOWNLOAD_COMPLETE: 'DOWNLOADED',\n};\n\nexport const REFRESH_TIME = 5000;\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rfPluginDownload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rfPluginDownload.vue?vue&type=script&lang=js&\"","<template>\n  <v-card>\n    <v-card-title>\n      <span class=\"headline\">{{ stepsModel[currentView].title }}</span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n        <v-stepper-items class=\"stepper-container\">\n          <v-stepper-content step=\"1\" class=\"pa-0\">\n            <v-list flat subheader dense class=\"text-left\">\n              <v-subheader>Selected Apps</v-subheader>\n\n              <v-list-item v-for=\"(app, i) in apps\" :key=\"`selected_apps-${i}`\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"app.displayName\"></v-list-item-title>\n                  <v-list-item-subtitle v-text=\"app.version\"></v-list-item-subtitle>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\" class=\"pa-0\">\n            <div class=\"text-left\">\n              <v-alert v-if=\"downloadStarted && currentDownloadState=='CLEARED'\" class=\"mb-0\" dense type=\"info\">\n                Fetching download status <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert v-if=\"currentDownloadState === 'DOWNLOADING'\" class=\"mb-0\" dense type=\"info\">\n                Downloading Selected App <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOADED'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n          </v-stepper-content>\n          <v-stepper-content step=\"3\" class=\"pa-0\">\n            <v-list-item v-for=\"(app, i) in downloadedApps\" :key=\"`selected_apps-${i}`\">\n              <v-list-item-content>\n                <v-list-item-title v-text=\"app.pluginName\"></v-list-item-title>\n              </v-list-item-content>\n              <v-list-item-icon>\n                <div v-if=\"app.isDownloading\">\n                  <span class=\"font-weight-medium\">\n                    <v-chip outlined color=\"downloadColor\">Downloading</v-chip>\n                  </span>\n                </div>\n                <div v-else-if=\"app.hasError\">\n                  <span class=\"font-weight-medium\">\n                    <v-chip outlined color=\"red\">Failed</v-chip>\n                  </span>\n                </div>\n                <div v-else-if=\"!app.isDownloading && !app.hasError\">\n                  <span class=\"font-weight-medium\">\n                    <v-chip outlined color=\"nubeGreen\">Downloaded</v-chip>\n                  </span>\n                </div>\n              </v-list-item-icon>\n            </v-list-item>\n          </v-stepper-content>\n          <v-stepper-content step=\"4\" class=\"pa-0\">\n            <v-list flat subheader dense class=\"text-left\" v-if=\"currentDownloadState === 'DOWNLOADED'\">\n              <v-list-item-group v-if=\"successInstallApps.length > 0\">\n                <v-subheader>Installation Completed Apps</v-subheader>\n\n                <v-list-item v-for=\"(successApps, i) in successInstallApps\" :key=\"`install-complete-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"successApps.plugin\"></v-list-item-title>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"blue\">Installed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n              <v-list-item-group v-if=\"failureInstallApps.length > 0\">\n                <v-subheader> Installation Failed Apps</v-subheader>\n                <v-list-item v-for=\"(failedApps, i) in failureInstallApps\" :key=\"`installation-failed-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"failedApps.plugin\"></v-list-item-title>\n                    <v-list-item-subtitle v-text=\"failedApps.version\"></v-list-item-subtitle>\n                    <v-list-item-subtitle v-text=\"failedApps.error\"></v-list-item-subtitle>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"red\">Failed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        x-small\n        class=\"btn-height-22 white--text\"\n        color=\"primary\"\n        @click=\"next\"\n        :loading=\"stepsModel[currentView].loader\"\n        :disabled=\"stepsModel[currentView].disabled\"\n        v-if=\"stepsModel[currentView].hasForward\"\n      >\n        {{\n          typeof stepsModel[currentView].buttonLabel === 'function'\n            ? stepsModel[currentView].buttonLabel(serviceStatus)\n            : stepsModel[currentView].buttonLabel\n        }}\n      </v-btn>\n      <v-btn\n        small\n        color=\"pink\"\n        :disabled=\"stepsModel[currentView].disabled\"\n        v-if=\"stepsModel[currentView].hasCancelInstallation\"\n        @click=\"cancelInstallation\"\n        text\n      >\n        Cancel Install\n      </v-btn>\n\n      <v-btn small text v-if=\"stepsModel[currentView].hasCancel\" @click=\"cancel\"> Close </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport { DOWNLOAD_STATES } from './rfPluginDownloadStates.js';\nexport default {\n  name: 'rf-plugin-download',\n  props: [\n    'selectedPlugins',\n    'startDownload',\n    'currentDownloadState',\n    'appDownloadStates',\n    'clearSelectedApps',\n    'clearDownloadStateInterval',\n    'deleteDownloadState',\n    'closeDialog',\n    'installPlugins',\n  ],\n  data() {\n    return {\n      currentView: 1,\n      downloadStarted: false,\n      successInstallApps: [],\n      failureInstallApps: [],\n      stepsModel: {\n        1: {\n          loader: false,\n          back: 1,\n          forward: 2,\n          hasForward: true,\n          disabled: false,\n          hasCancel: true,\n          title: 'Download',\n          buttonLabel: 'Download',\n        },\n        2: {\n          loader: false,\n          back: 1,\n          forward: 3,\n          disabled: true,\n          hasForward: true,\n          hasCancel: true,\n          title: 'Downloading',\n          buttonLabel: 'Continue',\n        },\n        3: {\n          loader: false,\n          back: 1,\n          forward: 3,\n          disabled: false,\n          hasForward: true,\n          title: 'Install',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n        },\n        4: {\n          loader: false,\n          back: 4,\n          forward: 4,\n          disabled: false,\n          hasForward: true,\n          title: 'Complete',\n          buttonLabel: 'Close',\n        },\n      },\n    };\n  },\n  updated() {\n    if(this.currentDownloadState === DOWNLOAD_STATES.DOWNLOAD_COMPLETE) {\n      this.stepsModel[2].disabled = false;\n    } else {\n      this.stepsModel[2].disabled = true;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  mounted() {\n    this.showDownloadStateView(this.currentDownloadState);\n  },\n  computed: {\n    apps() {\n      return this.selectedPlugins.map(app => ({\n        pluginName: app.name,\n        version: app.version,\n        displayName: app.name,\n        state: app.state,\n      }));\n    },\n    downloadedApps() {\n      return (this.appDownloadStates || [])\n        .filter(val => val && val.download)\n        .map(downloadState => ({\n          ...downloadState,\n          name: downloadState.plugin,\n          isDownloading: !downloadState.download,\n          pluginName: downloadState.plugin,\n          hasError: !!downloadState.error,\n          errorMessage: downloadState.error,\n        }));\n    },\n  },\n  methods: {\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.download();\n          break;\n        case 2:\n          this.currentView++;\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.resetPluginInstallation();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    install() {\n      this.spinLoader(true);\n      return this.installPlugins(this.downloadedApps)\n        .then(data => {\n          this.successInstallApps = data.filter(val => val.installation);\n          this.failureInstallApps = data.filter(val => !val.installation);\n          this.currentView = 4;\n        })\n        .catch(err => {\n          this.deleteDownloadState();\n          this.$toasted.show('Unexpected error occured while bulk installing apps. Please try again');\n        })\n        .finally(() => {\n          this.spinLoader(false);\n        });\n    },\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case DOWNLOAD_STATES.CLEARED:\n          this.currentView = 1;\n          this.stepsModel[2].disabled = true;\n          break;\n        case DOWNLOAD_STATES.DOWNLOADING:\n          this.stepsModel[2].disabled = true;\n          this.currentView = 2; // Download Waiting screen\n          break;\n        case DOWNLOAD_STATES.DOWNLOAD_COMPLETE:\n          this.stepsModel[2].disabled = false;\n          this.currentView = 2; // Show the install page\n          this.clearDownloadStateInterval();\n          break;\n      }\n    },\n    back() {\n      this.currentView--;\n    },\n    cancel() {\n      if (this.currentView == 1) {\n        this.deleteDownloadState();\n      }\n      this.closeDialog(true);\n    },\n    spinLoader(value) {\n      this.stepsModel[this.currentView].loader = value;\n    },\n    download() {\n      this.spinLoader(true);\n      this.startDownload(this.selectedPlugins)\n        .then(data => {\n          if (data && data.message.toLowerCase() == 'download started') {\n            this.downloadStarted = true;\n          }\n          this.stepsModel[2].disabled = true;\n          this.spinLoader(false);\n          this.currentView++;\n        })\n        .catch(() => {\n          this.spinLoader(false);\n        });\n    },\n    cancelInstallation() {\n      this.resetPluginInstallation();\n    },\n    resetPluginInstallation() {\n      this.currentView = 1;\n      this.successInstallApps = [];\n      this.failureInstallApps = [];\n      this.stepsModel = {\n        1: {\n          loader: false,\n          back: 1,\n          forward: 2,\n          hasForward: true,\n          disabled: false,\n          title: 'Download',\n          buttonLabel: 'Download',\n        },\n        2: {\n          loader: false,\n          back: 1,\n          forward: 3,\n          disabled: false,\n          hasForward: true,\n          title: 'Downloading',\n          buttonLabel: null,\n        },\n        3: {\n          loader: false,\n          back: 1,\n          forward: 3,\n          disabled: false,\n          hasForward: true,\n          title: 'Install',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n        },\n        4: {\n          loader: false,\n          back: 4,\n          forward: 4,\n          disabled: false,\n          hasForward: false,\n          title: 'Complete',\n          buttonLabel: 'Close',\n        },\n      };\n      this.deleteDownloadState();\n      this.clearSelectedApps();\n      this.closeDialog(true, { unmount: true });\n    },\n  },\n};\n</script>\n<style scoped>\n.stepper-container {\n  max-height: 35vh;\n  overflow-y: scroll;\n}\n\n.stepper-container::-webkit-scrollbar {\n  width: 10px;\n}\n\n.stepper-container::-webkit-scrollbar-track {\n  background: #202020;\n  border-left: 1px solid #2c2c2c;\n}\n\n.stepper-container::-webkit-scrollbar-thumb {\n  background: #3e3e3e;\n  border: solid 2px #202020;\n  border-radius: 6px;\n}\n\n.stepper-container::-webkit-scrollbar-thumb:hover {\n  background: white;\n}\n</style>\n","import { render, staticRenderFns } from \"./rfPluginDownload.vue?vue&type=template&id=ebc3ad00&scoped=true&\"\nimport script from \"./rfPluginDownload.vue?vue&type=script&lang=js&\"\nexport * from \"./rfPluginDownload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rfPluginDownload.vue?vue&type=style&index=0&id=ebc3ad00&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ebc3ad00\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.stepsModel[_vm.currentView].title))])]),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',{staticClass:\"stepper-container\"},[_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"1\"}},[_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Selected Apps\")]),_vm._v(\" \"),_vm._l((_vm.apps),function(app,i){return _c('v-list-item',{key:(\"selected_apps-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.displayName)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(app.version)}})],1)],1)})],2)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"2\"}},[_c('div',{staticClass:\"text-left\"},[(_vm.downloadStarted && _vm.currentDownloadState=='CLEARED')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Fetching download status \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOADING')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading Selected App \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOADED')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1)]),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"3\"}},_vm._l((_vm.downloadedApps),function(app,i){return _c('v-list-item',{key:(\"selected_apps-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.pluginName)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[(app.isDownloading)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"downloadColor\"}},[_vm._v(\"Downloading\")])],1)]):(app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)]):(!app.isDownloading && !app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"nubeGreen\"}},[_vm._v(\"Downloaded\")])],1)]):_vm._e()])],1)}),1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"4\"}},[(_vm.currentDownloadState === 'DOWNLOADED')?_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[(_vm.successInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\"Installation Completed Apps\")]),_vm._v(\" \"),_vm._l((_vm.successInstallApps),function(successApps,i){return _c('v-list-item',{key:(\"install-complete-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(successApps.plugin)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"blue\"}},[_vm._v(\"Installed\")])],1)])])],1)})],2):_vm._e(),_vm._v(\" \"),(_vm.failureInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\" Installation Failed Apps\")]),_vm._v(\" \"),_vm._l((_vm.failureInstallApps),function(failedApps,i){return _c('v-list-item',{key:(\"installation-failed-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(failedApps.plugin)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.version)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.error)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)])])],1)})],2):_vm._e()],1):_vm._e()],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[(_vm.stepsModel[_vm.currentView].hasForward)?_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"loading\":_vm.stepsModel[_vm.currentView].loader,\"disabled\":_vm.stepsModel[_vm.currentView].disabled},on:{\"click\":_vm.next}},[_vm._v(\"\\n      \"+_vm._s(typeof _vm.stepsModel[_vm.currentView].buttonLabel === 'function'\n          ? _vm.stepsModel[_vm.currentView].buttonLabel(_vm.serviceStatus)\n          : _vm.stepsModel[_vm.currentView].buttonLabel)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.stepsModel[_vm.currentView].hasCancelInstallation)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"pink\",\"disabled\":_vm.stepsModel[_vm.currentView].disabled,\"text\":\"\"},on:{\"click\":_vm.cancelInstallation}},[_vm._v(\"\\n      Cancel Install\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.stepsModel[_vm.currentView].hasCancel)?_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Close \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { RfPluginUpgradeService } from './rfPluginUpgradeService';\n\nconst PLUGIN_NAME = 'FLOW_FRAMEWORK';\n\nconst rfPluginUpgradeService = RfPluginUpgradeService(PLUGIN_NAME);\n\nexport default rfPluginUpgradeService;\n","<template>\n  <div>\n    <generic-grid\n      :key=\"remount\"\n      itemKey=\"name\"\n      :service=\"service\"\n      :creatable=\"false\"\n      :deletable=\"false\"\n      :hideActions=\"true\"\n      :headers=\"gridHeaders\"\n      :toolbarTitle=\"toolbarTitle\"\n    >\n      <template v-slot:gridItemActions=\"{ item }\">\n        <rbx-switch\n          :value=\"item.is_installed\"\n          @input=\"() => onGridItemInstallChange(item)\"\n          enableText=\"Installed\"\n          disableText=\"Not Installed\"\n        ></rbx-switch>\n      </template>\n      <template v-slot:toolbarButtons=\"{ selectedItems, clearSelectedItems }\">\n        <span class=\"mr-2\">\n          <v-btn\n            :disabled=\"isDeletingDownloadState\"\n            @click=\"() => toggleDialog(dialogNames.multiStepDownloadInstall, selectedItems, clearSelectedItems)\"\n            x-small\n            color=\"downloadColor\"\n            class=\"btn-height-22 white--text\"\n          >\n            Download Apps\n            <v-icon x-small right dark> fa-download </v-icon>\n          </v-btn>\n          <v-progress-circular\n            v-if=\"showDownloadProgressIcon\"\n            :width=\"2\"\n            :size=\"15\"\n            color=\"white\"\n            indeterminate\n          ></v-progress-circular>\n          <v-icon v-if=\"showCheckDownloadIcon\" x-medium dark> fa-check</v-icon>\n        </span>\n        <v-btn\n          :disabled=\"selectedItems && selectedItems.length == 0\"\n          @click=\"() => toggleDialog(dialogNames.uninstall, selectedItems, clearSelectedItems)\"\n          x-small\n          color=\"error\"\n          class=\"btn-height-22 white--text mr-2\"\n        >\n          Uninstall Apps\n          <v-icon x-small right dark> fa-trash-o </v-icon>\n        </v-btn>\n      </template>\n    </generic-grid>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.uninstall]\"\n      :on-close=\"() => closeDialog(dialogNames.uninstall)\"\n      :on-confirm=\"() => onUninstall()\"\n      :loading=\"isUninstalling\"\n      dialog-text=\"Do you want to uninstall these apps ?\"\n    ></confirm-dialog>\n\n    <v-dialog\n      v-model=\"dialog[dialogNames.multiStepDownloadInstall]\"\n      :persistent=\"isUpgradePersistent\"\n      max-width=\"500px\"\n    >\n      <rf-plugin-download\n        :selectedPlugins=\"selectedItem\"\n        :startDownload=\"downloadPlugin\"\n        :installPlugins=\"installPlugins\"\n        :appDownloadStates=\"appDownloadStates\"\n        :clearSelectedApps=\"clearSelectedApps\"\n        :currentDownloadState=\"currentDownloadState\"\n        :deleteDownloadState=\"deleteDownloadState\"\n        :clearDownloadStateInterval=\"clearDownloadStateInterval\"\n        v-if=\"remountDialog[dialogNames.multiStepDownloadInstall]\"\n        :closeDialog=\"(val, config) => closeDialog(dialogNames.multiStepDownloadInstall, config)\"\n      ></rf-plugin-download>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport RbxSwitch from '../../Common/RbxSwitch.vue';\nimport BackButton from '../../Common/BackButton.vue';\nimport RfPluginDownload from './rfPluginDownload.vue';\nimport GenericGrid from '../../Common/GenericGrid.vue';\nimport * as gridNames from '../../../constants/gridNames';\nimport ConfirmDialog from '../../Common/ConfirmDialog.vue';\nimport * as appsService from '../../../services/appsService';\nimport TooltipIconButton from '../../RubixApps/TooltipIconButton.vue';\nimport { DOWNLOAD_STATES, REFRESH_TIME } from './rfPluginDownloadStates.js';\nimport rfFlowFrameworkUpgradeService from '../../../services/rfFlowFrameworkUpgradeService';\nimport { RUBIX_APP_STATUS_CONTROL_ACTIONS, SERVICE_NAMES } from '../../../constants/appConstant';\nconst dialogNames = {\n  multiStepDownloadInstall: 'multiStepDownloadInstall',\n  uninstall: 'uninstall',\n};\n\nexport default {\n  name: 'flow-framework-upgrade',\n  components: { BackButton, RbxSwitch, GenericGrid, TooltipIconButton, RfPluginDownload, ConfirmDialog },\n  data() {\n    return {\n      remount: 0,\n      isUninstalling: false,\n      isUpgradePersistent: true,\n      isFetchingDownloadState: false,\n      currentDownloadState: null,\n      downloadStateInterval: null,\n      clearSelectedItems: null,\n      service: rfFlowFrameworkUpgradeService,\n      gridName: gridNames.RF_FLOW_FRAMEWORK_UPGRADE,\n      toolbarTitle: 'Plugin Distros',\n      selectedItem: null,\n      isDeletingDownloadState: false,\n      appDownloadStates: [],\n      dialogNames: { ...dialogNames },\n      dialog: {\n        [dialogNames.multiStepDownloadInstall]: false,\n        [dialogNames.uninstall]: false,\n      },\n      remountDialog: {\n        [dialogNames.multiStepDownloadInstall]: true,\n      },\n      gridHeaders: [\n        {\n          text: 'Name',\n          align: 'center',\n          value: 'name',\n          sortable: true,\n        },\n        {\n          text: 'Current Version',\n          align: 'center',\n          value: 'version',\n          sortable: true,\n        },\n        {\n          text: 'Installed',\n          value: 'gridItemActions',\n        },\n      ],\n    };\n  },\n  computed: {\n    showCheckDownloadIcon() {\n      return this.currentDownloadState === DOWNLOAD_STATES.DOWNLOAD_COMPLETE;\n    },\n    showDownloadProgressIcon() {\n      return this.currentDownloadState === DOWNLOAD_STATES.DOWNLOADING;\n    },\n  },\n  mounted() {\n    this.fetchDownloadState();\n  },\n  destroyed() {\n    clearInterval(this.downloadStateInterval);\n  },\n  methods: {\n    installPlugins(plugins) {\n      const payload = plugins.map(selectedApp => ({ plugin: selectedApp.name }));\n\n      return rfFlowFrameworkUpgradeService\n        .install(payload)\n        .then(data => {\n          this.remount++;\n          return data;\n        })\n        .then(data => {\n          // restart FF framework service\n          appsService.changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART, SERVICE_NAMES.RUBIX_FLOW_FRAMEWORK);\n          return data;\n        });\n    },\n    downloadPlugin(selectedApps) {\n      const payload = selectedApps.map(selectedApp => ({ plugin: selectedApp.name }));\n      return rfFlowFrameworkUpgradeService.download(payload).then(data => {\n        this.startDownloadStateInterval();\n        return data;\n      });\n    },\n    deleteDownloadState() {\n      this.isDeletingDownloadState = true;\n      return rfFlowFrameworkUpgradeService\n        .deleteDownloadState()\n        .then(data => data)\n        .finally(() => {\n          this.fetchDownloadState();\n          this.clearDownloadStateInterval();\n          this.isDeletingDownloadState = false;\n        });\n    },\n    fetchDownloadState() {\n      this.isFetchingDownloadState = true;\n      rfFlowFrameworkUpgradeService\n        .fetchDownloadState()\n        .then(data => {\n          this.isFetchingDownloadState = false;\n\n          const { state: downloadState, plugins } = data;\n          this.currentDownloadState = downloadState;\n          switch (downloadState) {\n            case DOWNLOAD_STATES.CLEARED:\n              this.clearDownloadStateInterval();\n              break;\n            case DOWNLOAD_STATES.DOWNLOADING:\n              this.startDownloadStateInterval();\n              this.isUpgradePersistent = false;\n              break;\n            case DOWNLOAD_STATES.DOWNLOAD_COMPLETE:\n              this.isUpgradePersistent = true;\n              break;\n          }\n          if (Array.isArray(plugins)) {\n            this.appDownloadStates = plugins;\n          }\n        })\n        .finally(() => {\n          this.isFetchingDownloadState = false;\n        });\n    },\n    onUninstall() {\n      const payload = (this.selectedItem || []).map(selectedApp => ({ plugin: selectedApp.name }));\n      if (!payload.length) {\n        return;\n      }\n      this.isUninstalling = true;\n      return rfFlowFrameworkUpgradeService\n        .uninstall(payload)\n        .then(data => {\n          this.$toasted.show('Successfully uninstalled plugins.');\n          this.closeDialog(this.dialogNames.uninstall);\n          this.remount++;\n          appsService.changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART, SERVICE_NAMES.RUBIX_FLOW_FRAMEWORK);\n          return data;\n        })\n        .catch(err => {\n          this.$toasted.show('Failed to uninstall plugins.', { type: 'error' });\n        })\n        .finally(() => {\n          this.isUninstalling = false;\n        });\n    },\n    startDownloadStateInterval() {\n      if (!this.downloadStateInterval) {\n        this.downloadStateInterval = setInterval(() => {\n          if (!this.isFetchingDownloadState) {\n            this.fetchDownloadState();\n          }\n        }, REFRESH_TIME);\n      }\n    },\n    clearDownloadStateInterval() {\n      clearInterval(this.downloadStateInterval);\n      this.downloadStateInterval = null;\n    },\n    closeDialog(dialogName, config) {\n      this.dialog[dialogName] = false;\n      if (config && config.unmount && this.remountDialog[dialogName]) {\n        this.remountDialog[dialogName] = false;\n        setTimeout(() => {\n          this.remountDialog[dialogName] = true;\n        }, 500);\n      }\n      this.selectedApp = {};\n    },\n    clearSelectedApps() {\n      if (typeof this.clearSelectedItems === 'function') {\n        this.clearSelectedItems();\n      }\n    },\n    toggleDialog(dialogName, item, fn) {\n      this.selectedItem = item;\n      this.clearSelectedItems = fn;\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedItem = item;\n      } else {\n        this.selectedItem = null;\n      }\n    },\n    onGridItemInstallChange(item) {\n      if (!item.is_installed) {\n        this.toggleDialog(this.dialogNames.multiStepDownloadInstall, [{ ...item }]);\n      } else if (item.is_installed) {\n        this.toggleDialog(this.dialogNames.uninstall, [{ ...item }]);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rfFrameworkUpgrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rfFrameworkUpgrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rfFrameworkUpgrade.vue?vue&type=template&id=79bf6042&\"\nimport script from \"./rfFrameworkUpgrade.vue?vue&type=script&lang=js&\"\nexport * from \"./rfFrameworkUpgrade.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\nimport qs from 'query-string';\nimport * as rubixService from './rubixService';\nimport { RUBIX_APP_TYPES, RUBIX_APP_STATUS_CONTROL_ACTIONS } from '../constants/appConstant';\nimport * as systemSettingService from './systemSettingService';\nimport { exportENV, exportJSON, exportOpenVPNConfig } from '../utils/utils';\n\nconst endpoint = '/rubix-app';\n\nexport const fetchApps = () => {\n  const queryParams = qs.stringify({\n    browser_download_url: true,\n    latest_version: true,\n  });\n  return http.get(`${endpoint}?${queryParams}`);\n};\n\nexport const fetchAllApps = () => {\n  return systemSettingService.fetchSystemServices();\n};\n\nexport const fetchAllInstalledApps = () => {\n  return http.get(`${endpoint}`).then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchSystemDefaultApps = () => {\n  return systemSettingService\n    .fetchSystemServices()\n    .then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchAppReleases = appName => {\n  return http.get(`${endpoint}/releases/${appName}`);\n};\n\nexport const fetchAppsReleases = services => {\n  return Promise.all(services.map(service => fetchAppReleases(service).catch(err => [])));\n};\n\nexport const fetchAppStatus = (appName, options = {}) => {\n  return http.get(`${endpoint}/stats/${appName}`, options);\n};\n\nexport const uninstallApp = appName => {\n  return http.post(`${endpoint}/uninstall`, { service: appName });\n};\n\nexport const installApp = body => {\n  return http.post(`${endpoint}/install`, [body]);\n};\n\nexport const downloadApp = body => {\n  return http.post(`${endpoint}/download`, [body]);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const uploadApp = (file, serviceName, version) => {\n  let formData = new FormData();\n  formData.append('file', file);\n  formData.append('service', serviceName);\n  formData.append('version', version);\n  return http.post(`${endpoint}/app-upload`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const deleteAppData = serviceName => {\n  return http.post(`${endpoint}/delete-app-data`, [{ service: serviceName }]);\n};\n\nexport const deleteAppDataService = serviceName => {\n  return deleteAppData(serviceName);\n};\n\nexport const downloadAppData = async serviceName => {\n  const data = await rubixService.fetchAppUrl();\n  const url = `${data.data}api/app/download_data?service=${serviceName}`;\n  return http.get(url, {\n    headers: {\n      'Content-Type': 'application/zip',\n    },\n    responseType: 'arraybuffer',\n  });\n};\n\nexport const fetchJSONConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/json-config/${serviceName}`, config);\n};\n\nexport const fetchOpenVPNConfig = (serviceName, axiosConfig) => {\n  return http.get(`${endpoint}/open-vpn-config/${serviceName}`, axiosConfig);\n};\n\nexport const fetchEnvConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/env/${serviceName}`, config);\n};\n\nexport const fetchAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config).then(({ data }) => data);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config).then(({ data }) => data);\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return fetchOpenVPNConfig(serviceName, config).then(({ data }) => data);\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const saveJSONConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/json-config`, { service: serviceName, data: config });\n};\n\nexport const saveENVConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/env`, { service: serviceName, data: config });\n};\n\nexport const saveOpenVPNConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/open-vpn-config`, { service: serviceName, data: config });\n};\n\nexport const saveAppConfig = (serviceName, appType, config) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return saveJSONConfig(serviceName, config || {});\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return saveENVConfig(serviceName, config || '');\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return saveOpenVPNConfig(serviceName, config);\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const deleteJSONConfig = serviceName => {\n  return http.delete(`${endpoint}/json-config`, { data: { service: serviceName } });\n};\n\nexport const deleteENVConfig = serviceName => {\n  return http.delete(`${endpoint}/env`, { data: { service: serviceName } });\n};\n\nexport const deleteOpenVPNConfig = serviceName => {\n  return http.delete(`${endpoint}/open-vpn-config`, { data: { service: serviceName } });\n};\n\nexport const deleteAppConfig = (serviceName, appType) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return deleteJSONConfig(serviceName);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return deleteENVConfig(serviceName);\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return deleteOpenVPNConfig(serviceName);\n  }\n  throw new Error('App type not supported for deletion');\n};\n\nexport const downloadAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config).then(({ data }) => {\n      exportJSON(`${serviceName}-config`, JSON.stringify(data));\n    });\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config).then(({ data }) => {\n      exportENV(`${serviceName}`, data);\n    });\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return fetchOpenVPNConfig(serviceName, config).then(({ data }) => {\n      exportOpenVPNConfig(`${serviceName}`, data);\n    });\n  }\n  throw new Error('App type not supported for download config');\n};\n\nexport const bulkAppControl = actions => http.post(`${endpoint}/control`, actions);\n\nexport const bulkInstallApps = services => http.post(`${endpoint}/install`, services);\n\nexport const bulkDownloadApps = services => http.post(`${endpoint}/download`, services);\n\nexport const fetchDownloadState = () => http.get(`${endpoint}/download-state`, { restrictToast: true });\n\nexport const deleteDownloadState = () => http.delete(`${endpoint}/download-state`);\n\nexport const createRestartJob = body => {\n  return http.post(`${endpoint}/restart-job`, [body]);\n};\n\nexport const deleteRestartJob = body => {\n  return http.delete(`${endpoint}/restart-job`, { data: [body] });\n};\n\nexport const isSelfRestart = (action, apps, global_uuid) => {\n  return action === RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART && apps.filter(app=> app.service === 'RUBIX_PLAT').map(app=> app.slaveId).includes(global_uuid)\n};\n\nexport const isSelfInstall = (service, isMaster) => {\n  return service === 'RUBIX_PLAT' && isMaster;\n};\n"],"sourceRoot":""}