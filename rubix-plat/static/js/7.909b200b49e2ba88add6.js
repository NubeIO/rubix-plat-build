(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3saC":function(t,e,i){"use strict";var n={props:["on-copy"],methods:{copyToClipboard:function(t){var e=this;this.$copyText(t,this.$refs.copyClipboard).then((function(){e.$toasted.show("Copied to clipboard!",{type:"success"})}),(function(){e.$toasted.show("Cannot copy to clipboard.",{type:"error"})}))}}},a=i("psIG"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{ref:"copyClipboard"},[i("v-btn",{staticClass:"white-text",attrs:{"x-small":"",color:"#009688"},on:{click:function(){return t.onCopy(t.copyToClipboard)}}},[i("span",[t._v("Copy  ")]),t._v(" "),i("v-icon",{attrs:{small:""}},[t._v("mdi-export")])],1)],1)}),[],!1,null,null,null);e.a=o.exports},"7Vew":function(t,e,i){"use strict";var n={name:"text-field-display",props:["label","value"]},a=i("psIG"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.label?i("div",{staticClass:"grey--text caption mb-2"},[i("span",[t._v(t._s(t.label))])]):t._e(),t._v(" "),t.value?i("div",{staticClass:"font-weight-medium text-ellipses"},[i("span",{staticClass:"field-display-value",attrs:{title:t.value}},[t._v(t._s(t.value))])]):t._e()])}),[],!1,null,null,null);e.a=o.exports},E8PC:function(t,e,i){"use strict";e.a=i.p+"static/img/nube-frog-green.489e567.png"},OKta:function(t,e,i){"use strict";var n={name:"rbx-button",props:["title","after-icon","color","click","is-small","class-name","disabled","block","loading"]},a=i("psIG"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{class:t.className,attrs:{loading:t.loading,"x-small":t.isSmall,disabled:t.disabled,color:t.color,block:t.block},on:{click:t.click}},[i("span",[t._v(t._s(t.title)+" ")]),t._v(" "),t.afterIcon?i("v-icon",{attrs:{small:t.isSmall}},[t._v(t._s(t.afterIcon))]):t._e()],1)}),[],!1,null,null,null);e.a=o.exports},"Wgf/":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s}));var n=i("uzYq"),a="/system-service",o=function(){return n.a.get(a)},s=function(t,e){return n.a.post(a+"/control",[{action:t,service:e}])}},YfxP:function(t,e,i){"use strict";var n={name:"full-screen-container",props:["title","on-back"]},a=i("psIG"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[i("v-btn",{staticClass:"white--text mr-1",attrs:{icon:"",medium:""},on:{click:t.onBack}},[i("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-arrow-left ")])],1),t._v(" "),i("v-container",{staticClass:"text-left",attrs:{fluild:""}},[t._v(t._s(t.title))])],1),t._v(" "),i("v-container",{attrs:{fluid:""}},[t._t("default")],2)],1)}),[],!1,null,null,null);e.a=o.exports},Zepl:function(t,e,i){"use strict";e.a={required:function(t){return!!t||"Required"},number:function(t){return!function(t){return isNaN(+t)}(t)||"Value should be a number"},isIpAddress:function(t){return!(!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e=t)&&!/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/g.test(e)&&"localhost"!==(""+e).toLowerCase())||"Invalid IP Address";var e},isJsonString:function(t){return function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(t)||"Data should be in a valid JSON format"}}},lkCm:function(t,e,i){"use strict";var n={name:"confirm-dialog",props:["on-close","on-confirm","dialog-text","is-open","loading"]},a=i("psIG"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[i("v-card",[i("v-card-title",[i("v-icon",{attrs:{color:"warning"}},[t._v(" mdi-alert-outline ")]),t._v(" Confirm ")],1),t._v(" "),i("v-card-text",[i("v-container",[i("v-row",[t._v(t._s(t.dialogText))])],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{text:""},on:{click:t.onClose}},[t._v(" No ")]),t._v(" "),i("v-btn",{attrs:{color:"red darken-1",loading:t.loading,text:""},on:{click:t.onConfirm}},[t._v(" Yes ")])],1)],1)],1)}),[],!1,null,null,null);e.a=o.exports},nz6T:function(t,e,i){"use strict";i.d(e,"o",(function(){return m})),i.d(e,"k",(function(){return p})),i.d(e,"r",(function(){return g})),i.d(e,"m",(function(){return h})),i.d(e,"p",(function(){return b})),i.d(e,"n",(function(){return C})),i.d(e,"u",(function(){return w})),i.d(e,"s",(function(){return x})),i.d(e,"h",(function(){return _})),i.d(e,"c",(function(){return A})),i.d(e,"v",(function(){return y})),i.d(e,"e",(function(){return k})),i.d(e,"f",(function(){return S})),i.d(e,"j",(function(){return I})),i.d(e,"l",(function(){return q})),i.d(e,"t",(function(){return N})),i.d(e,"d",(function(){return B})),i.d(e,"i",(function(){return P})),i.d(e,"b",(function(){return U})),i.d(e,"a",(function(){return E})),i.d(e,"q",(function(){return F})),i.d(e,"g",(function(){return O}));var n=i("/9Wh"),a=i.n(n),o=i("OBCi"),s=i.n(o),r=i("uzYq"),l=i("NWgQ"),c=i.n(l),u=i("A5Vd"),d=i("Wgf/"),v=i("+n12"),f="/rubix-app",m=function(){var t=c.a.stringify({browser_download_url:!0,latest_version:!0});return r.a.get(f+"?"+t)},p=function(){return r.a.get(""+f).then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},g=function(){return d.b().then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},h=function(t){return r.a.get(f+"/releases/"+t)},b=function(t){return s.a.all(t.map((function(t){return h(t).catch((function(t){return[]}))})))},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.a.get(f+"/stats/"+t,e)},w=function(t){return r.a.post(f+"/uninstall",{service:t})},x=function(t){return r.a.post(f+"/install",[t])},_=function(t){return r.a.post(f+"/download",[t])},A=function(t,e){return r.a.post(f+"/control",[{action:t,service:e}])},y=function(t,e,i){var n=new FormData;return n.append("file",t),n.append("service",e),n.append("version",i),r.a.post(f+"/app-upload",n,{headers:{"Content-Type":"multipart/form-data"}})},k=function(t){return r.a.post(f+"/delete-app-data",[{service:t}])},S=function(t){return k(t)},I=function(t,e){var i="http://"+e.globalIp+":"+e.rubixServicePort+"/api/app/download_data?service="+t;return r.a.get(i,{headers:{"Content-Type":"application/zip"},responseType:"arraybuffer"})},D=function(t,e){return r.a.get(f+"/json-config/"+t,e)},R=function(t,e){return r.a.get(f+"/env/"+t,e)},q=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return D(t,i);if(e===u.g.FRONTEND_APP)return R(t,i);throw new Error("App type not supported for editing config")},N=function(t,e,i){if(e===u.g.PYTHON_APP)return function(t,e){return r.a.put(f+"/json-config",{service:t,data:e})}(t,i||{});if(e===u.g.FRONTEND_APP)return function(t,e){return r.a.put(f+"/env",{service:t,data:e})}(t,i||"");throw new Error("App type not supported for editing config")},B=function(t,e){if(e===u.g.PYTHON_APP)return function(t){return r.a.delete(f+"/json-config",{data:{service:t}})}(t);if(e===u.g.FRONTEND_APP)return function(t){return r.a.delete(f+"/env",{data:{service:t}})}(t);throw new Error("App type not supported for deletion")},P=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return D(t,i).then((function(e){Object(v.f)(t+"-config",a()(e))}));if(e===u.g.FRONTEND_APP)return R(t,i).then((function(e){Object(v.d)(""+t,e)}));throw new Error("App type not supported for download config")},U=function(t){return r.a.post(f+"/install",t)},E=function(t){return r.a.post(f+"/download",t)},F=function(){return r.a.get(f+"/download-state",{restrictToast:!0})},O=function(){return r.a.delete(f+"/download-state")}},ptLt:function(t,e,i){"use strict";var n=i("Zepl"),a={props:["closeDialogImport","saveImport"],data:function(){return{rules:{required:n.a.required,isJsonString:n.a.isJsonString},dataImport:"",valid:!1}},mounted:function(){this.$refs.form.rules=[]},methods:{onSave:function(t){this.$refs.form.validate()&&(this.saveImport(t,this.onCancel),this.dataImport="")},onCancel:function(){this.dataImport="",this.$refs.form.resetValidation(),this.closeDialogImport()}}},o=i("psIG"),s=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[t._v(" Import ")]),t._v(" "),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Import data",required:"",rules:[t.rules.required,t.rules.isJsonString]},model:{value:t.dataImport,callback:function(e){t.dataImport=e},expression:"dataImport"}})],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"darken-1",text:""},on:{click:t.onCancel}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{color:"blue darken-2",disabled:!t.valid},on:{click:function(e){return t.onSave(t.dataImport)}}},[t._v("Save")])],1)],1)}),[],!1,null,null,null);e.a=s.exports},vQiG:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a})),i.d(e,"f",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"g",(function(){return r})),i.d(e,"d",(function(){return l})),i.d(e,"e",(function(){return c}));var n={success:"Successfully updated status change.",error:"Status change unsuccessful."},a={success:"Successfully updated setting.",error:"Status change unsucessful."},o={success:"Upgrade successful.",error:"Upgrade unsuccessful."},s={success:"Successfully created mapping.",error:"Mapping could not be created."},r={success:"Successfully updated mapping.",error:"Mapping could not be updated."},l={success:"Successfully deleted mapping",error:"Mapping could not be deleted"},c={success:"Successfully deleted mapping(s)",error:"Mapping(s) could not be deleted"}},vn8H:function(t,e,i){"use strict";i.r(e);var n=i("TcPG"),a=i.n(n),o=i("t3kO"),s=i.n(o),r=i("E8PC"),l=i("A5Vd"),c=i("06Hw"),u=i.n(c),d=i("YYXh"),v=i.n(d),f=i("uzYq"),m=i("VleD"),p={props:["onSave","onCancel","hasBackButton"],data:function(){return{rules:{required:function(t){return!!t||"Required"}},newPasswordRules:[function(t){return!!t||"Required."},function(t){return!!t.match("(?=.*?[A-Z])")||"At least 1 Uppercase"},function(t){return!!t.match("(?=.*?[0-9])")||"At least 1 Number"},function(t){return t.length>=8||"At least 8 charaters"}],valid:!1,newPassword:"",retypePassword:"",currentPassword:"",disable:!0}},methods:{onChangePassword:function(){this.disable=!0,this.newPassword.match("(?=.*?[A-Z])(?=.*?[0-9]).{8,}")&&this.retypePassword===this.newPassword&&(this.disable=!1)},logout:function(){m.c("jwt"),m.c("user"),this.$router.push("/login")},onSubmit:function(t){var e=this;return v()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.newPassword.match("(?=.*?[A-Z])(?=.*?[0-9]){8,}")&&f.a.put("auth/update-password",t).then((function(t){e.$toasted.show("Changed Password Successfully",{type:"success"}),"function"==typeof e.onSave&&e.onSave(),e.logout()}));case 1:case"end":return i.stop()}}),i,e)})))()}},computed:{formData:function(){return{currentPassword:this.currentPassword,newPassword:this.newPassword,retypePassword:this.retypePassword}}}},g=i("psIG"),h=Object(g.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[t.hasBackButton?i("v-btn",{staticClass:"white--text mr-1",attrs:{icon:"",medium:""},on:{click:t.onCancel}},[i("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-arrow-left ")])],1):t._e(),t._v(" "),i("v-container",{staticClass:"text-left",attrs:{fluild:""}},[t._v("Update Password")])],1),t._v(" "),i("v-container",{attrs:{fluild:""}},[i("v-row",[i("v-col",{attrs:{md:"4",sm:"12"}},[i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{sm:"12"}},[i("v-text-field",{attrs:{type:"password",label:"Current Password",required:"",rules:[t.rules.required]},on:{input:t.onChangePassword},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}})],1)],1),t._v(" "),i("v-row",[i("v-col",{attrs:{sm:"12"}},[i("v-text-field",{attrs:{type:"password",label:"New Password",required:"",rules:t.newPasswordRules},on:{input:t.onChangePassword},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1)],1),t._v(" "),i("v-row",[i("v-col",{attrs:{sm:"12"}},[i("v-text-field",{attrs:{type:"password",label:"Retype Password",required:"",rules:[t.rules.required]},on:{input:t.onChangePassword},model:{value:t.retypePassword,callback:function(e){t.retypePassword=e},expression:"retypePassword"}})],1)],1)],1)],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-card-actions",{staticClass:"align-end justify-end"},[i("v-btn",{attrs:{color:"darken-1",text:""},on:{click:t.onCancel}},[t._v(" Cancel ")]),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",disabled:t.disable,text:""},on:{click:function(e){return t.onSubmit(t.formData)}}},[t._v(" Save ")])],1)],1)],1)],1)],1)}),[],!1,null,"3da0328f",null).exports,b=i("yEOx"),C=i.n(b),w=i("08eb"),x=i.n(w),_=i("Kz1y"),A=i.n(_),y=i("/9Wh"),k=i.n(y),S=i("3saC"),I=i("+n12"),D=i("YfxP"),R={name:"device-info",props:["on-cancel"],components:{FullScreenContainer:D.a,CopyClipboard:S.a},data:function(){return{rules:{required:function(t){return!!t||"Required."}},valid:!1,confirmDialog:!1,importDialog:!1,uuid:"",dataImport:"",item:{}}},mounted:function(){var t=this;return v()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e,t)})))()},methods:{clickJsonExport:function(){var t=C()(this.item);t.device_id=null;var e=Object(I.a)(k()(t)),i=e?"Copied to clipboard!":"Failure on copying on clipboard!",n=e?"success":"error";return this.$toasted.show(i,{type:n})},handleSave:function(){var t=this;return v()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.form.validate()&&f.a.put("rubix-service/plat",t.item).then((function(e){e.notif;t.$toasted.show("Device info saved successfully."),t.getData()}));case 1:case"end":return e.stop()}}),e,t)})))()},closeDialogImport:function(){var t=this;this.importDialog=!1,this.$nextTick((function(){t.dataImport=""}))},saveImport:function(){var t=this;return v()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(I.k)(t.dataImport)){e.next=2;break}return e.abrupt("return",t.$toasted.show("Data type incorrect!",{type:"error"}));case 2:t.item=JSON.parse(t.dataImport),t.closeDialogImport();case 4:case"end":return e.stop()}}),e,t)})))()},getData:function(){var t=this;f.a.get("rubix-service/plat").then((function(e){t.item=e}))},generateUuid:function(){var t=this;return v()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("generate-uuid");case 3:t.uuid=e.sent,t.confirmDialog=!0,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toasted.show("Error occured while generating uuid");case 10:case"end":return e.stop()}}),e,t,[[0,7]])})))()},onYes:function(){this.item.device_id=this.uuid,this.confirmDialog=!1},onCopy:function(t){var e=C()(this.item);e.device_id=null,t(k()(e))}}},q=Object(g.a)(R,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("full-screen-container",{attrs:{"on-back":t.onCancel,title:"Device Infomation"}},[i("v-row",[i("v-col",{attrs:{md:"12",sm:"12"}},[i("v-card",{staticStyle:{padding:"30px"}},[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Device Detail Form")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{staticClass:"white--text",attrs:{"x-small":"",color:"#FF9800"},on:{click:t.generateUuid}},[t._v(" Generate UUID ")]),t._v(" \n          "),i("copy-clipboard",{staticClass:"mr-2",attrs:{"on-copy":t.onCopy}}),t._v(" "),i("v-btn",{staticClass:"white--text",attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.importDialog=!0}}},[t._v("Import"),i("v-icon",{attrs:{"x-small":"",right:"",dark:""}},[t._v("mdi-import")])],1),t._v(" \n        ")],1),t._v(" "),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[i("h3",{staticClass:"white--text text-left pb-2"},[t._v("Device")]),t._v(" "),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Device Id",required:"",rules:[t.rules.required]},model:{value:t.item.device_id,callback:function(e){t.$set(t.item,"device_id",e)},expression:"item.device_id"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Device Name",required:"",rules:[t.rules.required]},model:{value:t.item.device_name,callback:function(e){t.$set(t.item,"device_name",e)},expression:"item.device_name"}})],1)],1),t._v(" "),i("h3",{staticClass:"white--text text-left pb-2"},[t._v("Customer Details")]),t._v(" "),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Client Id",required:"",rules:[t.rules.required]},model:{value:t.item.client_id,callback:function(e){t.$set(t.item,"client_id",e)},expression:"item.client_id"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Client Name",required:"",rules:[t.rules.required]},model:{value:t.item.client_name,callback:function(e){t.$set(t.item,"client_name",e)},expression:"item.client_name"}})],1)],1)],1),t._v(" "),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[i("h3",{staticClass:"white--text text-left pb-2"},[t._v("Device Location Address")]),t._v(" "),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Site Id",required:"",rules:[t.rules.required]},model:{value:t.item.site_id,callback:function(e){t.$set(t.item,"site_id",e)},expression:"item.site_id"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Site Name",required:"",rules:[t.rules.required]},model:{value:t.item.site_name,callback:function(e){t.$set(t.item,"site_name",e)},expression:"item.site_name"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Street Address",required:"",rules:[t.rules.required]},model:{value:t.item.site_address,callback:function(e){t.$set(t.item,"site_address",e)},expression:"item.site_address"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"City/Town",required:"",rules:[t.rules.required]},model:{value:t.item.site_city,callback:function(e){t.$set(t.item,"site_city",e)},expression:"item.site_city"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"State",required:"",rules:[t.rules.required]},model:{value:t.item.site_state,callback:function(e){t.$set(t.item,"site_state",e)},expression:"item.site_state"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Zip/Postcode",required:"",rules:[t.rules.required]},model:{value:t.item.site_zip,callback:function(e){t.$set(t.item,"site_zip",e)},expression:"item.site_zip"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Country",required:"",rules:[t.rules.required]},model:{value:t.item.site_country,callback:function(e){t.$set(t.item,"site_country",e)},expression:"item.site_country"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Latitude",required:"",rules:[t.rules.required]},model:{value:t.item.site_lat,callback:function(e){t.$set(t.item,"site_lat",e)},expression:"item.site_lat"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[i("v-text-field",{attrs:{outlined:"",dense:"",label:"Longitude",required:"",rules:[t.rules.required]},model:{value:t.item.site_lon,callback:function(e){t.$set(t.item,"site_lon",e)},expression:"item.site_lon"}})],1)],1)],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",disabled:!t.valid},on:{click:t.handleSave}},[t._v(" Save ")])],1)],1),t._v(" "),i("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v(" Are you sure? ")]),t._v(" "),i("v-card-text",[t._v("Device Id :"),i("b",[t._v(t._s(t.uuid))])]),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(e){t.confirmDialog=!1}}},[t._v("No")]),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.onYes()}}},[t._v("Yes")])],1)],1)],1),t._v(" "),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.importDialog,callback:function(e){t.importDialog=e},expression:"importDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Import Device")])]),t._v(" "),i("v-card-text",[i("v-container",[i("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},model:{value:t.dataImport,callback:function(e){t.dataImport=e},expression:"dataImport"}})],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"darken-1",text:""},on:{click:t.closeDialogImport}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!t.dataImport},on:{click:t.saveImport}},[t._v("Continue")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,N=i("Zepl"),B="/rubix-service",P=function(){return f.a.get(B+"/status")},U={name:"token-update",components:{FullScreenContainer:D.a},props:["on-cancel"],data:function(){return{valid:!0,token:"",isUpdating:!1,tokenRules:[N.a.required]}},methods:{onSave:function(){var t,e=this;this.$refs.tokenUpdateForm.validate()&&(this.isUpdating=!0,(t=this.token,f.a.post(B+"/token",{token:t})).then((function(){e.$toasted.show("Sucessfully updated token"),e.onCancel()})).catch((function(t){e.$toasted.show("Sucessfully updated token",{type:"error"})})).finally((function(){e.isUpdating=!1})))}}},E=Object(g.a)(U,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("full-screen-container",{attrs:{"on-back":t.onCancel,title:"Update Token"}},[i("v-row",[i("v-col",{attrs:{md:"6",sm:"12"}},[i("v-card",{attrs:{loading:t.isUpdating}},[i("v-card-title",[t._v("Token Udpate")]),t._v(" "),i("v-card-text",[i("v-form",{ref:"tokenUpdateForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{label:"Third party token",rules:t.tokenRules},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1)],1),t._v(" "),i("v-card-actions",{staticClass:"justify-end pa-4"},[i("v-btn",{attrs:{color:"blue darken-2"},on:{click:t.onSave}},[t._v("Save")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,F=i("OKta"),O=i("lkCm"),M=i("7Vew"),T=i("vQiG"),G=i("EwjG"),Q="user",j="token",V="jwt",L={name:"rubix-upgrade-view",props:["on-cancel"],components:{TextFieldDisplay:M.a,RbxButton:F.a,ConfirmDialog:O.a},data:function(){return{valid:!1,buildUploadForm:!0,upgradeDialog:!1,isUpgrading:!1,rubixAppStatus:{},rubixAppReleases:[],selectedVersion:null,cardLoading:!1,isFetchingReleases:!1,currentAction:null,showUpgradeToLatest:!1,isLatestVersion:!1,isUploadDialog:!1,versionRules:[N.a.required],requiredValidation:N.a.required,version:null,file:null,isUploadingApp:!1}},mounted:function(){var t=this;return v()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchRubixStatus();case 2:return e.next=4,t.fetchReleases();case 4:t.showUpgradeButton();case 5:case"end":return e.stop()}}),e,t)})))()},computed:{upgradeMethodMap:function(){return{version:this.upgradeVersion,latest:this.upgradeLatest}}},methods:{fetchRubixStatus:function(){var t=this;return this.cardLoading=!0,P().then((function(e){t.$store.commit(G.a,e),t.rubixAppStatus=e,t.selectedVersion=t.rubixAppStatus.version})).catch((function(t){})).finally((function(){t.cardLoading=!1}))},fetchReleases:function(){var t=this;return this.isFetchingReleases=!0,f.a.get(B+"/releases").then((function(e){t.rubixAppReleases=e})).catch((function(t){})).finally((function(){t.isFetchingReleases=!1}))},handleUpgradeClick:function(t){("version"!==t||this.$refs.upgradeForm.validate())&&(this.upgradeDialog=!0,this.currentAction=t)},handleDialogConfirm:function(){this.upgradeMethodMap[this.currentAction]()},upgradeLatest:function(){var t=this;this.isUpgrading=!0,f.a.put(B+"/upgrade",{version:"latest"}).then((function(){t.$toasted.show(T.f.success),t.logout()})).catch((function(e){t.$toasted.show(T.f.error,{type:"error"})})).finally((function(){t.isUpgrading=!1,t.closeDialog()}))},upgradeVersion:function(){var t,e=this;this.isUpgrading=!0,(t=this.selectedVersion,f.a.put(B+"/upgrade",{version:t})).then((function(){e.$toasted.show(T.f.success),e.logout()})).catch((function(t){e.$toasted.show(T.f.error,{type:"error"})})).finally((function(){e.isUpgrading=!1,e.closeDialog()}))},openUploadDialog:function(){this.isUploadDialog=!0},closeUploadDialog:function(){this.isUploadDialog=!1},capitalize:function(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},closeDialog:function(){this.upgradeDialog=!1},showUpgradeButton:function(){this.showUpgradeToLatest=Array.isArray(this.rubixAppReleases)&&this.rubixAppReleases.length>0&&this.rubixAppReleases[0]&&this.selectedVersion!==this.rubixAppReleases[0]||!1},uploadApp:function(){var t,e,i,n=this;this.$refs.uploadUpgradeForm.validate()&&(this.isUploadingApp=!0,(t=this.version,e=this.file,i=new FormData,i.append("upgradeFile",e),i.append("version",t),f.a.post(B+"/upload-upgrade",i,{headers:{"Content-Type":"multipart/form-data"}})).then((function(){n.$toasted.show("Sucessfully uploaded and upgraded."),n.logout()})).catch((function(t){})).finally((function(){n.isUploadingApp=!1})))},logout:function(){localStorage.removeItem(V),localStorage.removeItem(j),localStorage.removeItem(Q),this.$router.push("/login")},onFileSelect:function(){if(this.file&&this.file.name){var t=this.file.name,e=new RegExp("[0-9].[0-9].[0-9]"),i=t.match(e,"");i&&Array.isArray(i)&&(i=i[0],this.version="v"+i)}}}},J=Object(g.a)(L,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[i("v-btn",{staticClass:"white--text mr-1",attrs:{icon:"",medium:""},on:{click:t.onCancel}},[i("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-arrow-left ")])],1),t._v(" "),i("v-container",{staticClass:"text-left",attrs:{fluild:""}},[t._v("Rubix Upgrade")])],1),t._v(" "),i("v-card-text",[i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{attrs:{md:"6",lg:"6"}},[i("v-card",{attrs:{elecation:"2",outlined:"",loading:t.cardLoading}},[i("v-card-text",[i("v-row",[i("v-col",{staticClass:"text-left",attrs:{cols:"8",sm:"7"}},[i("text-field-display",{attrs:{value:"Rubix Service"}})],1)],1),t._v(" "),i("v-row",[i("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[i("text-field-display",{attrs:{label:"Version",value:t.rubixAppStatus.version}})],1),t._v(" "),i("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[i("text-field-display",{attrs:{label:"Deployment Mode",value:t.rubixAppStatus.deployment_mode&&t.capitalize(t.rubixAppStatus.deployment_mode)}})],1),t._v(" "),i("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[t.showUpgradeToLatest?i("rbx-button",{attrs:{click:function(){return t.handleUpgradeClick("latest")},title:"Upgrade to Latest",color:"primary"}}):t._e()],1)],1),t._v(" "),i("v-form",{ref:"upgradeForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-combobox",{attrs:{loading:t.isFetchingReleases,items:t.rubixAppReleases,label:"Select a release version",hideSelected:"",clearable:"","item-text":"name","item-value":"tag_name",rules:t.versionRules},model:{value:t.selectedVersion,callback:function(e){t.selectedVersion=e},expression:"selectedVersion"}})],1),t._v(" "),i("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[i("rbx-button",{attrs:{className:"mr-2",click:function(){return t.openUploadDialog()},title:"Upload Build",color:"green"}}),t._v(" "),i("rbx-button",{attrs:{click:function(){return t.handleUpgradeClick("version")},title:"Change Version",color:"pink"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),i("confirm-dialog",{attrs:{"is-open":t.upgradeDialog,loading:t.isUpgrading,"on-close":function(){return t.closeDialog()},"on-confirm":function(){return t.handleDialogConfirm()},"dialog-text":"This action will logout your session! Do you want to upgrade or downgrade the app?"}}),t._v(" "),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.isUploadDialog,callback:function(e){t.isUploadDialog=e},expression:"isUploadDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Upload & Upgrade")])]),t._v(" "),i("v-card-text",[i("v-alert",{staticClass:"text-left",attrs:{outlined:"",border:"left",type:"warning"}},[t._v("\n          Your session will be logged out after uploading and upgrading the build.\n        ")]),t._v(" "),i("v-form",{ref:"uploadUpgradeForm",attrs:{"lazy-validation":""},model:{value:t.buildUploadForm,callback:function(e){t.buildUploadForm=e},expression:"buildUploadForm"}},[i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"12"}},[i("v-file-input",{attrs:{rules:[t.requiredValidation],counter:"","show-size":"","truncate-length":"15"},on:{change:t.onFileSelect},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),t._v(" "),i("v-col",{staticClass:"text-left pl-9",attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:"Version",type:"text","single-line":"",rules:[t.requiredValidation]},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}})],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"darken-1",text:""},on:{click:t.closeUploadDialog}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",loading:t.isUploadingApp,text:""},on:{click:t.uploadApp}},[t._v("Upload & Upgrade")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,H=i("tZmG"),Y=i.n(H),z=i("OBCi"),X=i.n(z),K=i("ptLt"),Z={name:"url-config-form",props:["title","item","has-custom-port-selection","is-disabled","submit","field-details","loading"],data:function(){return{valid:!1}},computed:{fields:function(){var t=this;return Y()(this.fieldDetails.fieldConfigs).map((function(e){return t.fieldDetails.fieldConfigs[e]}))},formName:function(){return this.fieldDetails.formName}},methods:{onSave:function(){if(!this.isDisabled&&this.$refs.form.validate()){var t=this.fields.reduce((function(t,e){return t[e.valueKey]=e.value,t}),{});this.submit(t)}}}},W=Object(g.a)(Z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{loading:t.loading,disabled:t.isDisabled}},[i("v-card-title",[t._v(t._s(t.title))]),t._v(" "),i("v-card-text",[i("v-form",{ref:"form",attrs:{disabled:t.isDisabled,name:t.formName,"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{sm:"12"}},t._l(t.fields,(function(e){return i("div",{key:e.fieldName},["text"==e.type||"password"==e.type?i("v-text-field",{attrs:{type:e.type,label:e.label,rules:e.rules},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"field.value"}}):t._e(),t._v(" "),"actionable-text"==e.type?i("v-text-field",{attrs:{label:e.label,rules:e.rules,"append-icon":e.fieldButton.icon},on:{"click:append":e.fieldButton.click},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"field.value"}}):t._e(),t._v(" "),"switch"==e.type?i("v-switch",{attrs:{label:e.label},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"field.value"}}):t._e()],1)})),0)],1)],1)],1),t._v(" "),i("v-card-actions",{staticClass:"justify-end pa-4"},[i("v-btn",{attrs:{color:"blue darken-2",disabled:t.isDisabled},on:{click:t.onSave}},[t._v("Save")])],1)],1)}),[],!1,null,null,null).exports,$="setting",tt="/mqtt/config",et=function(t){return f.a.delete("/system-service-auth/"+t)},it=function(t){return f.a.get("/system-service-auth/"+t+"/test-connection",{restrictToast:!0})},nt={name:"system-service-login-form",props:["serviceName","fetchConfigStatus","formName","title","isEdit","formDetail","onCancel","testConnection"],data:function(){return{valid:!1,errorMessage:"",isConfigured:!1,showPassword:!1,showNewPassword:!1,showConfirmation:!1,isUpdatingPassword:!1,username:"",password:"",newPassword:"",retypePassword:"",rules:{required:N.a.required},newPasswordRules:[function(t){return!!t||"Required."},function(t){return!!t.match("(?=.*?[A-Z])")||"At least 1 Uppercase"},function(t){return!!t.match("(?=.*?[0-9])")||"At least 1 Number"},function(t){return t.length>=8||"At least 8 charaters"}],updatePasswordRules:[N.a.required]}},mounted:function(){this.isEdit&&(this.username=this.formDetail.username)},methods:{onSave:function(){this.$refs.form.validate()&&(this.errorMessage="",this.isEdit?this.showConfirmation=!0:this.onCreate())},onCreate:function(){var t,e,i=this;(t=this.serviceName,e={username:this.username,password:this.password},f.a.post("/system-service-auth/"+t,e)).then((function(t){i.fetchConfigStatus()})).catch((function(t){t&&t.message&&"string"==typeof t.message&&(i.errorMessage=t.message)})).finally((function(){i.testConnection()}))},onUpdate:function(){var t,e,i=this;this.isUpdatingPassword=!0,(t=this.serviceName,e={username:this.username,password:this.password,newPassword:this.newPassword,retypePassword:this.retypePassword},f.a.put("/system-service-auth/password/"+t,e)).then((function(t){i.fetchConfigStatus()})).catch((function(t){t&&t.message&&"string"==typeof t.message&&(i.errorMessage=t.message)})).finally((function(){i.isUpdatingPassword=!1,i.testConnection()}))}}},at=Object(g.a)(nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.showConfirmation?t._e():i("v-card",[i("v-card-title",[t._v(t._s(t.title))]),t._v(" "),i("v-card-text",[i("v-form",{ref:"form",attrs:{name:t.formName,"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{label:"Username",rules:[t.rules.required]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),i("v-text-field",{attrs:{"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",label:t.isEdit?"Current Password":"Password",rules:t.isEdit?t.updatePasswordRules:[t.rules.required]},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),t.isEdit?i("v-text-field",{attrs:{"append-icon":t.showNewPassword?"mdi-eye":"mdi-eye-off",type:t.showNewPassword?"text":"password",label:"New Password",required:"",rules:t.newPasswordRules},on:{"click:append":function(e){t.showNewPassword=!t.showNewPassword}},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}):t._e(),t._v(" "),t.isEdit?i("v-text-field",{attrs:{type:"password",label:"Retype Password",required:"",rules:[function(){return t.retypePassword==t.newPassword||"Please retype the password."}]},model:{value:t.retypePassword,callback:function(e){t.retypePassword=e},expression:"retypePassword"}}):t._e()],1),t._v(" "),t.errorMessage?i("span",{staticClass:"error-message"},[t._v(t._s(t.errorMessage))]):t._e()],1),t._v(" "),i("v-card-actions",{staticClass:"justify-end pa-4"},[t.isEdit?i("v-btn",{on:{click:t.onCancel}},[t._v("Cancel")]):t._e(),t._v(" "),i("v-btn",{attrs:{color:"blue darken-2"},on:{click:t.onSave}},[t._v("Save")])],1)],1),t._v(" "),t.isEdit&&t.showConfirmation?i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v(" Confirm? ")]),t._v(" "),i("v-card-text",[t._v("Do you want to change username/password for "+t._s(t.title)+" integration?")]),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(){t.showConfirmation=!1}}},[t._v("\n        No\n      ")]),t._v(" "),i("v-btn",{attrs:{color:"red darken-1",loading:t.isUpdatingPassword,text:""},on:{click:t.onUpdate}},[t._v(" Yes ")])],1)],1):t._e()],1)}),[],!1,null,null,null).exports,ot={CONFIGURED_LOGIN:"CONFIGURED_LOGIN",NOT_CONFIGURED_LOGIN:"NOT_CONFIGURED_LOGIN",UPDATE_PASSWORD:"UPDATE_PASSWORD",DELETE_INTEGRATION:"DELETE_INTEGRATION",NONE:"NONE"},st={rubixService:{title:"Rubix",name:"rubixService"},rubixBios:{title:"BIOS",name:"rubixBios"}},rt={name:"system-service-integration",props:["serviceName","isDeletingSystemIntegration","isIntegrationInvalid"],components:{SystemServiceLoginForm:at,TextFieldDisplay:M.a,RbxButton:F.a},data:function(){return{isDeletingIntegration:!1,isfetchingData:!1,isConfigured:!1,config:st[this.serviceName],currentView:ot.NOT_CONFIGURED_LOGIN,views:ot,loginDetails:{}}},mounted:function(){this.fetchConfigStatus(),this.testConnection()},watch:{isDeletingSystemIntegration:function(t,e){t!=e&&this.fetchConfigStatus()}},methods:{fetchConfigStatus:function(){var t,e=this;this.isfetchingData=!0,(t=this.serviceName,f.a.get("/system-service-auth/config-status/"+t,{restrictToast:!0})).then((function(t){var i=t.data;e.loginDetails=i,e.isConfigured=!0,e.currentView=ot.CONFIGURED_LOGIN})).catch((function(){e.isConfigured=!1,e.currentView=ot.NOT_CONFIGURED_LOGIN})).finally((function(){e.isfetchingData=!1}))},onDeleteIntegration:function(){var t=this;this.isDeletingIntegration=!0,et(this.serviceName).then((function(){t.currentView=ot.NOT_CONFIGURED_LOGIN,t.fetchConfigStatus(),t.$toasted.show("Successfully deleted "+t.config.title+" Integration")})).catch((function(e){t.$toasted.show("Cannot deleted "+t.config.title+" Integration",{type:"error"})})).finally((function(){t.isDeletingIntegration=!1,t.testConnection()}))},testConnection:function(){var t=this;it(this.serviceName).then((function(e){t.$store.commit("changeServicesConfigured",a()({},t.serviceName,!0))})).catch((function(e){e&&"401"===e.statusCode&&t.$store.commit("changeServicesConfigured",a()({},t.serviceName,!1))}))},updatePassword:function(){this.currentView=ot.UPDATE_PASSWORD},deleteIntegration:function(){this.currentView=ot.DELETE_INTEGRATION}}},lt=Object(g.a)(rt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.currentView===t.views.CONFIGURED_LOGIN?i("v-card",{attrs:{loading:t.isfetchingData}},[i("v-card-title",[t._v(t._s(t.config.title+" Integration"))]),t._v(" "),t.isIntegrationInvalid?i("v-divider"):t._e(),t._v(" "),t.isIntegrationInvalid?i("v-banner",{staticClass:"text-left",attrs:{"single-line":""}},[i("v-icon",{attrs:{slot:"icon",color:"warning",size:"36"},slot:"icon"},[t._v(" mdi-alert-circle-outline ")]),t._v("\n      Integration Invalid! Please delete and re-login to use the app.\n    ")],1):t._e(),t._v(" "),i("v-card-text",{staticClass:"text-left"},[i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("text-field-display",{attrs:{label:"Username",value:t.loginDetails.username}})],1),t._v(" "),i("v-col",{attrs:{cols:"4"}},[i("text-field-display",{attrs:{label:"Password",value:t.loginDetails.password}})],1),t._v(" "),i("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[i("rbx-button",{attrs:{className:"mr-3",afterIcon:"mdi-pencil",click:t.updatePassword,title:"Update Password"}}),t._v(" "),i("rbx-button",{attrs:{color:"red",afterIcon:"mdi-delete",click:t.onDeleteIntegration,title:"Delete"}})],1)],1)],1)],1):t._e(),t._v(" "),t.currentView===t.views.NOT_CONFIGURED_LOGIN?i("system-service-login-form",{attrs:{"fetch-config-status":t.fetchConfigStatus,"test-connection":t.testConnection,"service-name":t.serviceName,"form-name":"createForm",title:t.config.title+" Login Form"}}):t._e(),t._v(" "),t.currentView===t.views.UPDATE_PASSWORD?i("system-service-login-form",{attrs:{"is-edit":!0,"service-name":t.serviceName,title:t.config.title+" Update Form","form-name":"passwordUpdateForm","form-detail":this.loginDetails,"fetch-config-status":t.fetchConfigStatus,"test-connection":t.testConnection,"on-cancel":function(){t.currentView=t.views.CONFIGURED_LOGIN}}}):t._e(),t._v(" "),t.currentView===t.views.DELETE_INTEGRATION?i("v-card",{attrs:{loading:t.isfetchingData}},[i("v-card-title",{staticClass:"headline"},[t._v(" Confirm? ")]),t._v(" "),i("v-card-text",[t._v("Do you want to delete "+t._s(t.config.title)+" integration?")]),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(){t.currentView=t.views.CONFIGURED_LOGIN}}},[t._v("\n        No\n      ")]),t._v(" "),i("v-btn",{attrs:{color:"red darken-1",loading:t.isDeletingIntegration,text:""},on:{click:t.onDeleteIntegration}},[t._v(" Yes ")])],1)],1):t._e()],1)}),[],!1,null,null,null).exports,ct={name:"configure-endpoint-view",props:["on-cancel"],components:{RbxButton:F.a,CopyClipboard:S.a,ImportJsonForm:K.a,UrlConfigForm:W,SystemServiceIntegration:lt},data:function(){return{isDeletingSystemIntegration:!1,clipboardMessage:"",importButton:!1,loader:{biosConfigFields:!1,mqttConfigFields:!1}}},computed:{setting:function(){return this.$store.state.setting},mqttConfig:function(){return this.$store.state.mqttConfig},isRubixConfigurationValid:function(){return this.$store.state.isServicesConfigured,!this.$store.state.isServicesConfigured.rubixService},isBiosConfigurationValid:function(){return this.$store.state.isServicesConfigured,!this.$store.state.isServicesConfigured.rubixBios},biosConfigFields:function(){return{formName:"biosConfigFields",fieldConfigs:{ipAddress:{type:"text",fieldName:"ipAddress",label:"BIOS/Service IP Address",valueKey:"globalIp",value:this.setting.globalIp,rules:[N.a.required,N.a.isIpAddress]},portNumber1:{type:"text",fieldName:"portNumber1",label:"BIOS Port Number",valueKey:"biosServicePort",value:this.setting.biosServicePort,rules:[N.a.required,N.a.number]},portNumber2:{type:"text",fieldName:"portNumber2",label:"Service Port Number",valueKey:"rubixServicePort",value:this.setting.rubixServicePort,rules:[N.a.required,N.a.number]}}}},mqttConfigFields:{get:function(){return{formName:"mqttConfigFields",fieldConfigs:{name:{type:"text",fieldName:"name",label:"Name",valueKey:"name",value:this.mqttConfig.name,rules:[N.a.required]},host:{type:"actionable-text",fieldName:"host",label:"IP Address",valueKey:"host",value:this.mqttConfig.host,rules:[N.a.required,N.a.isIpAddress],fieldButton:{icon:"mdi-content-copy",click:this.onMqttIPCopyClick}},port:{type:"text",fieldName:"port",label:"Port Number",valueKey:"port",value:this.mqttConfig.port,rules:[N.a.required,N.a.number]},auth:{type:"switch",fieldName:"auth",label:"Enable Auth",valueKey:"auth",value:this.mqttConfig.auth,rules:[N.a.required]},username:{type:"text",fieldName:"username",label:"username",valueKey:"username",value:this.mqttConfig.username,rules:[N.a.required]},password:{type:"password",fieldName:"password",label:"password",valueKey:"password",value:this.mqttConfig.password,rules:[N.a.required]}}}},set:function(t){return t}}},mounted:function(){this.getSettings(),this.fetchMqttConfig()},methods:{onImport:function(){},toggleImportButton:function(){this.importButton=!this.importButton},getSettings:function(){var t=this;f.a.get("setting").then((function(e){t.$store.commit("changeSetting",e)})).catch((function(t){}))},onCopy:function(t){var e={deviceUser:this.setting.deviceUser,globalIp:this.setting.globalIp,biosServicePort:this.setting.biosServicePort,rubixServiceIp:this.setting.rubixServiceIp,rubixServicePort:this.setting.rubixServicePort};t(k()(e))},onSubmitForm:function(t,e){var i=this,n={};switch(this.loader[t]=!0,t){case this.biosConfigFields.formName:n=A()({},this.setting,e),this.updateSettings(n,(function(){i.loader[t]=!1}));break;case this.mqttConfigFields.formName:n=A()({_id:this.mqttConfig._id},e),this.updateMqttConfig(n,(function(){i.loader[t]=!1}))}},saveImport:function(t,e){var i=JSON.parse(t);this.updateSettings(i,e)},updateSettings:function(t,e){var i,n=this;(i=t,f.a.put($,i)).then((function(t){n.getSettings(),n.deleteAllSystemIntegration(),n.$toasted.show(T.b.success,{type:"success"})})).catch((function(t){console.error(t),n.$toasted.show(T.b.error,{type:"error"})})).finally((function(){"function"==typeof e&&e()}))},updateMqttConfig:function(t,e){var i,n=this;(i=t,f.a.put(tt,i)).then((function(){n.$toasted.show("Successfully updated Mqtt Config"),n.fetchMqttConfig()})).catch((function(t){})).finally((function(){"function"==typeof e&&e()}))},onMqttIPCopyClick:function(){if(this.biosConfigFields.fieldConfigs.ipAddress.value){var t=this.biosConfigFields.fieldConfigs.ipAddress.value;this.mqttConfig.host=t}},deleteAllSystemIntegration:function(){var t=this;this.isDeletingSystemIntegration=!0,X.a.all(Y()(l.h).map((function(t){return et(l.h[t])}))).then((function(){})).finally((function(){t.isDeletingSystemIntegration=!1}))},fetchMqttConfig:function(){var t=this;f.a.get(tt).then((function(e){t.$store.commit("changeMqttConfig",e)}))}}},ut=Object(g.a)(ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{ref:"configure-endpoint-view"},[i("v-card-title",[i("v-btn",{staticClass:"white--text mr-1",attrs:{icon:"",medium:""},on:{click:t.onCancel}},[i("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-arrow-left ")])],1),t._v(" "),i("v-container",{staticClass:"text-left",attrs:{fluild:""}},[t._v("Configure Endpoints")])],1),t._v(" "),i("v-card-text",[i("v-container",{attrs:{fluild:""}},[i("div",{staticClass:"flex-box justify-start"},[i("rbx-button",{staticClass:"mr-2",attrs:{"is-small":!0,title:"Import",color:"primary",click:t.toggleImportButton,"after-icon":"mdi-import"},model:{value:t.importButton,callback:function(e){t.importButton=e},expression:"importButton"}}),t._v(" "),i("copy-clipboard",{staticClass:"mr-2",attrs:{"on-copy":t.onCopy}})],1),t._v(" "),i("v-row",[i("v-col",{attrs:{sm:"12",md:"6"}},[i("system-service-integration",{attrs:{"is-deleting-system-integration":t.isDeletingSystemIntegration,"service-name":"rubixBios","is-integration-invalid":t.isBiosConfigurationValid}})],1),t._v(" "),i("v-col",{attrs:{sm:"12",md:"6"}},[i("system-service-integration",{attrs:{"is-deleting-system-integration":t.isDeletingSystemIntegration,"service-name":"rubixService","is-integration-invalid":t.isRubixConfigurationValid}})],1)],1),t._v(" "),i("v-row",[i("v-col",{attrs:{md:"6",sm:"12"}},[i("v-banner",{staticClass:"import-banner",attrs:{elevation:"3",transition:"slide-y-transform"},model:{value:t.importButton,callback:function(e){t.importButton=e},expression:"importButton"}},[i("import-json-form",{attrs:{"save-import":t.saveImport,closeDialogImport:t.toggleImportButton}})],1)],1)],1),t._v(" "),i("v-row",[i("v-col",{attrs:{sm:"12",md:"6"}},[i("url-config-form",{attrs:{title:"BIOS/Service Configuration","field-details":t.biosConfigFields,loading:t.loader.biosConfigFields,submit:function(e){return t.onSubmitForm(t.biosConfigFields.formName,e)}}})],1),t._v(" "),i("v-col",{attrs:{sm:"12",md:"6"}},[i("url-config-form",{attrs:{title:"MQTT Configuration","field-details":t.mqttConfigFields,loading:t.loader.mqttConfigFields,submit:function(e){return t.onSubmitForm(t.mqttConfigFields.formName,e)}}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,dt=(i("c+bQ"),"/mqtt-rest-bridge/listener"),vt=function(){return f.a.get(dt)},ft={name:"master-slave-config",props:["onCancel"],components:{ConfirmDialog:O.a,FullScreenContainer:D.a},data:function(){return{confirmMRBConifg:!1,mqttRestBridge:{enabled:!1,master:!1,name:"",host:"",port:"",authentication:!1,username:"",password:"",keepalive:60,qos:0,retain:!1,attempt_reconnect_on_unavailable:!1,attempt_reconnect_secs:5,timeout:5},forms:{mqttRestBridge:{valid:!1,isSaving:!1,isDisabled:!1,isFetching:!1}},rules:{required:function(t){return!!t||"Required."}}}},mounted:function(){this.fetchMqttRestBridge()},methods:{fetchMqttRestBridge:function(){var t=this;this.forms.mqttRestBridge.isFetching=!0,vt().then((function(e){t.mqttRestBridge=e,t.$store.commit("changeMqttRestBridgeConfig",e)})).catch((function(e){t.$toasted.show("Error fetching MQTT rest bridge config",{type:"error"})})).finally((function(){t.forms.mqttRestBridge.isFetching=!1}))},saveMqttRestBridge:function(){var t,e=this;this.forms.mqttRestBridge.isSaving=!0,(t=this.mqttRestBridge,f.a.patch(dt,t)).then((function(t){e.$toasted.show("Successfully updated MQTT rest bridge config"),e.confirmMRBConifg=!1,e.$store.commit("changeMqttRestBridgeConfig",A()({},t)||{}),"/master-slaves"!=e.$router.currentRoute.path||t&&t.master||e.$router.push({path:"services"})})).catch((function(t){e.$toasted.show("Error updating MQTT rest bridge config",{type:"error"})})).finally((function(){e.forms.mqttRestBridge.isSaving=!1}))}}},mt={name:"nav-bar-three-dot-settings",components:{DeviceInfo:q,TokenUpdate:E,UpdatePasswordForm:h,ConfigureEndpointView:ut,RubixUpgradeView:J,MasterSlaveConfig:Object(g.a)(ft,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("full-screen-container",{attrs:{"on-back":t.onCancel,title:"Master/Slave Configuration"}},[i("v-row",[i("v-col",{attrs:{md:"6",sm:"12"}},[i("v-card",{staticStyle:{padding:"30px"},attrs:{loading:t.forms.mqttRestBridge.isFetching}},[i("v-card-title",[t._v(" MQTT Rest Bridge Configuration ")]),t._v(" "),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.forms.mqttRestBridge.valid,callback:function(e){t.$set(t.forms.mqttRestBridge,"valid",e)},expression:"forms.mqttRestBridge.valid"}},[i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"6",lg:"4",sm:"6",md:"6"}},[i("v-switch",{staticClass:"pr-4",attrs:{inset:"",label:"Set as Master",color:"primary"},model:{value:t.mqttRestBridge.master,callback:function(e){t.$set(t.mqttRestBridge,"master",e)},expression:"mqttRestBridge.master"}})],1),t._v(" "),i("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[i("v-switch",{staticClass:"pr-4",attrs:{inset:"",label:"Enabled",color:"primary"},model:{value:t.mqttRestBridge.enabled,callback:function(e){t.$set(t.mqttRestBridge,"enabled",e)},expression:"mqttRestBridge.enabled"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-text-field",{attrs:{label:"Name",required:"",rules:[t.rules.required]},model:{value:t.mqttRestBridge.name,callback:function(e){t.$set(t.mqttRestBridge,"name",e)},expression:"mqttRestBridge.name"}})],1),t._v(" "),i("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[i("v-text-field",{attrs:{label:"Host",required:"",rules:[t.rules.required]},model:{value:t.mqttRestBridge.host,callback:function(e){t.$set(t.mqttRestBridge,"host",e)},expression:"mqttRestBridge.host"}})],1),t._v(" "),i("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[i("v-text-field",{attrs:{label:"Port",type:"number",required:"",rules:[t.rules.required]},model:{value:t.mqttRestBridge.port,callback:function(e){t.$set(t.mqttRestBridge,"port",e)},expression:"mqttRestBridge.port"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-switch",{staticClass:"pr-4",attrs:{inset:"",label:"Authenticate",color:"primary"},model:{value:t.mqttRestBridge.authentication,callback:function(e){t.$set(t.mqttRestBridge,"authentication",e)},expression:"mqttRestBridge.authentication"}})],1),t._v(" "),t.mqttRestBridge.authentication?i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-text-field",{attrs:{label:"UserName",required:"",rules:[t.rules.required]},model:{value:t.mqttRestBridge.username,callback:function(e){t.$set(t.mqttRestBridge,"username",e)},expression:"mqttRestBridge.username"}}),t._v(" "),i("v-text-field",{attrs:{type:"password",label:"Password",required:"",rules:[t.rules.required]},model:{value:t.mqttRestBridge.password,callback:function(e){t.$set(t.mqttRestBridge,"password",e)},expression:"mqttRestBridge.password"}})],1):t._e(),t._v(" "),i("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[i("v-switch",{staticClass:"pr-4",attrs:{inset:"",label:"Retain",color:"primary"},model:{value:t.mqttRestBridge.retain,callback:function(e){t.$set(t.mqttRestBridge,"retain",e)},expression:"mqttRestBridge.retain"}})],1),t._v(" "),i("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[i("v-select",{attrs:{items:[0,1,2],label:"QoS"},model:{value:t.mqttRestBridge.qos,callback:function(e){t.$set(t.mqttRestBridge,"qos",e)},expression:"mqttRestBridge.qos"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-switch",{staticClass:"pr-4",attrs:{inset:"",label:"Attempt Reconnect",color:"primary"},model:{value:t.mqttRestBridge.attempt_reconnect_on_unavailable,callback:function(e){t.$set(t.mqttRestBridge,"attempt_reconnect_on_unavailable",e)},expression:"mqttRestBridge.attempt_reconnect_on_unavailable"}})],1),t._v(" "),t.mqttRestBridge.attempt_reconnect_on_unavailable?i("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[i("v-text-field",{attrs:{type:"number",label:"Attempt reconnect (in Seconds)",required:"",rules:[t.rules.required]},model:{value:t.mqttRestBridge.attempt_reconnect_secs,callback:function(e){t.$set(t.mqttRestBridge,"attempt_reconnect_secs",e)},expression:"mqttRestBridge.attempt_reconnect_secs"}})],1):t._e(),t._v(" "),t.mqttRestBridge.attempt_reconnect_on_unavailable?i("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[i("v-text-field",{attrs:{type:"number",label:"Reconnect Timeout (in Seconds)",required:"",rules:[t.rules.required]},model:{value:t.mqttRestBridge.timeout,callback:function(e){t.$set(t.mqttRestBridge,"timeout",e)},expression:"mqttRestBridge.timeout"}})],1):t._e()],1)],1)],1),t._v(" "),i("v-card-actions",{staticClass:"justify-end pa-4"},[i("v-btn",{attrs:{loading:t.forms.mqttRestBridge.isSaving,color:"blue darken-2"},on:{click:function(){t.confirmMRBConifg=!0}}},[t._v("\n            Save\n          ")])],1)],1)],1)],1),t._v(" "),i("confirm-dialog",{attrs:{"is-open":t.confirmMRBConifg,loading:t.forms.mqttRestBridge.isSaving,"on-close":function(){t.confirmMRBConifg=!1},"on-confirm":function(){return t.saveMqttRestBridge()},"dialog-text":"This action will restart Rubix Service! Do you want to proceed?"}})],1)}),[],!1,null,null,null).exports},data:function(){var t,e={passwordDialog:"passwordDialog",configureEndpointDialog:"configureEndpointDialog",deviceInfoDialog:"deviceInfoDialog",rubixUpgradeDialog:"rubixUpgradeDialog",tokenUpdateDialog:"tokenUpdateDialog",masterSlaveConfigDialog:"masterSlaveConfigDialog"},i={updatePassword:"@action/updatePassword",upgradeRubix:"@action/upgradeRubix",logout:"@action/logout",tokenUpdate:"@action/tokenUpdate",configureEndpoint:"@action/configureEndpoint",deviceInfo:"@action/deviceInfo",masterSlaveConfig:"@action/masterSlaveConfig"},n={rubixUpgradeConfig:{name:"rubixUpgradeConfig",displayName:"Upgrade Rubix",hasDialog:!0,dialogName:e.rubixUpgradeDialog,actionName:i.upgradeRubix,icon:"mdi-arrow-up"},deviceInfo:{name:"deviceInfo",displayName:"Device Info",hasDialog:!0,dialogName:e.deviceInfoDialog,actionName:i.deviceInfo,icon:"mdi-cellphone-settings"},masterSlaveConfig:{name:"masterSlaveConfig",displayName:"Master/Slave Configuration",hasDialog:!0,dialogName:e.masterSlaveConfigDialog,actionName:i.masterSlaveConfig,icon:"mdi-account-child-outline"},tokenUpdate:{name:"tokenUpdate",displayName:"Token update",hasDialog:!0,dialogName:e.tokenUpdateDialog,actionName:i.tokenUpdate,icon:"mdi-update"},endpointConfig:{name:"endpointConfig",displayName:"Configure Endpoints",hasDialog:!0,dialogName:e.configureEndpointDialog,actionName:i.configureEndpoint,icon:"mdi-link"},updatePassword:{name:"updatePassword",displayName:"Update Password",hasDialog:!0,dialogName:e.passwordDialog,actionName:i.updatePassword,icon:"mdi-textbox-password"},logout:{name:"logout",displayName:"Logout",hasDialog:!1,dialogNames:null,actionName:i.logout,icon:"mdi-logout-variant"}};return{passwordDialog:!1,dialogNames:A()({},e),buttonActions:A()({},i),menuItems:x()(n),dialog:(t={},a()(t,e.rubixUpgradeDialog,!1),a()(t,e.passwordDialog,!1),a()(t,e.configureEndpointDialog,!1),a()(t,e.tokenUpdateDialog,!1),a()(t,e.deviceInfoDialog,!1),a()(t,e.masterSlaveConfigDialog,!1),t)}},computed:{userName:function(){return m.b(Q)},appVersion:function(){return this.$store.state.rubixAppVersion},setting:function(){return this.$store.state.setting}},methods:{handleActionClick:function(t,e){switch(e.hasDialog&&e.dialogName&&this.openDialog(e.dialogName),t){case this.buttonActions.logout:this.logout();break;case this.buttonActions.updatePassword:}},logout:function(){m.c("jwt"),m.c("user"),this.$router.push("/login")},openDialog:function(t){this.dialog[t]=!0},closeDialog:function(t){this.dialog[t]=!1}}},pt={components:{UpdatePasswordForm:h,NavBarThreeDotSettings:Object(g.a)(mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-list-item",[i("v-menu",{attrs:{top:"","offset-y":!0},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-list-item-icon",[i("v-icon",t._g(t._b({},"v-icon",a,!1),n),[t._v("mdi-dots-vertical-circle-outline")])],1)]}}])},[t._v(" "),i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-list-item-avatar",{attrs:{size:"24"}},[i("v-avatar",{attrs:{size:"24",height:"24",width:"24",color:"indigo"}},[i("v-icon",{attrs:{size:"24",dark:""}},[t._v(" mdi-account-circle ")])],1)],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-left justify-space-between"},[t._v("\n                Admin  | \n                "),i("span",{staticClass:"caption"},[t._v(t._s(t.appVersion.version))])])],1)],1),t._v(" "),t._l(t.menuItems,(function(e,n){return i("v-list-item",{key:n,on:{click:function(i){return t.handleActionClick(e.actionName,e)}}},[i("v-list-item-avatar",{attrs:{size:"24"}},[i("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-left"},[i("span",[t._v(t._s(e.displayName))])])],1)],1)}))],2)],1)],1)],1),t._v(" "),i("v-dialog",{attrs:{fullscreen:""},model:{value:t.dialog.passwordDialog,callback:function(e){t.$set(t.dialog,"passwordDialog",e)},expression:"dialog.passwordDialog"}},[i("update-password-form",{attrs:{hasBackButton:!0,onCancel:function(){return t.closeDialog(t.dialogNames.passwordDialog)}}})],1),t._v(" "),i("v-dialog",{attrs:{fullscreen:""},model:{value:t.dialog.configureEndpointDialog,callback:function(e){t.$set(t.dialog,"configureEndpointDialog",e)},expression:"dialog.configureEndpointDialog"}},[t.dialog.configureEndpointDialog?i("configure-endpoint-view",{attrs:{onCancel:function(){return t.closeDialog(t.dialogNames.configureEndpointDialog)}}}):t._e()],1),t._v(" "),i("v-dialog",{attrs:{fullscreen:""},model:{value:t.dialog.rubixUpgradeDialog,callback:function(e){t.$set(t.dialog,"rubixUpgradeDialog",e)},expression:"dialog.rubixUpgradeDialog"}},[t.dialog.rubixUpgradeDialog?i("rubix-upgrade-view",{attrs:{onCancel:function(){return t.closeDialog(t.dialogNames.rubixUpgradeDialog)}}}):t._e()],1),t._v(" "),i("v-dialog",{attrs:{fullscreen:""},model:{value:t.dialog.tokenUpdateDialog,callback:function(e){t.$set(t.dialog,"tokenUpdateDialog",e)},expression:"dialog.tokenUpdateDialog"}},[t.dialog.tokenUpdateDialog?i("token-update",{attrs:{onCancel:function(){return t.closeDialog(t.dialogNames.tokenUpdateDialog)}}}):t._e()],1),t._v(" "),i("v-dialog",{attrs:{fullscreen:""},model:{value:t.dialog.deviceInfoDialog,callback:function(e){t.$set(t.dialog,"deviceInfoDialog",e)},expression:"dialog.deviceInfoDialog"}},[t.dialog.deviceInfoDialog?i("device-info",{attrs:{onCancel:function(){return t.closeDialog(t.dialogNames.deviceInfoDialog)}}}):t._e()],1),t._v(" "),i("v-dialog",{attrs:{fullscreen:""},model:{value:t.dialog.masterSlaveConfigDialog,callback:function(e){t.$set(t.dialog,"masterSlaveConfigDialog",e)},expression:"dialog.masterSlaveConfigDialog"}},[t.dialog.masterSlaveConfigDialog?i("master-slave-config",{attrs:{onCancel:function(){return t.closeDialog(t.dialogNames.masterSlaveConfigDialog)}}}):t._e()],1)],1)}),[],!1,null,null,null).exports},props:["drawer"],data:function(){return{mini:!0,logo:r.a,sidebarItems:l.j,password:{},passData:"",dialog:!1,css:"",test:!1,deviceInfo:{}}},computed:{iframes:function(){var t=this.$store.state.iframes;return t.filter((function(t){return t.show}))},items:function(){var t=this.$store.state,e=t.setting,i=t.mqttRestBridgeConfig,n=C()(l.j),a=[],o=!0,r=!1,c=void 0;try{for(var u,d=s()(n);!(o=(u=d.next()).done);o=!0){var v=u.value;e[v.key]&&a.push(v),"masterSlaves"==v.key&&i&&i.master&&a.push(v)}}catch(t){r=!0,c=t}finally{try{!o&&d.return&&d.return()}finally{if(r)throw c}}return a},setting:function(){return this.$store.state.setting}},mounted:function(){this.mini=!this.setting.lockSidebar,this.getDeviceInfo()},updated:function(){this.css=!this.setting.lockSidebar&&this.mini?"position:absolute;bottom:50px":"position:absolute;bottom:13px;right:10px"},methods:{onClickIframeItem:function(t){var e=t.ipType,i=t.port,n=t.type,a=t.ip,o=t._id,s="http://"+a+":"+i;"userBrowserIp"===e&&(s="http://"+location.hostname+":"+i),"linkOnly"!==n?this.$router.replace("/iframe/"+o):window.open(s,"_blank")},clickOnLinkIcon:function(t){var e=t.ip,i=t.port,n="http://"+e+":"+i;"userBrowserIp"===t.ipType&&(n="http://"+location.hostname+":"+i),window.open(n,"_blank")},onCancel:function(){this.dialog=!1,this.test=!1},changeLock:function(){var t=this;this.setting.lockSidebar=!this.setting.lockSidebar,f.a.put("setting",this.setting).then((function(e){"successful"===e&&(t.$store.commit("changeSetting",t.setting),t.$toasted.show("Success!"))}))},minimizeMenu:function(){this.setting.lockSidebar||(this.mini=!this.mini)},getDeviceInfo:function(){var t=this;f.a.get("rubix-service/plat").then((function(e){t.deviceInfo=e}))}}},gt=Object(g.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-navigation-drawer",{staticClass:"float-left",attrs:{"mini-variant":t.mini,permanent:"",id:"drawer-menu"},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},scopedSlots:t._u([{key:"append",fn:function(){return[t.deviceInfo?i("div",{style:t.mini?"display:none":"text-align: start; padding: 10px; font-size: 0.8125rem;"},[i("div",[i("span",{staticClass:"warning--text"},[t._v("Client Name:")]),t._v(" "),i("span",[t._v(t._s(t.deviceInfo.client_name))])]),t._v(" "),i("div",[i("span",{staticClass:"warning--text"},[t._v("Site Name:")]),t._v(" "),i("span",[t._v(t._s(t.deviceInfo.site_name))])]),t._v(" "),i("div",[i("span",{staticClass:"warning--text"},[t._v("Device Name:")]),t._v(" "),i("span",[t._v(t._s(t.deviceInfo.device_name))])])]):t._e(),t._v(" "),i("v-row",{style:t.mini?"display:block":"padding: 0 5px;"},[i("nav-bar-three-dot-settings",{class:t.mini?"ml-3":""}),t._v(" "),i("div",{staticClass:"radio-btn"},[i("input",{staticClass:"radio-input primary--text",class:t.mini?"mb-5 ml-7":"",attrs:{type:"radio"},domProps:{checked:t.setting.lockSidebar},on:{click:function(){return t.changeLock()}}}),t._v(" "),t.mini?t._e():i("label",{staticStyle:{"margin-bottom":"5px"}},[i("v-icon",[t._v(" mdi-lock ")])],1)])],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("v-list-item",{staticClass:"px-3"},[i("v-list-item-avatar",{staticStyle:{padding:"3px"}},[i("v-img",{attrs:{src:t.logo}})],1),t._v(" "),i("v-list-item-title",[t._v("Rubix Platform")]),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.minimizeMenu(e)}}},[i("v-icon",[t._v("mdi-chevron-left")])],1)],1),t._v(" "),i("v-divider"),t._v(" "),i("v-list",{attrs:{dense:"",nav:""}},[t._l(t.items,(function(e){return i("div",{key:e.key,staticStyle:{"text-align":"start"}},[e.children?t._e():i("v-list-item",{attrs:{link:"",to:e.link}},[i("v-list-item-icon",[i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var a=n.on,o=n.attrs;return[i("v-icon",t._g(t._b({},"v-icon",o,!1),a),[t._v(" "+t._s(e.icon)+" ")])]}}],null,!0)},[t._v(" "),i("span",[t._v(t._s(e.title))])])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))])],1)],1),t._v(" "),e.children&&e.children.length>0?i("v-list-group",{key:e.key,staticClass:"parent-bar",attrs:{"no-action":"","prepend-icon":e.icon},scopedSlots:t._u([{key:"activator",fn:function(){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0)},[t._v(" "),t._l(e.children,(function(e){return i("v-list-item",{key:e.title,staticStyle:{color:"white"},attrs:{link:"",to:e.link}},[i("v-list-item-icon",{staticClass:"sub-service-icon"},[i("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2):t._e()],1)})),t._v(" "),t._l(t.iframes,(function(e){return i("v-list-item",{key:e._id,attrs:{link:""}},[i("v-list-item-icon",{on:{click:function(i){return t.onClickIframeItem(e)}}},[i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var a=n.on,o=n.attrs;return[i("v-icon",t._g(t._b({},"v-icon",o,!1),a),[t._v(" "+t._s("mdi-"+e.icon)+" ")])]}}],null,!0)},[t._v(" "),i("span",[t._v(t._s(e.name))])])],1),t._v(" "),i("v-list-item-content",{on:{click:function(i){return t.onClickIframeItem(e)}}},[i("v-list-item-title",{staticStyle:{"text-align":"start"}},[t._v(t._s(e.name))])],1),t._v(" "),"iframeOnly"!==e.type?i("v-list-item-action",[i("v-icon",{attrs:{small:"",color:"grey lighten-1"},on:{click:function(i){return t.clickOnLinkIcon(e)}}},[t._v("mdi-open-in-new")])],1):t._e()],1)})),t._v(" "),i("v-list-item",{attrs:{link:"",to:"/setting"}},[i("v-list-item-icon",[i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({},"v-icon",a,!1),n),[t._v(" mdi-settings ")])]}}])},[t._v(" "),i("span",[t._v("Settings")])])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",{staticStyle:{"text-align":"start"}},[t._v("Settings")])],1)],1)],2)],1)}),[],!1,null,null,null).exports,ht=i("nz6T"),bt={components:{Sidebar:gt,ConfigureEndpointView:ut},data:function(){return{configureEndpointDialog:!1,user:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADtCAYAAAD+zOomAAAAAXNSR0IArs4c6QAAAJ5lWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAABQAAAAAQAAAFAAAAABAASShgAHAAAAGQAAAISgAQADAAAAAQABAACgAgAEAAAAAQAAAMqgAwAEAAAAAQAAAO0AAAAAQVNDSUkAAABDcmVhdGVkIHdpdGggR0lNUACysxgLAAAACXBIWXMAAAxOAAAMTgF/d4wjAAABaWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlVzZXJDb21tZW50PkNyZWF0ZWQgd2l0aCBHSU1QPC9leGlmOlVzZXJDb21tZW50PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KuGFqmgAAHmJJREFUeAHtXU2oJcd1fjIvONJGI0jAI0fR3xuUTYyeCMiSArojRPAiIbzBiogXkYzfBAKOFAgBjXYORPHCAY8IyUJjYnmRMLJxyC6LYE1AkmMQkrBXwygxGRnbEMOMwNgLCU2+7071nb796r+rqqu6T0Hd7ttddeqcr87pqlNVXb2zI0GLwLVr144hvoJ4kzaBXBQElo4AjQPxdUQGMZalK4TIr0cAxrFam8iNn7P6lHJVEFgoArCN3Rv2sXV2uFBIRGxB4CgCMI1ha7KxlqOp5cpSEPjYUgQNkPNHprSwmF3TPbk+bwRkRGdQvzAGYvLR4HL397abbrrpavdHjstBQFqUQV3DEK7h0jcHl+XvwhEQQ9ErwL/oL+/cbLgul2eOgBiKvoJf1V/euc9wXS7PHAExFE0FL80PgV/GVQgHGijkkiBgRwCKcwZxGFb2XO3dhYD94fDj7UlQhmMZ7jTj/H+aW38DxXocLc4vNfeOXEJajqDdinj/kZs7O+9M2XKBN/pbLyM+0ePte7h+D/j6sHdNTgUBPQJQFnZFbIFPYefQOtJwnZgprPSl578KhvqtyJC/V/JzICXMAgFoztmh9mj+c9HkMZPAuHeoydO/tDLlzXUdhd+MaDPejj/xV3JVwlzoQlP2Om3xPB4g3Vbrgv/7HnnPlMQM/NhaER27xodASb6lrIwIoNa5sJGtAqN3hSMtl9dfRgwNm9YFGY97Zi6yIhm8dFh4srVJRhy2HgAZq0xIl0YAlcsWYajsXgaDfKFPXWTZCof4Nyx7K0HvT/YWBWWxZfPlp8fa5rSIMZfWkUWXh6pla6Ab0t3UOk6MBoN7fPKWCgcoKNvTGrRjWxGd/KtFK9bchEcNu4xkqAQ0GrYg7CqlVKxhOf3/my5aLvxR2NhWpM9vdy5Ld3JVWGm6qFFf36Cr/NLHVU5MIIxPixorMw08WwuYExehrUEAlclWorbA4disT2TQ50NijC/ig1l2n0pTpdVcmtVTArXNlQb/g3hHNQjv7GR7hwXysv6eQ3yhkLwnMGv/bqGyqipmVoZCZKE8XK/kWuX7ENJ8gukROLmWzbCgWFkwhpx74Ps7OXkH7WF4Dxfug0heS3iGmeV/wwhA4ThbnavbknQ5iOI1ZAgaWZIH2b6pYX0fxTpUaS+5Ol0nOHopCMhwRI4jWXSoawmj5RpVYRNkztItmECO0UVCA9mVuTSa0DaB6D694ocre0v5H9ucu//dji7YT9zJ5pFCDKVXjxmM5VegTMFL1sEHZ8Sf6bFW6+nzYIz7C/w35OReA7MN8oZjr2pR2RzROdG7NOb0vRgjUQX+65iCC+Zla8dW+CMaNyK7iLN8x0kMZaBVylgeGFwu/fdi6QITlMcW8C3ED2AsdPhnZTRiKBoNgbG8jcunNbdCLt0BZaHfExOuxmSqKA99q85oOAhxgNh0SyM+ikW7ULmHuP2SJYnvrTeQ8E1EdqneV4ZozYuy59bnjx7YsAIlN+tAgMZCpU0c2J+3PqRw3+dNxMRsZSP3eh21Gc+FdL3c2H3LnSQ4Bfvz5x3Gwu7fXMJTrQsihjJdDbIfT2MxLZj87nSsJS2Zo3/Nrw8TQ0mnEy+CFOcVuB7KN9BYTK8qv+NLpPJ0f1I5f17siaE4YMLT0HcE6gdI+7eIvwmStyByiNllOC8ivWl2++cO1lq4zYfGf7bAqItHq0PpyryU+3RxPWR9A0r/iC6d6l79Fu59BvHPELvVytaZe89ydUXWcu0UMGll8tSKmRiKFZ7rNwMU1qr4XVHKcD4OJbK2VkjXylKWTrTh0QuPYaYa/0vXK22t3OVDDgbyS5eRKDotP41PQ8bgdW4++E2RRgzFD3VfB53OecrQskP/9ZRATE1LDMWvBnyf7PQ/kgXPVidZeQkJfXNOrQlxEUNJqB0gxfVdpnmR2JI47Nxa+IfWGHbxK4biQij8Pke3Ugbf1ixlmWNp/Wgsgdryi6GkrxEOAacMLfopP0sJQA20ZHjYoxbQneI74t/2SLpOgv55UlxRvs88ji97JdJ9DBC0xrMVF2lRrPBsbl7ZnHmcQK+PeSQLSdKSn8K1XbMyElaUGEqIuvqnvd8/qVfKlvyUlnj1Ap+JxFC8oQpKmHo7n5b8lAtBSDWSWAzFr6Le90u2SfUMul/J/BR0Za5uKNd/EtRNrV+c6xyKofjV1A/9km2l6rZs3bo44k8rfkpLrZ93dYiheEMVnPDTwTnsGVrp+8/h9YAjNVHUUNAdaXonjiPo2S/8sf128N0mntToJs5mIWS/hooYCg0EkTuacM+n1Es8+vLUdP4EZF2anzJJ97DTLx5zKUBWQ6GiIK7A/AeI3bY/n8wlTEa6oc58x8q93Umi4ySKGMD7DwLSjk7aGQgIdfr1V6OJTkEAguh2YGfL0lyALDEhqaxgYOxXi2NkCMmT7Yk+VBgLFseGaVP8z9aiQBCC9rCGyd/TXJvrpc8Dh5RdzZr9lNIvapnmqr6UQ5mS9aGHzEFB9nGN22rqQnNrgSBPimUZ3Y6RxITdlG4bH+413H3FijtJGstKxAfLTx2KvvYLHM5CAO6PpgvJP0mxbipRKA3mVlXi3Tyist5W/2MPplW0vm8LxpZbcz62sLpWdovnnk32fZJueJjG5qSxRTD/n9KtCSUytSi8x00LH+FJqkBn2/T0emCMsYDsZTDZ7TbS5/ck6F7oX2jhHPLYnmAtiJCTx6KtCQWx6C1vG3fE4c2YYPNR/g3MRDlnyMd+uc5IyONrMYxKnmoRmKI1cYHxRVeC0Ps2Q6Gi/10oQZXe9JZfjaBGiijZFAJfrxCJ5MPUtq5XJ39wF8zSTSneRHdCjD2qVvLjoPNriL+h6O3h+Nvq/DiOqXdhUaSrPfDBdy6GO+KJvN0ARjAJ5De5DNx989lggo4MPoZC5/seFO61NAH8U3kuacqNBlVDq/pLwKE/ns8Bkm6w5CGcdwsmfwfntTnmIdhGPfiADbvmv1AFPY9j0Hcgkf8QeV5S+YeH4Af7kID2Pwrl8hJ+r8MWOHFonQ/A/WOINjq7Wgbk4hoBYMeHFjFkPI7IyUVGG6a4PVmgskYFcGySiQ9ZY0A+YuT6bsxlpFkZiYy9AeKsHN1MOi6vAxk4Yiy4RkM7s05h/nllLH9LzA84qRjEvcbQbzG9qweC8EFgC1pjQYabEUOwoC4H8Yj0xPuIjh8RTiU8wNEUyOhaEBxJNGRJhRaAI0zIhQ0CwDfH175AdnTg0H9UQMk+Cr+lrMizhxhiJH0BiaF1Yp33EanLXRk8stXjNTYg+vy4QWFMzSNurSuwI8r/PoHp9QVGQT7vTMCKylFrODMGfQjlMhbqytpYcLQ9uH3xIb0jD2pc20WkIbl0mQM15kDiHkSQxDuszKXJnQ4BoFmzkbCyuTxpVAANH2OxPazJR2ggPZbbGYhPfk407zif8KDENM8hvsAMCULUSEmCcpsgAbzZr75SObNJ6hCystW4iGianK4Bhtsw4nvVNuG4ZhKJOF79jwk5jp3ETMhCnaSU4ny/Tu42XHF5iNdUwSaH4QR0OI/ymOF2DZc5J3OVjDhbFCZSrcpHPE8Ukq/uTMTXZGQaeboSn1NQnm6BZhK8IDv9B93cWxL6kUS4+PTR7qHgbFFYCBKbZkEjedj5ljK+TX785+gCh5npXO1ubizgBPK20AXpauK/upNUR+jXu6B1IhW9SDqcWD+t+GDX8pHOSILooTJTBw690bGiYehGHXjfq8ULEqSyxJQR0TWJhiTVhGx1AglLD2LwwbyPuDUcrVMRb6FZTToCma/Ryv8Qlv125nImIQ9Iif95xJbWiK2d21yAAZNS3bCgNWFeXa9coHjQ5WjIWwDv0CNtU0kaNRJi/H3Fe3K8QZfzFSvEEi/3/WWIALUbSicL31ibW2itJenw58Prq92fMUcaHCK7W+wCXQatHyNysWPu4WIOSASN3NXe9WI9nIZQ53gylwClYAtpWv3aipgPxHSJITt17l5EdjdTzc2FYMbW6k7wHuRKhBgKLT63pesE1k5uEfBQYXXES1+biZF0sN2COnC+UwKZOYrJ93a49GVqfyzKwEO6XknHzjukHUe2JqYm8rx6OjlI1HN7ZkZCYP/DVAe4zhFNjihx5fgHiNyRZ2oj4deK8w4MQeDU625Act037d7B4JFPHq/AzAibxXNemSZMBF6pNHMMbCXWAcLROA4Qba9rTIlB0LL7Ti4evRWznynROd9q+/LI7hO7gheB/KdAZ73UIBFvScmAP47mmPY4S1rWBMRegHws9vcRa35bk0tvonUkpOuVsg7oUH1upJF0/NBYrqCy9roLFR6frpCnlCzRKS9hJJw5vx3xFGJ/zzP8dYaHoSOHzlRjE6CQlF0v50yoi1/wowsrV74p7oNR3coDHf+1XuPw7ZTBuKwJTLHLzlUc1E8fnPM+UBUjOIwOSRi1cJH/qRFgbeCT/fbWwy4EmMJYjAZiqgLw2Q0ikF+Tr5REB7U8oNAULQotnsKzzz4qWEDArTWv3kPfoxhxZAYv+2So4fA6RQT/nBz0eWKnEDXYQEzVAGb2DAwFOfYhPkqK4WH6E5xo+7ECfYzRvGkCB9e5efN5lFGDsZj2YLawX9WtfyI3yp/8VGbO6INw3uwcomlaIIgF0HkXGXT+DP3ag+Q6QoKItlWuLJSKH/PUYZ4gvwXpfVo4Nr1BdINqwSNxJB7IVk3Y6qaAK9Zz6pCsBdFVCZi1dX+Dd2vRlbF1TRVoMwQ6VjQoOlem/iFuaQPTe7cASOtjKCwo2Ai3hB7xB2XbKoi8tRB2+xCAYdZvaN2a5MxqIAO+qZO2wAeAt/71aWvPQWzPUhqVcgOsSuur0CS7mbzSFt67iLQhdEl768nYI5XtFGXus+CGw9o/GQIEefhAHBOKGUjHO5j1MfDDLv3wGOKjrPOqPh/7krpAH+SfyRRvMi3iszi9DdGUh0m7wMmrVfcn8fESaI/ePSSQp1n4J0OZUaecuDs5vO7xn74C14cl80E8ylwnQZmcFf2sIz39mXRBWafNX9FaJvLtIrKJs3XfvHaVBI3QFgVZ1kHLWzp0blBCaTY5FTtVH6ytMDi36UBfMNZV0CjTDRTTnoEPm96s0pYGaiiQ/W+bIhif3sjHZnAfcdjXJT2vfiLS2QTGbWtg0+9VTixwoD87/2SIhYeM1RhIxzt45sPaFKwPho5G8BGl7ZlKVNedTxFFg08mGon3CBXSjp0AY5nZjAW0+SBoOXi1vBBQJ2d1BtJXbvBscuyd+tqnE3SOQvl0NgUq/64PQaQLUlqkNwlr4kV3ncbibZw+cnRpQNeGi46Xmq55dX97stIwGKo2kI5fHsHrsDdD/rMaCrtRtr5qlic3ykxhKAQnqCXrg207B11dRbC82gP5Dn1osTuTT8lsQBe6FzzqNeRLjSY8heumDQH4ss4Xhvkq+s+Ruouo6GT9U9BiK1piNW1qGFmHj6s69aaN9B8iXvXO0GDC0YZCmQGSa2vMl6A8Rue+AtxoLBw+TmUsd1UgUwwLD6q6jMk76zxJDIUIAWCOQdvmSrjt0OjFkJlrg8ZymKCMVQIapUmcQB3+pHShrZSXzFCUwF/DkW8umsL3oIhZnGdTgRHX2fqNNZbPR5Q7ZRbuTZB2sm1KaVoom4aASAfZFJI49yCeyplPyieI0bFtKZxtQa+m5jF1i+Ljr9C55/dWxob3xxJw5Cef56HxdMxDwl0hiSdOy9b/LybmYdnFQ8Fc8wirMQiB/tiFeb5P/aDhYw+5fcvNnS5IrjF1NYe8yVuUHiguf+VVaELtzj3F6YaPfXltxT/hzjXOzet69bno06CJpVCkYAh03C8iUtl0geP298VUGGhzguuKjmjGaxwZMjq94IndNG72VnuwylE781Pwl7NF8fFXaEAvQ8GyGmxCYDl8vLLQu8tyr5ZbMsIVURNZDYX8qCewbX4llXMfIX5UlldhLKbh41UUxXKZ+E2Qc+WKk5KCEGCLgWhbD4bb1if1kfKQvpQzT950gQsAt1pC/K95fVeSYfkjFbGQC1sVnVNmKJHLX2Hx3h9BBb0pfJQhRBxefRJPabBTtX8S7QsOBV7q/2KGQoChTHs4XLKA7V2hlRgKRVnzjOMnEW2yMe1UIevn5KYSqmS52X2UvjAe/gqde+OnBAa0Yler8r1t2zKbfjE+5+SZI3v0tWoMHOGKxapGeSbhqaihKAm/hqNNUbk8/auZ0bC9FhBTNI1liq9HuXjlJ9iMw9muzHL/BgLFDYX9eRTvUtRn0LU6uMFm2jPwwIm2+9JSrY4ah4FT7O5ZnWBTMFTcUCikUtTHHAJ/W/k0jmRxtxUPJ+JyV5/rJOSTYeCE1TSJoZB/VCS7BLb5FSb7Dowl9bL8CyTMoHg4df3fLH45sEDH/cIspKlIiMkMRWHg8lfY9/dy7gMw3Vr2AqVi98RlsAHkJ0tKv+8eyCOOe4YqmNRQUKk+/koJ595lsBmgT0qS/sgfIX6YlKoQqwsB+iKIrnDEuXdlMNxf6aRHWs4a1jyzrhOHS+U5NyUhMwKTtiidbHgS+vgrOude992LjmzQUbVujyMT+/kthDfAJFdeEzsJmRGowlCUjD7dnxzO/QZiKB2HjXN/LGdT3ogTPiB+V/E7goxk9UWgGkNRT3TX/EoO534LK/BBZ7jmYeOT4PFZhdcW7/InHwLVGApFROW79gdjMjr353mSK4APdmdqGzZml5CLRi/kklvomhGoylDIplJS13DtE3BiTe+EmKW9fofrspwBfHDY+HlnwjIJuqFf2XerDN5tlAIj8Hl/haNAtm2ReF8XjvmigMy+fOjKSXWNm3QUXeXti8+S0lVbAVAOn/dXYuoqaMm5UtL/RUH0j0oHrvyVUa3SqGvKq67r1fEIBfHxV7rk2Y7gg5OiXEBZctiYZfETbmIk2Wo2jHC1hkIxlKK4/JUwiSNSK6N9MCJrTBYO/d6pyozJL3kyIFC1oSh5feZXMkCzTRKKS0e6xLAxVyD86nbp8m9qBKo3FCioz3qwIjiCF3aFcrdw9IX4vZbUq6aLYDTXQqo3FAKvuiGP1VAJ4OUc+Mg9bExj+QWMRdZx1VDprfEAxXHtZ4wk9pBCZpRQcth4PwXPQmNBCKRQ0FRwKV5i5nHslqy/Gzu5mkpcodMaAtAj1/dX9KqmrqaUdywvVkaP3pSJx5SVtwRa0CGf91eOqhqupMZnDC9aBu0XZbfH1BU4d3rQpyh/JQcu4GXfrt9J79JYdnPIITRniACUJcqhzgUF+Iky3EgTko8A5arIOdKFkgX7KzlxAD/cuLtUoLH4ftwop9hCuwUEoCwh/srlnDKBl6hWbqRlyVxLzkpVtJuYcLThEDhbnnXnRPDCwYLPIZZcQOn6uJENPrnniUDzhqLkrGI9GHmBsXyIQ+nVxq+iVZK5FqUMOQ6zMBT1JH8KAJV8khvrA/xM8YrASzCWIx83MjIpN4IQmIWhUOKJlNMINvjhAsqTxgR5bjwDsudhMNW+kJdH7PxUZ2MohEopZ+7Vvd61An4uIHFpfvidltdgLLL62LumFpiQT1NE0/ciz04BiYUf3MoWZK4lYWXPqkUhLniKV/P+Sq+ensT5A4jc3bFUkKX6pZBuuRw8p3XzK5OPDCm+Su9xLHMtLStzbt6hlMNlJavcZfrSB2/8/HfJmfzJHxK+2Ei6wghAEYf+yqowC87iwCOX4QwNGpeyBDEWZ40sNAHUrb8ebFUrDOBzF/EAMffLYLJUv1YlmJovKF/nr1RrKB1G4JWt4CqzwchS/Q5wOW4jAMVj92a1fbXuf+CXBp7L8Zfh47qrfxruoHB8UnvvOzwNl/pSwfdxxByOP42lSUz0SMlVQQAIUKkR2TKmDjJ8LBo2PwRgJbuIqQ1mNT+kRCJBAAjAWFI7/jJ8LJo1XwSUwaRy/M+Q3nzREskEASAAJafBjHX8Za5FtGkZCMBYxi6R4bC0LNVfhrqIlFD2MY6/zLWICi0LAWUwMTP+NJbFDx+L05bYXpRS/bki+1Mcv9sr4p3uHO/NXO3OSx7BH+v8fsS/R+SnyH3Dor8nKYbiqyaOdFBAznB/CZHvrYcGfh6bX/RiuIB4hScI/NQ3N6pg+DmMizu8JAvKqF8GQV+DOQUesm75lEy4xITEUEYCCmXbBYmnEV8aSSokO9+UfFNl6Lda7+PaDztCvq1WoJGfBl1+TGlRQQwlsrqhXMTuUcRvIPK129oDP6LahX6r0G+1eP+ziC6jZwv4JAyGr10vIoihRFRzRJclopTqsyzKWMRQAvQRBsJ5hS8jxvghASU1k/QWtCqdD9UM0zGMsn8twR+Bl5GU+2ZJwI4ySzESVvbstivKrMGlN+DOLM4o8l8ZlbuxzNL1Cqww1f2iA9yCAx8oXVDyxXS7iIq0KEG6Ud8ex4Hsp0q+qG4XQRNDiVAd9M25ATd3flxqWFS3i5UshhKp6jCWt5G19Abckdwmz/bvySlWTlBGvUZUEIzlHHyWXweJFyLIcB7iT1U+Djvz40NduA0nq+6POtYyJL24bhfxF2d+oI2hf2EoxPA8Ysyw8e0wtm6NV1DRKJdry/rhbvy5tXfhIZx/ovd/zOkFZL6iCFyM5XkMA5J3BgjQWBC5HD00MI+06jPQARHBEwEofH/r1hCDecWzCEkmCMwDAVgHN6qLCQfzQECkEAQ8EYCVcHOHmHDcswhJJgjMAwFYyWGEpYi/Mo/qFylCEIg0lkm+MRkil6QVBJIiAEPhSJjpo6u2BmeVlBEhJgjUjoAylpjPNgznSGoXVfgTBMYhAGOJGTamvyKTweOgl9ytIQCl566NoUH8ldYqWvgdjwCsJGbYeDW+ZKEgCDSGAIyFHzMNDbL/b2P1LOwmQABWEjrHwsEA8VcSYC8kGkMAih86bHymMRGFXUFgPAJsISKMZX98yUIhFgFp0mORG5kPhkLfI3STiqANHVAGjevpHqvP4V2SRezD1ZNZTltHgMaCGBK8v4QFomy1hkFapUilkXfmI4FLkU093U8E0OJblF/wTH+vJt1nNNfkkiDQBgJ47PMDPyFhzyUZiOlG11535ZP7gkDVCBgU22Q8XOJinV/BfdMaM/FLq9YEYc6JAJQ75Gu+Rn+FRoRoClYDczIpCQSBqRGAZocOGx/oeAadfYOVyPv5OsDkWnsIQMF3Edm18g1HXiFGRlPL5PRt2kNMOF4sAlD0kKX5R14htliY+CeL1aqZCg5lD1ltvOlSIZ9pJ5jDmUJVRCyZRykCc3ghmGMJ2Qj8CRhI56982lAat34NCqDJbiCHmdlqyWRlEHqSuCgCSlFx8ApsTUzDwiTAe1zqb33VGPc7A8HpVqDvI6NmRTVACvNGAMp5ZktdzX9CBgGYlq0FjWvtu+BoMhDc2grSunjXniQshgBUNHTYeEurPf+YRsp02WX0rFjtS0FBCChjCWkxdAqe4trZIMZnkliGCxuqSGh5zNL81BIGLfVPXfhU9GTUayrkI8pVq40fjMiaKsuppb7PIi1KKhUqSActC32ESwWLZFHvId4JQ7lWuNwqipMWpYpqCGNCzbGU+H4kP5/3POJJxHuWaiRhtSOpq0MALQuHd1MGvhezhyhzJdXVtjAUjQAUOvWwsSxzMdSG+CgGYFq5TGMBr68hPpyCZ3SvRCc0QAooGlBauwRj4Uz5W4n4XuTwrws7MRQXQg3ch6Hsgs0PErF6GxqVq4lozYaMjHrNoCqh2B9CjDdmIEq1IoihVFs1wYx9JTiHZPBGQAzFG6rqE76aiMO7E9GZFRkxlJlUp/IrOHs+Ntw6lsAc84uhzKtW/3pe4og0gkAGBDD6ZXpfHre8A5fyW9+AzMB69SSlRam+ioIY/GlQan3iO3D5CozlQH9brgoCM0AACu772rBPE8PdKGXd1wz0QkQYIADF3vexgMA0q0Exi/srM/Mzq3IYAP2LKwOxXhz8598LiP1038B/drtMgUvun8LomnyIyISQXG8HARjKcJMIr089IJ/P7pTyLcl2VEE4NSHA1gRxGFam9MPryOg0lmEe+S8INIcAFH3YmtBouGDSO3gYy5FNwb2JS0JBYGoEoOB8M3EYNnsSh/AHIraWRV7uCgFT0taFAJRbt5Vq9I6OFmO5XJfkwo0g4IkAlNo0JDxqhl0ZC9+jp++ziZ5sSTJBoB4EoMB8b960g+QoQ6lHyuk5kSUs09fBWA4eBQHb/MdY+pJfEGgbAbQk3H3e1Jrg1vVd6tuWsg7upUWpox5iufgDZDS2JphFX+SujrFg2vLJEhYbOpXfQ4uhW66y4RqGIvW7QWPcibQo4/CbNDfs4CoY4Janw8A3HU8OL8p/QWCxCKBVoZ/SBc6lcDhXWpLFaoQIbkQAhsF5lD1jArkxGoH/B6cVpKXMW2pwAAAAAElFTkSuQmCC",drawer:!0,retryCount:0,retryInterval:null,maxRetryCount:3}},computed:{loading:function(){return this.$store.state.loading},isServiceConfigured:function(){return this.$store.state.isServicesConfigured,!this.$store.state.isServicesConfigured.rubixService||!this.$store.state.isServicesConfigured.rubixBios}},watch:{isServiceConfigured:function(t,e){e!==t&&this.retryCount<this.maxRetryCount&&this.startTestConnectionInterval()}},methods:{getPingData:function(){var t=this;f.a.get("point-server/ping").then((function(e){t.$store.commit("changePingData",e)}))},startTestConnectionInterval:function(){var t=this;this.retryInterval||(this.retryInterval=setInterval((function(){return t.incrementTestConnection()}),1e3))},incrementTestConnection:function(){var t=this;this.retryCount++,this.retryCount>this.maxRetryCount?clearInterval(this.retryInterval):[l.h.RUBIX_BIOS,l.h.RUBIX_SERVICE].map((function(e){return t.testConnection(e)}))},testConnection:function(t){var e=this;it(t).then((function(i){e.$store.commit("changeServicesConfigured",a()({},t,!0))})).catch((function(i){e.$store.commit("changeServicesConfigured",a()({},t,!1))}))},getIframes:function(){var t=this;f.a.get("iframe").then((function(e){t.$store.commit("changeIframes",e)}))},getInstalledServices:function(){var t=this;ht.k().then((function(e){t.$store.commit("changeInstalledServices",e)}))},getMqttConfig:function(){var t=this;f.a.get("mqtt/config").then((function(e){t.$store.commit("changeMqttConfig",e)}))},getAppDetails:function(){var t=this;ht.o().then((function(e){t.$store.commit("changeAppDetails",e)}))},getSystemDefaultApps:function(){var t=this;ht.r().then((function(e){t.$store.commit(G.b,e)}))},getRubxiServiceVersion:function(){var t=this;P().then((function(e){t.$store.commit(G.a,e)}))},pingBiosServices:function(){var t=this;it(l.h.RUBIX_BIOS).then((function(e){t.$store.commit("changeServicesConfigured",a()({},l.h.RUBIX_BIOS,!0))})).catch((function(e){e&&"401"===e.statusCode&&t.$store.commit("changeServicesConfigured",a()({},l.h.RUBIX_BIOS,!1))}))},pingRubixServices:function(){var t=this;it(l.h.RUBIX_SERVICE).then((function(e){t.$store.commit("changeServicesConfigured",a()({},l.h.RUBIX_SERVICE,!0))})).catch((function(e){e&&"401"===e.statusCode&&t.$store.commit("changeServicesConfigured",a()({},l.h.RUBIX_SERVICE,!1))}))},fetchMqttRestBridgeConfig:function(){var t=this;vt().then((function(e){t.$store.commit("changeMqttRestBridgeConfig",e)}))},showConfigureEnpoint:function(){this.configureEndpointDialog=!0},closeConfigureEnpoint:function(){this.configureEndpointDialog=!1}},created:function(){var t=this;window.EventBus.$on("show-toast",(function(e){t.$toasted.show(e,{type:"error"})})),window.EventBus.$on("change-loading",(function(e){t.$store.commit("changeLoading",e)})),window.EventBus.$on("show-reconfigure-services",(function(e){t.$store.commit("changeServicesConfigured",e)}))},mounted:function(){this.getIframes(),this.getAppDetails(),this.getMqttConfig(),this.pingBiosServices(),this.pingRubixServices(),this.fetchMqttRestBridgeConfig(),this.getInstalledServices(),this.getSystemDefaultApps(),this.getRubxiServiceVersion()}},Ct=Object(g.a)(bt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("Sidebar",{attrs:{drawer:t.drawer}}),t._v(" "),i("v-main",{staticStyle:{padding:"0"}},[i("v-container",{attrs:{fluid:""}},[t.isServiceConfigured?i("v-banner",{staticClass:"text-left",attrs:{"single-line":""},scopedSlots:t._u([{key:"actions",fn:function(){return[i("v-btn",{attrs:{color:"primary",text:""},on:{click:t.showConfigureEnpoint}},[t._v(" Configure ")])]},proxy:!0}],null,!1,1729645651)},[i("v-icon",{attrs:{slot:"icon",color:"warning",size:"36"},slot:"icon"},[t._v(" mdi-alert-circle-outline ")]),t._v("\n        Please put credential details for BIOS service and Rubix service login\n\n        ")],1):t._e(),t._v(" "),i("v-dialog",{attrs:{fullscreen:""},model:{value:t.configureEndpointDialog,callback:function(e){t.configureEndpointDialog=e},expression:"configureEndpointDialog"}},[t.configureEndpointDialog?i("configure-endpoint-view",{attrs:{onCancel:t.closeConfigureEnpoint}}):t._e()],1),t._v(" "),i("router-view")],1)],1),t._v(" "),i("v-overlay",{attrs:{value:t.loading}}),t._v(" "),i("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("v-card",{attrs:{color:"primary",dark:""}},[i("v-card-text",[t._v("\n        Loading\n        "),i("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=Ct.exports}}]);
//# sourceMappingURL=7.909b200b49e2ba88add6.js.map