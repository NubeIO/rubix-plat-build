{"version":3,"sources":["webpack:///./src/components/Common/PageTitle.vue?c121","webpack:///./src/components/Common/PageTitle.vue?8d7a","webpack:///src/components/Common/PageTitle.vue","webpack:///./src/components/Common/PageTitle.vue","webpack:///./src/components/UserManagement/userManagementPage.vue?276a","webpack:///./src/services/userManagementService.js","webpack:///./src/services/userSitesService.js","webpack:///./src/components/UserManagement/mapUserSiteForm.vue?abee","webpack:///src/components/UserManagement/mapUserSiteForm.vue","webpack:///./src/components/UserManagement/mapUserSiteForm.vue?79ae","webpack:///./src/components/UserManagement/mapUserSiteForm.vue?97d2","webpack:///./src/components/UserManagement/deassignSiteForm.vue?51b2","webpack:///src/components/UserManagement/deassignSiteForm.vue","webpack:///./src/components/UserManagement/deassignSiteForm.vue","webpack:///./src/components/UserManagement/deassignSiteForm.vue?28e5","webpack:///src/components/UserManagement/userManagementGrid.vue","webpack:///./src/components/UserManagement/userManagementGrid.vue?d2be","webpack:///./src/components/UserManagement/userManagementGrid.vue?087c","webpack:///./src/components/UserManagement/userManagementGrid.vue?7518","webpack:///./src/components/UserSite/UserSiteForm.vue?58ba","webpack:///src/components/UserSite/UserSiteForm.vue","webpack:///./src/components/UserSite/UserSiteForm.vue","webpack:///./src/components/UserSite/UserSiteForm.vue?b43f","webpack:///src/components/UserSite/UserSiteGrid.vue","webpack:///./src/components/UserSite/UserSiteGrid.vue?e3c7","webpack:///./src/components/UserSite/UserSiteGrid.vue","webpack:///./src/components/UserSite/UserSiteGrid.vue?c74a","webpack:///./src/components/UserManagement/configureFcmKey.vue?42e5","webpack:///src/components/UserManagement/configureFcmKey.vue","webpack:///./src/components/UserManagement/configureFcmKey.vue","webpack:///./src/components/UserManagement/configureFcmKey.vue?ad2c","webpack:///./src/components/UserManagement/userManagementPage.vue?7f2b","webpack:///src/components/UserManagement/userManagementPage.vue","webpack:///./src/components/UserManagement/userManagementPage.vue","webpack:///./src/components/Sidebar/CopyClipboard.vue?43bd","webpack:///./src/components/Sidebar/CopyClipboard.vue?995d","webpack:///src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Common/GridToolbar.vue?6930","webpack:///./src/components/Common/ImportDialog.vue?b025","webpack:///src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue?d061","webpack:///./src/components/Common/GridToolbar.vue?35fe","webpack:///src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/ExportData.vue?1629","webpack:///./src/components/Common/ExportData.vue?9000","webpack:///src/components/Common/ExportData.vue","webpack:///./src/components/Common/ExportData.vue","webpack:///./src/components/RubixApps/TooltipIconButton.vue?2774","webpack:///./src/components/RubixApps/TooltipIconButton.vue?f36c","webpack:///src/components/RubixApps/TooltipIconButton.vue","webpack:///./src/components/RubixApps/TooltipIconButton.vue","webpack:///./src/components/Common/ConfirmDialog.vue?4e4e","webpack:///./src/components/Common/ConfirmDialog.vue?8f62","webpack:///src/components/Common/ConfirmDialog.vue","webpack:///./src/components/Common/ConfirmDialog.vue"],"names":["name","props","component","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","_t","endpoint","api","usersEndpoint","uuid","deleteUsers","uuids","all","map","http","delete","deleteUser","verifyUser","user","post","fetchSites","get","createSitesMapping","userId","siteIds","siteId","site","user_uuid","site_uuid","deleteSitesMapping","sites","deleteSiteMapping","user_site_mapping_uuid","data","valid","isSubmitting","search","searchItems","formErrorMessage","selectedSites","headers","computed","siteItems","methods","onSubmit","handleSubmit","onSearchChange","split","filterCriteria","username","length","attrs","on","model","value","callback","$$v","expression","_e","onClose","selectedItems","userSelectedSites","assignSite","deassignSite","components","GridToolbar","appliedFilterCount","acc","dataItems","userSitesMap","items","isVerifying","userSite","assignedSitesNumber","item","mounted","initialize","getSiteNamesForUser","userSiteMapping","fetchUserSites","toggleDialog","dialog","dialogName","selectedItem","closeDialog","fetchUsers","verifyUsers","users","unverifiedUsers","catch","err","$toasted","show","type","isDeletingUsers","dialogNames","scopedSlots","_u","key","fn","ref","_g","_b","filters","$set","isFetchingUsers","tableProps","FOOTER_PROPS","ITEMS_PER_PAGE","state","userSites","formData","address","city","zip","country","lat","lon","time_zone","timezones","rules","required","created","isEditForm","$refs","form","validate","handleSave","undefined","siteDialog","removeSite","editSiteDialog","isEditing","selectedApp","isDeletingSite","createSite","editSite","patch","isFetchingSites","$event","fcmKey","placeholderKey","isFetchingFCMKey","isUpdatingFCMKey","intialize","fetchFCMKey","updateFCMKey","put","PageTitle","watch","tab","tabs","indexOf","val","$router","push","path","query","tabKey","configFCMDialog","openFCMDialog","closeFCMDialog","proxy","$vuetify","theme","dark","copyToClipboard","$copyText","message","copyClipboard","then","onCopy","file","dialogImportExcel","dialogImportJSON","dataImport","importFile","fileReader","readAsBinaryString","onload","handleFileLoad","firstSheet","receiveDataRows","rowObject","importJson","ExportData","toolbarTitle","hideExportData","fileName","formatDataService","onDelete","isDeleteEnabled","clickDownload","formattedData","buttonSize","disabled","btnColor","onClick","btnIcon","staticStyle","domProps","btnTooltip","isOpen","dialogText","loading","onConfirm"],"mappings":"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","file":"static/js/26.3b0a9a2c25f29886dd09.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"text-h5 text-left py-3\"},[_c('span',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_vm._t(\"refreshIcon\"),_vm._v(\" \"),_vm._t(\"titleActions\"),_vm._v(\" \"),_vm._t(\"spinner\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"","<template>\n  <h1 class=\"text-h5 text-left py-3\">\n    <span>{{ title }}</span>\n    <slot name=\"refreshIcon\"></slot>\n    <slot name=\"titleActions\"></slot>\n    <slot name=\"spinner\"></slot>\n  </h1>\n</template>\n<script>\nexport default {\n  name: 'page-title',\n  props: ['title'],\n};\n</script>\n","import { render, staticRenderFns } from \"./PageTitle.vue?vue&type=template&id=6741f03a&\"\nimport script from \"./PageTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./PageTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-title',{attrs:{\"title\":\"User Management\"},scopedSlots:_vm._u([{key:\"titleActions\",fn:function(){return [_c('tooltip-icon-button',{attrs:{\"btnColor\":\"blue\",\"btnIcon\":\"fa-cogs\",\"btnTooltip\":\"Configure user's push notification\",\"onClick\":function () { return _vm.openFCMDialog(); }}})]},proxy:true}])}),_vm._v(\" \"),_c('v-tabs',{attrs:{\"right\":\"\",\"color\":(\"\" + (_vm.$vuetify.theme.dark ? '': 'nubeGreen'))},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{key:0},[_vm._v(\"User Sites \")]),_vm._v(\" \"),_c('v-tab',{key:1},[_vm._v(\"App Users \")])],1),_vm._v(\" \"),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{key:0},[_c('user-site-grid')],1),_vm._v(\" \"),_c('v-tab-item',{key:1},[(_vm.tab == 1)?_c('user-management-grid'):_vm._e()],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"350\"},model:{value:(_vm.configFCMDialog),callback:function ($$v) {_vm.configFCMDialog=$$v},expression:\"configFCMDialog\"}},[_c('configure-fcm-key',{attrs:{\"close-dialog\":_vm.closeFCMDialog}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from '../axios';\n\nconst endpoint = api => `/user-management${api ? '' + api : ''}`;\n\nconst usersEndpoint = uuid => `${endpoint('/users')}${uuid ? '/' + uuid : ''}`;\n\nexport const fetchFCMServerKey = () => {\n  return http.get(endpoint('/fcm'));\n};\n\nexport const updateFCMServerKey = fcmKey => {\n  return http.put(endpoint('/fcm'), { key: fcmKey });\n};\n\nexport const fetchUsers = () => {\n  return http.get(usersEndpoint());\n};\n\nexport const fetchUserById = uuid => {\n  return http.get(usersEndpoint(uuid));\n};\n\nexport const updateUserById = (uuid, body) => {\n  return http.put(usersEndpoint(uuid), body);\n};\n\nexport const deleteUser = uuid => {\n  return http.delete(usersEndpoint(uuid));\n};\n\nexport const deleteUsers = uuids => {\n  return Promise.all(uuids.map(uuid => deleteUser(uuid)));\n};\n\nexport const verifyUser = user => {\n  return http.post(endpoint('/verify-user'), user);\n};\n\nexport const verifyUsers = users => {\n  return Promise.all(users.map(user => verifyUser(user).catch(err => err)));\n};\n","import http from '../axios';\n\nconst endpoint = uuid => `/user-sites${uuid ? '/' + uuid : ''}`;\n\nexport const fetchSites = () => {\n  return http.get(endpoint());\n};\n\nexport const createSite = site => {\n  return http.post(endpoint(), site);\n};\n\nexport const updateSite = (uuid, site) => {\n  return http.patch(endpoint(uuid), site);\n};\n\nexport const deleteSite = uuid => {\n  return http.delete(endpoint(uuid));\n};\n\nexport const fetchBySiteId = uuid => {\n  return http.get(endpoint(uuid));\n};\n\nexport const createSiteMapping = site => {\n  return http.post(`${endpoint()}/mapping`, site);\n};\n\nexport const deleteSiteMapping = site => {\n  return http.post(`${endpoint()}/remove-mapping`, site);\n};\n\nexport const createSitesMapping = (userId, siteIds) => {\n  return Promise.all(siteIds.map(siteId => createSiteMapping({ user_uuid: userId, site_uuid: siteId })));\n};\n\nexport const deleteSitesMapping = (userId, sites) => {\n  return Promise.all(sites.map(site => deleteSiteMapping({ user_uuid: userId, site_uuid: site.site_uuid, user_site_mapping_uuid: site.user_site_mapping_uuid })));\n};\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapUserSiteForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapUserSiteForm.vue?vue&type=script&lang=js&\"","<template>\n  <v-card class=\"map-user-site-form\">\n    <v-card-title>\n      <span\n        >Assign Site to <span class=\"nubeGreen--text\">{{ user.username }}</span></span\n      >\n    </v-card-title>\n    <v-card-text class=\"pa-0\">\n      <v-container>\n        <v-text-field\n          v-model=\"search\"\n          @input=\"onSearchChange\"\n          class=\"pa-5\"\n          append-icon=\"fa-search\"\n          label=\"Search selected sites\"\n          single-line\n          v-if=\"siteItems.length > 0\"\n          hide-details\n        ></v-text-field>\n        <v-data-table\n          show-select\n          :headers=\"headers\"\n          v-if=\"siteItems.length > 0\"\n          :search=\"search\"\n          v-model=\"selectedSites\"\n          :custom-filter=\"filterCriteria\"\n          item-key=\"uuid\"\n          :items-per-page=\"10\"\n          :hide-default-footer=\"siteItems.length < 10\"\n          :items=\"siteItems\"\n        >\n        </v-data-table>\n        <v-alert class=\"mb-0 text-left\" v-if=\"siteItems.length === 0\" dense type=\"info\">\n          All location sites have been assigned to {{ user.username }}\n        </v-alert>\n      </v-container>\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn\n        x-small\n        class=\"mr-1 btn-height-22 white--text\"\n        :loading=\"isSubmitting\"\n        color=\"nubeGreen\"\n        :disabled=\"!selectedSites.length\"\n        @click=\"onSubmit\"\n      >\n        Assign\n      </v-btn>\n      <v-btn x-small class=\"mr-1 btn-height-22\" text @click=\"onClose\"> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nexport default {\n  name: 'map-user-site-form',\n  props: ['sites', 'user', 'onClose', 'handleSubmit'],\n  data() {\n    return {\n      valid: false,\n      isSubmitting: false,\n      search: '',\n      searchItems: [],\n      formErrorMessage: '',\n      selectedSites: [],\n      headers: [\n        {\n          text: 'Site Name',\n          align: 'start',\n          color: 'primary',\n          sortable: true,\n          value: 'name',\n        },\n        {\n          text: 'City',\n          align: 'center',\n          sortable: true,\n          value: 'city',\n        },\n        {\n          text: 'Country',\n          align: 'center',\n          sortable: true,\n          value: 'country',\n        },\n        {\n          text: 'Timezone',\n          align: 'right',\n          sortable: true,\n          value: 'timezone',\n          default: '-',\n        },\n      ],\n    };\n  },\n  computed: {\n    siteItems() {\n      const userSites = this.user.sites.map(item => item.site_uuid);\n      const sites = this.sites.filter(site => !~userSites.indexOf(site.uuid));\n      return sites;\n    },\n  },\n  methods: {\n    onSubmit() {\n      if (typeof this.handleSubmit === 'function') {\n        this.isSubmitting = true;\n        this.handleSubmit(\n          this.user,\n          this.selectedSites.map(item => item.uuid),\n        )\n          .catch(err => {})\n          .finally(() => {\n            this.isSubmitting = false;\n          });\n      }\n    },\n    onSearchChange() {\n      this.searchItems = this.search.split(',').map(val => val.trim());\n    },\n    filterCriteria(value, search, item) {\n      return (\n        value != null &&\n        this.searchItems &&\n        Array.isArray(this.searchItems) &&\n        this.searchItems.length > 0 &&\n        this.searchItems.every(val => typeof val === 'string') &&\n        this.searchItems.some(searchVal => value.toString().toLowerCase().indexOf(searchVal.toLowerCase()) !== -1)\n      );\n    },\n  },\n};\n</script>\n<style scoped>\n.map-user-site-form .v-list-item__title {\n  text-align: left !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./mapUserSiteForm.vue?vue&type=template&id=75e88f7a&scoped=true&\"\nimport script from \"./mapUserSiteForm.vue?vue&type=script&lang=js&\"\nexport * from \"./mapUserSiteForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mapUserSiteForm.vue?vue&type=style&index=0&id=75e88f7a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75e88f7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"map-user-site-form\"},[_c('v-card-title',[_c('span',[_vm._v(\"Assign Site to \"),_c('span',{staticClass:\"nubeGreen--text\"},[_vm._v(_vm._s(_vm.user.username))])])]),_vm._v(\" \"),_c('v-card-text',{staticClass:\"pa-0\"},[_c('v-container',[(_vm.siteItems.length > 0)?_c('v-text-field',{staticClass:\"pa-5\",attrs:{\"append-icon\":\"fa-search\",\"label\":\"Search selected sites\",\"single-line\":\"\",\"hide-details\":\"\"},on:{\"input\":_vm.onSearchChange},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}):_vm._e(),_vm._v(\" \"),(_vm.siteItems.length > 0)?_c('v-data-table',{attrs:{\"show-select\":\"\",\"headers\":_vm.headers,\"search\":_vm.search,\"custom-filter\":_vm.filterCriteria,\"item-key\":\"uuid\",\"items-per-page\":10,\"hide-default-footer\":_vm.siteItems.length < 10,\"items\":_vm.siteItems},model:{value:(_vm.selectedSites),callback:function ($$v) {_vm.selectedSites=$$v},expression:\"selectedSites\"}}):_vm._e(),_vm._v(\" \"),(_vm.siteItems.length === 0)?_c('v-alert',{staticClass:\"mb-0 text-left\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n        All location sites have been assigned to \"+_vm._s(_vm.user.username)+\"\\n      \")]):_vm._e()],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"loading\":_vm.isSubmitting,\"color\":\"nubeGreen\",\"disabled\":!_vm.selectedSites.length},on:{\"click\":_vm.onSubmit}},[_vm._v(\"\\n      Assign\\n    \")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22\",attrs:{\"x-small\":\"\",\"text\":\"\"},on:{\"click\":_vm.onClose}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deassignSiteForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deassignSiteForm.vue?vue&type=script&lang=js&\"","<template>\n  <v-card>\n    <v-card-title>\n      <span\n        >Deassign sites of <span class=\"red--text light\">{{ user.username }}</span></span\n      >\n    </v-card-title>\n    <v-card-text class=\"pa-0\">\n      <v-container>\n        <v-text-field\n          v-model=\"search\"\n          @input=\"onSearchChange\"\n          class=\"pa-5\"\n          append-icon=\"fa-search\"\n          label=\"Search selected sites\"\n          single-line\n          v-if=\"userSelectedSites.length > 0\"\n          hide-details\n        ></v-text-field>\n        <v-data-table\n          show-select\n          :headers=\"headers\"\n          v-if=\"userSelectedSites.length > 0\"\n          :search=\"search\"\n          :custom-filter=\"filterCriteria\"\n          v-model=\"selectedItems\"\n          item-key=\"uuid\"\n          :items-per-page=\"10\"\n          :hide-default-footer=\"userSelectedSites.length < 10\"\n          :items=\"userSelectedSites\"\n        >\n        </v-data-table>\n        <v-alert v-else class=\"mb-0 text-left\" dense type=\"info\">\n          No sites are assigned to {{ user.username }}\n        </v-alert>\n      </v-container>\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn\n        x-small\n        class=\"mr-1 btn-height-22 white--text\"\n        color=\"blue darken-1\"\n        :loading=\"isSubmitting\"\n        :disabled=\"!selectedItems.length\"\n        @click=\"onSubmit\"\n      >\n        Deassign\n      </v-btn>\n      <v-btn x-small class=\"mr-1 btn-height-22\" text @click=\"onClose\">Cancel</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nexport default {\n  name: 'map-user-site-form',\n  props: ['sites', 'user', 'onClose', 'handleSubmit', 'sites-map'],\n  data() {\n    return {\n      valid: false,\n      isSubmitting: false,\n      search: '',\n      searchItems: [],\n      formErrorMessage: '',\n      selectedSites: [],\n      selectedItems: [],\n      headers: [\n        {\n          text: 'Site Name',\n          align: 'start',\n          color: 'primary',\n          sortable: true,\n          value: 'name',\n        },\n        {\n          text: 'City',\n          align: 'center',\n          sortable: true,\n          value: 'city',\n        },\n        {\n          text: 'Country',\n          align: 'center',\n          sortable: true,\n          value: 'country',\n        },\n        {\n          text: 'Timezone',\n          align: 'right',\n          sortable: true,\n          value: 'timezone',\n          default: '-',\n        },\n      ],\n    };\n  },\n  computed: {\n    userSelectedSites() {\n      const userSites = this.user.sites.map(\n        item =>\n          (this.sitesMap &&\n            this.sitesMap[item.site_uuid] && { ...this.sitesMap[item.site_uuid], userSiteUUID: item.uuid }) ||\n          null,\n      );\n      return userSites;\n    },\n  },\n\n  methods: {\n    onSubmit() {\n      if (typeof this.handleSubmit === 'function') {\n        this.isSubmitting = true;\n        this.handleSubmit(\n          this.user,\n          this.selectedItems.map(item => ({ site_uuid: item.uuid, user_site_mapping_uuid: item.userSiteUUID })),\n        )\n          .catch(err => {})\n          .finally(() => {\n            this.isSubmitting = false;\n          });\n      }\n    },\n    onSearchChange() {\n      this.searchItems = this.search.split(',').map(val => val.trim());\n    },\n    filterCriteria(value, search, item) {\n      return (\n        value != null &&\n        this.searchItems &&\n        Array.isArray(this.searchItems) &&\n        this.searchItems.length > 0 &&\n        this.searchItems.every(val => typeof val === 'string') &&\n        this.searchItems.some(searchVal => value.toString().toLowerCase().indexOf(searchVal.toLowerCase()) !== -1)\n      );\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./deassignSiteForm.vue?vue&type=template&id=12a0deff&\"\nimport script from \"./deassignSiteForm.vue?vue&type=script&lang=js&\"\nexport * from \"./deassignSiteForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('span',[_vm._v(\"Deassign sites of \"),_c('span',{staticClass:\"red--text light\"},[_vm._v(_vm._s(_vm.user.username))])])]),_vm._v(\" \"),_c('v-card-text',{staticClass:\"pa-0\"},[_c('v-container',[(_vm.userSelectedSites.length > 0)?_c('v-text-field',{staticClass:\"pa-5\",attrs:{\"append-icon\":\"fa-search\",\"label\":\"Search selected sites\",\"single-line\":\"\",\"hide-details\":\"\"},on:{\"input\":_vm.onSearchChange},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}):_vm._e(),_vm._v(\" \"),(_vm.userSelectedSites.length > 0)?_c('v-data-table',{attrs:{\"show-select\":\"\",\"headers\":_vm.headers,\"search\":_vm.search,\"custom-filter\":_vm.filterCriteria,\"item-key\":\"uuid\",\"items-per-page\":10,\"hide-default-footer\":_vm.userSelectedSites.length < 10,\"items\":_vm.userSelectedSites},model:{value:(_vm.selectedItems),callback:function ($$v) {_vm.selectedItems=$$v},expression:\"selectedItems\"}}):_c('v-alert',{staticClass:\"mb-0 text-left\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n        No sites are assigned to \"+_vm._s(_vm.user.username)+\"\\n      \")])],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"blue darken-1\",\"loading\":_vm.isSubmitting,\"disabled\":!_vm.selectedItems.length},on:{\"click\":_vm.onSubmit}},[_vm._v(\"\\n      Deassign\\n    \")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22\",attrs:{\"x-small\":\"\",\"text\":\"\"},on:{\"click\":_vm.onClose}},[_vm._v(\"Cancel\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","v<template>\n  <div>\n    <v-toolbar flat>\n      <v-toolbar-title class=\"mr-6\">Users</v-toolbar-title>\n      <v-btn\n        @click=\"() => verifyUsers(selectedItems)\"\n        :disabled=\"selectedItems.length == 0\"\n        x-small\n        color=\"nubeGreen\"\n        class=\"mr-3 btn-height-22 white--text\"\n      >\n        Verify User\n        <v-icon x-small right dark> fa-check </v-icon>\n      </v-btn>\n      <v-btn\n        @click=\"() => toggleDialog(dialogNames.deleteUsers)\"\n        :disabled=\"selectedItems.length == 0\"\n        x-small\n        color=\"red darken-1\"\n        class=\"mr-3 btn-height-22 white--text\"\n      >\n        Delete User(s)\n        <v-icon x-small right dark> fa-trash-o </v-icon>\n      </v-btn>\n      <!-- <v-btn x-small class=\"white--text\" color=\"pink\" dark> New User <v-icon x-small right dark> fa-plus </v-icon></v-btn> -->\n\n      <v-text-field\n        v-model=\"search\"\n        @input=\"onSearchChange\"\n        append-icon=\"fa-search\"\n        label=\"Search\"\n        single-line\n        hide-details\n        class=\"pl-10\"\n      ></v-text-field>\n      <v-menu bottom left>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\" :color=\"appliedFilterCount > 0 ? 'blue' : ''\">\n            <v-icon>fa-filter</v-icon>\n          </v-btn>\n        </template>\n\n        <v-list dense>\n          <v-subheader>Filters</v-subheader>\n\n          <v-list-item>\n            <v-list-item-title>\n              <v-checkbox\n                class=\"mt-0\"\n                hide-details\n                v-model=\"filters.isUnverified\"\n                label=\"Unverified Users\"\n              ></v-checkbox>\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n      <v-spacer></v-spacer>\n    </v-toolbar>\n    <v-data-table\n      show-select\n      item-key=\"uuid\"\n      :search=\"search\"\n      :headers=\"headers\"\n      :items=\"dataItems\"\n      class=\"elevation-1\"\n      v-model=\"selectedItems\"\n      :loading=\"isFetchingUsers\"\n      :custom-filter=\"filterCriteria\"\n      :footer-props=\"tableProps.FOOTER_PROPS\"\n      :itemsPerPage=\"tableProps.ITEMS_PER_PAGE\"\n    >\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <div>\n          <tooltip-icon-button\n            btnIcon=\"fa-map\"\n            btnColor=\"nubeGreen\"\n            btnTooltip=\"Assign site\"\n            buttonSize=\"medium\"\n            :onClick=\"() => toggleDialog(dialogNames.assignSite, item)\"\n            :loading=\"item.isVerifying\"\n          ></tooltip-icon-button>\n\n          <tooltip-icon-button\n            btnIcon=\"fa-map-o\"\n            btnTooltip=\"Deassign site\"\n            btnColor=\"red darken-1\"\n            buttonSize=\"medium\"\n            :onClick=\"() => toggleDialog(dialogNames.deassignSite, item)\"\n            :loading=\"item.isVerifying\"\n          ></tooltip-icon-button>\n        </div>\n      </template>\n      <template v-slot:[`item.state`]=\"{ item }\">\n        <span class=\"font-weight-medium\">\n          <v-chip v-if=\"item.state === 'VERIFIED'\" small dark color=\"darken-2 blue\">VERIFIED</v-chip>\n          <v-chip v-if=\"item.state === 'UNVERIFIED'\" small dark color=\"darken-1 brown\">UNVERIFIED</v-chip>\n        </span>\n      </template>\n      <template v-slot:[`item.assignedSites`]=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <p class=\"mb-0 text-ellipses text-center\" v-bind=\"attrs\" v-on=\"on\">\n              <span>{{ item.userSite }}</span>\n            </p>\n          </template>\n          <span>{{ item.userSite }}</span>\n        </v-tooltip>\n      </template>\n    </v-data-table>\n    <v-dialog v-model=\"dialog[dialogNames.deassignSite]\" persistent max-width=\"500px\">\n      <deassign-site-form\n        v-if=\"dialog[dialogNames.deassignSite]\"\n        :sites=\"userSites\"\n        :sites-map=\"userSitesMap\"\n        :user=\"selectedItem\"\n        :handleSubmit=\"deassignSite\"\n        :onClose=\"() => closeDialog(dialogNames.deassignSite)\"\n      ></deassign-site-form>\n    </v-dialog>\n    <v-dialog v-model=\"dialog[dialogNames.assignSite]\" persistent max-width=\"500px\">\n      <map-user-site-form\n        v-if=\"dialog[dialogNames.assignSite]\"\n        :sites=\"userSites\"\n        :user=\"selectedItem\"\n        :handleSubmit=\"assignSite\"\n        :onClose=\"() => closeDialog(dialogNames.assignSite)\"\n      ></map-user-site-form>\n    </v-dialog>\n    <confirm-dialog></confirm-dialog>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteUsers]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteUsers)\"\n      :on-confirm=\"deleteUsers\"\n      :loading=\"isDeletingUsers\"\n      dialog-text=\"Are you sure to delete User(s)?\"\n    ></confirm-dialog>\n  </div>\n</template>\n\n<script>\nimport GridToolbar from '../Common/GridToolbar';\nimport ConfirmDialog from '../Common/ConfirmDialog.vue';\nimport { DATA_TABLE_PROPS, USER_VERIFICATION_STATE } from '../../constants/appConstant';\nimport * as userManagementService from '../../services/userManagementService';\nimport * as userSitesService from '../../services/userSitesService';\nimport MapUserSiteForm from './mapUserSiteForm.vue';\nimport DeassignSiteForm from './deassignSiteForm.vue';\nimport TooltipIconButton from '../RubixApps/TooltipIconButton.vue';\nconst dialogNames = {\n  assignSite: 'assignSite',\n  deassignSite: 'deassignSite',\n  deleteUsers: 'deleteUsers',\n};\nexport default {\n  name: 'discover-devices',\n  components: { GridToolbar, MapUserSiteForm, DeassignSiteForm, ConfirmDialog, TooltipIconButton },\n  data: () => ({\n    search: '',\n    searchItems: [],\n    userSites: [],\n    isDeletingUsers: false,\n    userSitesMap: null,\n    selectedItem: {},\n    items: [],\n    dialog: false,\n    isFetchingUsers: false,\n    selectedItems: [],\n    isVerifying: false,\n    filters: {\n      isUnverified: false,\n    },\n    dialogNames: { ...dialogNames },\n    dialog: {\n      [dialogNames.assignSite]: false,\n      [dialogNames.deassignSite]: false,\n      [dialogNames.deleteUsers]: false,\n    },\n    userVerificationState: { ...USER_VERIFICATION_STATE },\n    headers: [\n      {\n        text: 'First Name',\n        align: 'start',\n        sortable: true,\n        value: 'first_name',\n      },\n      { text: 'Last Name', align: 'center', value: 'last_name', sortable: true },\n      { text: 'Username', align: 'center', value: 'username', sortable: true },\n      { text: 'Email', align: 'center', value: 'email', sortable: true },\n      { text: 'Verification Status', align: 'center', value: 'state', sortable: true },\n      {\n        text: 'Assigned Sites',\n        align: 'center',\n        value: 'assignedSites',\n        width: '20ch',\n      },\n      { text: 'Action', align: 'center', value: 'actions' },\n    ],\n    tableProps: { ...DATA_TABLE_PROPS },\n  }),\n  computed: {\n    appliedFilterCount() {\n      return Object.keys(this.filters).reduce((acc, filterKey) => {\n        if (this.filters[filterKey]) {\n          acc++;\n        }\n        return acc;\n      }, 0);\n    },\n    dataItems() {\n      this.userSitesMap; // trigger the view re-rendering\n      return (this.items || [])\n        .map(item => ({\n          ...item,\n          isVerifying: false,\n          userSite: this.getSiteNamesForUser(item),\n          assignedSitesNumber: (item.sites || []).length,\n        }))\n        .filter(val => !(this.filters.isUnverified && val.state !== USER_VERIFICATION_STATE.UNVERIFIED));\n    },\n  },\n  mounted() {\n    this.initialize();\n  },\n  methods: {\n    getSiteNamesForUser(user) {\n      const userSiteMapping = user.sites || [];\n      if (!userSiteMapping.length) {\n        return 'Not assigned';\n      }\n\n      if (!this.userSitesMap) {\n        return 'Loading...';\n      }\n\n      if (this.userSitesMap) {\n        const userSites = userSiteMapping\n          .map(siteMapping => this.userSitesMap[siteMapping.site_uuid])\n          .filter(val => val);\n        return userSites.map(userSite => userSite.name).join(', ');\n      }\n    },\n    async initialize() {\n      this.isFetchingUsers = true;\n      await this.fetchUsers();\n      await this.fetchUserSites();\n      this.isFetchingUsers = false;\n    },\n    fetchUserSites() {\n      return userSitesService.fetchSites().then(data => {\n        this.userSites = data;\n        this.userSitesMap = this.userSites.reduce((acc, userSite) => {\n          acc[userSite.uuid] = { ...userSite };\n\n          return acc;\n        }, {});\n      });\n    },\n    toggleDialog(dialogName, item) {\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedItem = item;\n      } else {\n        this.selectedItem = null;\n      }\n    },\n    closeDialog(dialogName) {\n      this.dialog[dialogName] = false;\n      this.selectedItem = {};\n    },\n    fetchUsers() {\n      return userManagementService\n        .fetchUsers()\n        .then(data => {\n          this.items = data;\n        })\n        .catch(err => {});\n    },\n    verifyUsers() {\n      const unverifiedUsers = this.selectedItems.filter(item => item.state == USER_VERIFICATION_STATE.UNVERIFIED);\n      if (!unverifiedUsers.length) {\n        this.selectedItems = [];\n        return this.$toasted.show('Please select unverified users!', { type: 'info' });\n      }\n      this.isVerifying = true;\n      return userManagementService\n        .verifyUsers(unverifiedUsers)\n        .then(() => {\n          this.$toasted.show(`Successfully verified #${unverifiedUsers.length} number of user(s).`);\n          this.fetchUsers();\n        })\n        .finally(() => {\n          this.selectedItems = [];\n        });\n    },\n    verifyUser(item) {\n      item.isVerifying = true;\n      return userManagementService\n        .verifyUser({ username: item.username })\n        .then(() => {\n          this.$toasted.show(`${item.username} verified`);\n          this.selectedItems = [];\n\n          this.fetchUsers();\n        })\n        .catch(err => {})\n        .finally(() => {\n          item.isVerifying = false;\n        });\n    },\n    assignSite(user, selectedSites) {\n      const userId = user.uuid;\n      return userSitesService.createSitesMapping(userId, selectedSites).then(() => {\n        this.$toasted.show(`Successfully assigned #${selectedSites.length} number of sites to user: ${user.username}`);\n        this.closeDialog(this.dialogNames.assignSite);\n        this.fetchUsers();\n      });\n    },\n    deassignSite(user, selectedSites) {\n      const userId = user.uuid;\n      return userSitesService.deleteSitesMapping(userId, selectedSites).then(() => {\n        this.$toasted.show(`Successfully deassigned sites of user: ${user.username}`);\n        this.closeDialog(this.dialogNames.deassignSite);\n        this.fetchUsers();\n      });\n    },\n    deleteUsers() {\n      const userIds = this.selectedItems.map(user => user.uuid);\n      this.isDeletingUsers = true;\n      return userManagementService\n        .deleteUsers(userIds)\n        .then(() => {\n          this.$toasted.show(`Successfully deleted # ${userIds.length} number of users.`);\n          this.closeDialog(this.dialogNames.deleteUsers);\n          this.selectedItems = [];\n          this.fetchUsers();\n        })\n        .catch(err => {})\n        .finally(() => {\n          this.isDeletingUsers = false;\n        });\n    },\n    onSearchChange() {\n      this.searchItems = this.search.split(',').map(val => val.trim());\n    },\n    filterCriteria(value, search, item) {\n      return (\n        value != null &&\n        this.searchItems &&\n        Array.isArray(this.searchItems) &&\n        this.searchItems.length > 0 &&\n        this.searchItems.every(val => typeof val === 'string') &&\n        this.searchItems.some(searchVal => value.toString().toLowerCase().indexOf(searchVal.toLowerCase()) !== -1)\n      );\n    },\n  },\n};\n</script>\n<style scoped>\n.text-ellipses {\n  max-width: 20ch;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userManagementGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userManagementGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userManagementGrid.vue?vue&type=template&id=158b0c2c&scoped=true&\"\nimport script from \"./userManagementGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./userManagementGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userManagementGrid.vue?vue&type=style&index=0&id=158b0c2c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"158b0c2c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"mr-6\"},[_vm._v(\"Users\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-3 btn-height-22 white--text\",attrs:{\"disabled\":_vm.selectedItems.length == 0,\"x-small\":\"\",\"color\":\"nubeGreen\"},on:{\"click\":function () { return _vm.verifyUsers(_vm.selectedItems); }}},[_vm._v(\"\\n      Verify User\\n      \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-check \")])],1),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-3 btn-height-22 white--text\",attrs:{\"disabled\":_vm.selectedItems.length == 0,\"x-small\":\"\",\"color\":\"red darken-1\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteUsers); }}},[_vm._v(\"\\n      Delete User(s)\\n      \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-trash-o \")])],1),_vm._v(\" \"),_c('v-text-field',{staticClass:\"pl-10\",attrs:{\"append-icon\":\"fa-search\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},on:{\"input\":_vm.onSearchChange},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_vm._v(\" \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"color\":_vm.appliedFilterCount > 0 ? 'blue' : ''}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"fa-filter\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Filters\")]),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-title',[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Unverified Users\"},model:{value:(_vm.filters.isUnverified),callback:function ($$v) {_vm.$set(_vm.filters, \"isUnverified\", $$v)},expression:\"filters.isUnverified\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"show-select\":\"\",\"item-key\":\"uuid\",\"search\":_vm.search,\"headers\":_vm.headers,\"items\":_vm.dataItems,\"loading\":_vm.isFetchingUsers,\"custom-filter\":_vm.filterCriteria,\"footer-props\":_vm.tableProps.FOOTER_PROPS,\"itemsPerPage\":_vm.tableProps.ITEMS_PER_PAGE},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',[_c('tooltip-icon-button',{attrs:{\"btnIcon\":\"fa-map\",\"btnColor\":\"nubeGreen\",\"btnTooltip\":\"Assign site\",\"buttonSize\":\"medium\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.assignSite, item); },\"loading\":item.isVerifying}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnIcon\":\"fa-map-o\",\"btnTooltip\":\"Deassign site\",\"btnColor\":\"red darken-1\",\"buttonSize\":\"medium\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.deassignSite, item); },\"loading\":item.isVerifying}})],1)]}},{key:\"item.state\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"font-weight-medium\"},[(item.state === 'VERIFIED')?_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\",\"color\":\"darken-2 blue\"}},[_vm._v(\"VERIFIED\")]):_vm._e(),_vm._v(\" \"),(item.state === 'UNVERIFIED')?_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\",\"color\":\"darken-1 brown\"}},[_vm._v(\"UNVERIFIED\")]):_vm._e()],1)]}},{key:\"item.assignedSites\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('p',_vm._g(_vm._b({staticClass:\"mb-0 text-ellipses text-center\"},'p',attrs,false),on),[_c('span',[_vm._v(_vm._s(item.userSite))])])]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.userSite))])])]}}],null,true),model:{value:(_vm.selectedItems),callback:function ($$v) {_vm.selectedItems=$$v},expression:\"selectedItems\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.deassignSite]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.deassignSite, $$v)},expression:\"dialog[dialogNames.deassignSite]\"}},[(_vm.dialog[_vm.dialogNames.deassignSite])?_c('deassign-site-form',{attrs:{\"sites\":_vm.userSites,\"sites-map\":_vm.userSitesMap,\"user\":_vm.selectedItem,\"handleSubmit\":_vm.deassignSite,\"onClose\":function () { return _vm.closeDialog(_vm.dialogNames.deassignSite); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.assignSite]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.assignSite, $$v)},expression:\"dialog[dialogNames.assignSite]\"}},[(_vm.dialog[_vm.dialogNames.assignSite])?_c('map-user-site-form',{attrs:{\"sites\":_vm.userSites,\"user\":_vm.selectedItem,\"handleSubmit\":_vm.assignSite,\"onClose\":function () { return _vm.closeDialog(_vm.dialogNames.assignSite); }}}):_vm._e()],1),_vm._v(\" \"),_c('confirm-dialog'),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteUsers],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteUsers); },\"on-confirm\":_vm.deleteUsers,\"loading\":_vm.isDeletingUsers,\"dialog-text\":\"Are you sure to delete User(s)?\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSiteForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSiteForm.vue?vue&type=script&lang=js&\"","<template>\n  <v-card>\n    <v-card-title>Site Form</v-card-title>\n    <v-card-text>\n      <v-container>\n        <v-form v-model=\"valid\" ref=\"form\" lazy-validation>\n          <v-row>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"Site Name\"\n                v-model=\"formData.name\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"Street Address\"\n                v-model=\"formData.address\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"City/Town\"\n                v-model=\"formData.city\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"State\"\n                v-model=\"formData.state\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"Zip/Postcode\"\n                v-model=\"formData.zip\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"Country\"\n                v-model=\"formData.country\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"Latitude\"\n                v-model=\"formData.lat\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n              <v-text-field\n                dense\n                label=\"Longitude\"\n                v-model=\"formData.lon\"\n                required\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n              <v-autocomplete\n                dense\n                v-model=\"formData.time_zone\"\n                required\n                label=\"Timezone\"\n                :rules=\"[rules.required]\"\n                :items=\"timezones\"\n                clearable\n              ></v-autocomplete>\n            </v-col>\n          </v-row>\n        </v-form>\n        <v-alert v-if=\"!!formErrorMessage\" class=\"text-left\" dense outlined type=\"error\">\n          {{ formErrorMessage }}\n        </v-alert>\n      </v-container>\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn\n        x-small\n        class=\"mr-1 btn-height-22 white--text\"\n        color=\"blue darken-1\"\n        :loading=\"isSubmitting\"\n        :disabled=\"!valid\"\n        @click=\"onSubmit\"\n        >Save</v-btn\n      >\n      <v-btn x-small class=\"mr-1 btn-height-22\" text @click=\"onClose\">Cancel</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport momentTz from 'moment-timezone/builds/moment-timezone-with-data.js';\nexport default {\n  props: ['site', 'isEditForm', 'onClose', 'handleSave'],\n  data() {\n    return {\n      valid: false,\n      isSubmitting: false,\n      formErrorMessage: '',\n      formData: {\n        name: '',\n        address: '',\n        city: '',\n        state: '',\n        zip: '',\n        country: '',\n        lat: '',\n        lon: '',\n        time_zone: '',\n      },\n      timezones: [],\n      rules: { required: value => !!value || 'Required.' },\n    };\n  },\n  created() {\n    this.timezones = momentTz.tz.names();\n    if (this.isEditForm && this.site) {\n      this.formData.name = this.site.name;\n      this.formData.address = this.site.address;\n      this.formData.city = this.site.city;\n      this.formData.state = this.site.state;\n      this.formData.zip = this.site.zip;\n      this.formData.country = this.site.country;\n      this.formData.lat = this.site.lat;\n      this.formData.lon = this.site.lon;\n      this.formData.time_zone = this.site.time_zone;\n    }\n  },\n  methods: {\n    onSubmit() {\n      if (!this.$refs.form.validate()) {\n        return;\n      }\n      if (typeof this.handleSave === 'function') {\n        this.isSubmitting = true;\n        this.handleSave(this.formData, this.isEditForm ? this.site.uuid : undefined)\n          .catch(err => {\n            if (err && err.message) {\n              this.formErrorMessage = err.message;\n            }\n          })\n          .finally(() => {\n            this.isSubmitting = false;\n          });\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./UserSiteForm.vue?vue&type=template&id=550b604e&\"\nimport script from \"./UserSiteForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSiteForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"Site Form\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Site Name\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Street Address\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.address),callback:function ($$v) {_vm.$set(_vm.formData, \"address\", $$v)},expression:\"formData.address\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"City/Town\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.city),callback:function ($$v) {_vm.$set(_vm.formData, \"city\", $$v)},expression:\"formData.city\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"State\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.state),callback:function ($$v) {_vm.$set(_vm.formData, \"state\", $$v)},expression:\"formData.state\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Zip/Postcode\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.zip),callback:function ($$v) {_vm.$set(_vm.formData, \"zip\", $$v)},expression:\"formData.zip\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Country\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.country),callback:function ($$v) {_vm.$set(_vm.formData, \"country\", $$v)},expression:\"formData.country\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Latitude\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.lat),callback:function ($$v) {_vm.$set(_vm.formData, \"lat\", $$v)},expression:\"formData.lat\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Longitude\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.formData.lon),callback:function ($$v) {_vm.$set(_vm.formData, \"lon\", $$v)},expression:\"formData.lon\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"required\":\"\",\"label\":\"Timezone\",\"rules\":[_vm.rules.required],\"items\":_vm.timezones,\"clearable\":\"\"},model:{value:(_vm.formData.time_zone),callback:function ($$v) {_vm.$set(_vm.formData, \"time_zone\", $$v)},expression:\"formData.time_zone\"}})],1)],1)],1),_vm._v(\" \"),(!!_vm.formErrorMessage)?_c('v-alert',{staticClass:\"text-left\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.formErrorMessage)+\"\\n      \")]):_vm._e()],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"blue darken-1\",\"loading\":_vm.isSubmitting,\"disabled\":!_vm.valid},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Save\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22\",attrs:{\"x-small\":\"\",\"text\":\"\"},on:{\"click\":_vm.onClose}},[_vm._v(\"Cancel\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-toolbar flat>\n      <v-toolbar-title class=\"mr-6\">User Sites</v-toolbar-title>\n      <v-btn x-small @click=\"toggleDialog(dialogNames.siteDialog)\" class=\"mr-1 btn-height-22 white--text\" color=\"pink\">\n        New Site<v-icon x-small right> fa-plus </v-icon>\n      </v-btn>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"fa-search\"\n        label=\"Search site\"\n        single-line\n        @input=\"onSearchChange\"\n        hide-details\n        class=\"pl-10\"\n      ></v-text-field>\n      <v-spacer></v-spacer>\n    </v-toolbar>\n    <v-data-table\n      v-model=\"selectedItems\"\n      item-key=\"uuid\"\n      show-select\n      :loading=\"isFetchingSites\"\n      :search=\"search\"\n      :custom-filter=\"filterCriteria\"\n      :headers=\"headers\"\n      :items=\"items\"\n      class=\"elevation-1\"\n      :footer-props=\"tableProps.FOOTER_PROPS\"\n      :itemsPerPage=\"tableProps.ITEMS_PER_PAGE\"\n    >\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <tooltip-icon-button\n          btnColor=\"blue darken\"\n          btnIcon=\"fa-pencil\"\n          btnTooltip=\"Edit Site\"\n          :onClick=\"() => toggleDialog(dialogNames.editSiteDialog, item)\"\n        ></tooltip-icon-button>\n        <tooltip-icon-button\n          btnColor=\"error darken\"\n          btnIcon=\"fa-trash-o\"\n          btnTooltip=\"Delete Site\"\n          :onClick=\"() => toggleDialog(dialogNames.removeSite, item)\"\n        ></tooltip-icon-button>\n      </template>\n    </v-data-table>\n    <v-dialog v-model=\"dialog[dialogNames.siteDialog]\" persistent max-width=\"500px\">\n      <user-site-form\n        v-if=\"dialog[dialogNames.siteDialog]\"\n        :handle-save=\"createSite\"\n        :on-close=\"() => closeDialog(dialogNames.siteDialog)\"\n      ></user-site-form>\n    </v-dialog>\n    <v-dialog v-model=\"dialog[dialogNames.editSiteDialog]\" persistent max-width=\"500px\">\n      <user-site-form\n        v-if=\"dialog[dialogNames.editSiteDialog]\"\n        :on-close=\"() => closeDialog(dialogNames.editSiteDialog)\"\n        :site=\"selectedApp\"\n        :is-edit-form=\"true\"\n        :handle-save=\"editSite\"\n      ></user-site-form>\n    </v-dialog>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.removeSite]\"\n      :on-close=\"() => closeDialog(dialogNames.removeSite)\"\n      :on-confirm=\"() => removeSite()\"\n      :loading=\"isDeletingSite\"\n      dialog-text=\"Do you want to delete the User Site?\"\n    ></confirm-dialog>\n  </div>\n</template>\n\n<script>\nimport UserSiteForm from './UserSiteForm.vue';\nimport GridToolbar from '../Common/GridToolbar';\nimport ConfirmDialog from '../Common/ConfirmDialog.vue';\nimport { DATA_TABLE_PROPS, USER_VERIFICATION_STATE } from '../../constants/appConstant';\nimport * as userSitesService from '../../services/userSitesService';\n\nimport TooltipIconButton from '../RubixApps/TooltipIconButton.vue';\nconst dialogNames = {\n  siteDialog: 'siteDialog',\n  removeSite: 'remove',\n  editSiteDialog: 'editSiteDialog',\n};\n\nexport default {\n  name: 'user-site-grid',\n  components: { GridToolbar, TooltipIconButton, ConfirmDialog, UserSiteForm },\n  data: () => ({\n    search: '',\n    searchItems: [],\n    site: {},\n    siteDialog: false,\n    isDeletingSite: false,\n    items: [],\n    dialog: false,\n    selectedApp: {},\n    dialogNames: { ...dialogNames },\n    dialog: {\n      [dialogNames.siteDialog]: false,\n      [dialogNames.removeSite]: false,\n      [dialogNames.editSiteDialog]: false,\n    },\n    isFetchingSites: false,\n    selectedItems: [],\n    headers: [\n      {\n        text: 'Site name',\n        align: 'start',\n        sortable: true,\n        value: 'name',\n      },\n      { text: 'Address', align: 'center', value: 'address', sortable: true },\n      { text: 'City', align: 'center', value: 'city', sortable: true },\n      { text: 'State', align: 'center', value: 'state', sortable: true },\n      { text: 'Zip Code', align: 'center', value: 'zip', sortable: true },\n      { text: 'Latitude', align: 'center', value: 'lat', sortable: true },\n      { text: 'Longitude', align: 'center', value: 'lon', sortable: true },\n      { text: 'Timezone', align: 'center', value: 'time_zone', sortable: true },\n      { text: 'Action', align: 'right', value: 'actions' },\n    ],\n    tableProps: { ...DATA_TABLE_PROPS },\n  }),\n  computed: {\n    dataItems() {\n      return (this.items || [])\n        .filter(item => this.filters.isUnverified && !item.state === 'UNVERIFIED')\n        .map(item => ({\n          ...item,\n          isEditing: false,\n        }));\n    },\n  },\n  mounted() {\n    this.initialize();\n  },\n  methods: {\n    initialize() {\n      this.fetchSites();\n    },\n    toggleDialog(dialogName, item) {\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    removeSite() {\n      this.isDeletingSite = true;\n      return userSitesService\n        .deleteSite(this.selectedApp.uuid)\n        .then(() => {\n          this.$toasted.show('Successfully deleted user site address.');\n          this.closeDialog(this.dialogNames.removeSite);\n          this.fetchSites();\n        })\n        .finally(() => {\n          this.isDeletingSite = false;\n        });\n    },\n    closeDialog(dialogName, syncAppDetails) {\n      this.dialog[dialogName] = false;\n      this.selectedApp = {};\n    },\n    createSite(siteAddress) {\n      // do not catch error here\n      return userSitesService.createSite(siteAddress).then(() => {\n        this.$toasted.show('Successfully created user site address.');\n        this.closeDialog(this.dialogNames.siteDialog);\n        this.fetchSites();\n      });\n    },\n    editSite(siteAddress, uuid) {\n      return userSitesService.updateSite(uuid, siteAddress).then(() => {\n        this.$toasted.show('Successfully updated user site address.');\n        this.closeDialog(this.dialogNames.editSiteDialog);\n        this.fetchSites();\n      });\n    },\n    fetchSites() {\n      this.isFetchingSites = true;\n      return userSitesService\n        .fetchSites()\n        .then(data => {\n          this.items = data;\n        })\n        .catch(err => {})\n        .finally(() => {\n          this.isFetchingSites = false;\n        });\n    },\n    onSearchChange() {\n      this.searchItems = this.search.split(',').map(val => val.trim());\n    },\n    filterCriteria(value, search, item) {\n      return (\n        value != null &&\n        this.searchItems &&\n        Array.isArray(this.searchItems) &&\n        this.searchItems.length > 0 &&\n        this.searchItems.every(val => typeof val === 'string') &&\n        this.searchItems.some(searchVal => value.toString().toLowerCase().indexOf(searchVal.toLowerCase()) !== -1)\n      );\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSiteGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSiteGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSiteGrid.vue?vue&type=template&id=000f3d77&\"\nimport script from \"./UserSiteGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSiteGrid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"mr-6\"},[_vm._v(\"User Sites\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"pink\"},on:{\"click\":function($event){return _vm.toggleDialog(_vm.dialogNames.siteDialog)}}},[_vm._v(\"\\n      New Site\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\" fa-plus \")])],1),_vm._v(\" \"),_c('v-text-field',{staticClass:\"pl-10\",attrs:{\"append-icon\":\"fa-search\",\"label\":\"Search site\",\"single-line\":\"\",\"hide-details\":\"\"},on:{\"input\":_vm.onSearchChange},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_vm._v(\" \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"item-key\":\"uuid\",\"show-select\":\"\",\"loading\":_vm.isFetchingSites,\"search\":_vm.search,\"custom-filter\":_vm.filterCriteria,\"headers\":_vm.headers,\"items\":_vm.items,\"footer-props\":_vm.tableProps.FOOTER_PROPS,\"itemsPerPage\":_vm.tableProps.ITEMS_PER_PAGE},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('tooltip-icon-button',{attrs:{\"btnColor\":\"blue darken\",\"btnIcon\":\"fa-pencil\",\"btnTooltip\":\"Edit Site\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.editSiteDialog, item); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"error darken\",\"btnIcon\":\"fa-trash-o\",\"btnTooltip\":\"Delete Site\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.removeSite, item); }}})]}}],null,true),model:{value:(_vm.selectedItems),callback:function ($$v) {_vm.selectedItems=$$v},expression:\"selectedItems\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.siteDialog]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.siteDialog, $$v)},expression:\"dialog[dialogNames.siteDialog]\"}},[(_vm.dialog[_vm.dialogNames.siteDialog])?_c('user-site-form',{attrs:{\"handle-save\":_vm.createSite,\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.siteDialog); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.editSiteDialog]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.editSiteDialog, $$v)},expression:\"dialog[dialogNames.editSiteDialog]\"}},[(_vm.dialog[_vm.dialogNames.editSiteDialog])?_c('user-site-form',{attrs:{\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.editSiteDialog); },\"site\":_vm.selectedApp,\"is-edit-form\":true,\"handle-save\":_vm.editSite}}):_vm._e()],1),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.removeSite],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.removeSite); },\"on-confirm\":function () { return _vm.removeSite(); },\"loading\":_vm.isDeletingSite,\"dialog-text\":\"Do you want to delete the User Site?\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./configureFcmKey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./configureFcmKey.vue?vue&type=script&lang=js&\"","<template>\n  <v-card :loading=\"isFetchingFCMKey\">\n    <v-card-title><span>Configure Push Notification</span></v-card-title>\n    <v-card-text>\n      <v-form v-model=\"valid\" ref=\"form\" lazy-validation>\n        <v-row>\n          <v-col cols=\"12\" class=\"mt-1\">\n            <p class=\"mb-0 text-left\" v-if=\"placeholderKey\">\n              <span class=\"caption\">Previous Key:</span>\n              <span class=\"white--text body-1\">{{ placeholderKey }}</span>\n            </p>\n            <v-text-field\n              :disabled=\"isFetchingFCMKey\"\n              v-model=\"fcmKey\"\n              label=\"FCM Key\"\n              required\n              :rules=\"[rules.required]\"\n            ></v-text-field>\n          </v-col> </v-row\n      ></v-form>\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn color=\"darken-1\" text @click=\"closeDialog\"> Cancel </v-btn>\n      <v-btn color=\"blue darken-1\" text @click=\"updateFCMKey()\"> Save </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport * as userManagementService from '../../services/userManagementService';\nexport default {\n  name: 'configure-fcm-key',\n  props: ['closeDialog'],\n  data() {\n    return {\n      fcmKey: '',\n      placeholderKey: '',\n      valid: false,\n      isFetchingFCMKey: false,\n      isUpdatingFCMKey: false,\n      rules: { required: value => !!value || 'Required.' },\n    };\n  },\n  mounted() {\n    this.intialize();\n  },\n  methods: {\n    intialize() {\n      this.fetchFCMKey();\n    },\n    fetchFCMKey() {\n      this.isFetchingFCMKey = true;\n      return userManagementService\n        .fetchFCMServerKey()\n        .then(data => {\n          this.placeholderKey = data.key;\n        })\n        .catch(err => {})\n        .finally(() => {\n          this.isFetchingFCMKey = false;\n        });\n    },\n    updateFCMKey() {\n      if (!this.$refs.form.validate()) {\n        return;\n      }\n      this.isUpdatingFCMKey = true;\n      return userManagementService\n        .updateFCMServerKey(this.fcmKey)\n        .then(() => {\n          this.fetchFCMKey();\n          this.$refs.form.reset();\n          this.closeDialog();\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.$toasted.show(err.message, { type: 'error' });\n          }\n        });\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./configureFcmKey.vue?vue&type=template&id=2cc676fc&\"\nimport script from \"./configureFcmKey.vue?vue&type=script&lang=js&\"\nexport * from \"./configureFcmKey.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingFCMKey}},[_c('v-card-title',[_c('span',[_vm._v(\"Configure Push Notification\")])]),_vm._v(\" \"),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{staticClass:\"mt-1\",attrs:{\"cols\":\"12\"}},[(_vm.placeholderKey)?_c('p',{staticClass:\"mb-0 text-left\"},[_c('span',{staticClass:\"caption\"},[_vm._v(\"Previous Key:\")]),_vm._v(\" \"),_c('span',{staticClass:\"white--text body-1\"},[_vm._v(_vm._s(_vm.placeholderKey))])]):_vm._e(),_vm._v(\" \"),_c('v-text-field',{attrs:{\"disabled\":_vm.isFetchingFCMKey,\"label\":\"FCM Key\",\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.fcmKey),callback:function ($$v) {_vm.fcmKey=$$v},expression:\"fcmKey\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.updateFCMKey()}}},[_vm._v(\" Save \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userManagementPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userManagementPage.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <page-title title=\"User Management\">\n      <template v-slot:titleActions>\n        <tooltip-icon-button\n          btnColor=\"blue\"\n          btnIcon=\"fa-cogs\"\n          btnTooltip=\"Configure user's push notification\"\n          :onClick=\"() => openFCMDialog()\"\n        ></tooltip-icon-button>\n      </template>\n    </page-title>\n    <v-tabs v-model=\"tab\" right :color=\"`${$vuetify.theme.dark ? '': 'nubeGreen'}`\">\n      <v-tab :key=\"0\">User Sites </v-tab>\n      <v-tab :key=\"1\">App Users </v-tab>\n    </v-tabs>\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item :key=\"0\">\n        <user-site-grid></user-site-grid>\n      </v-tab-item>\n      <v-tab-item :key=\"1\">\n        <user-management-grid v-if=\"tab == 1\"></user-management-grid>\n      </v-tab-item>\n    </v-tabs-items>\n    <v-dialog v-model=\"configFCMDialog\" presistent max-width=\"350\">\n      <configure-fcm-key :close-dialog=\"closeFCMDialog\"></configure-fcm-key>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport PageTitle from '../Common/PageTitle.vue';\nimport UserManagementGrid from './userManagementGrid.vue';\nimport UserSiteGrid from '../UserSite/UserSiteGrid.vue';\nimport ConfigureFcmKey from './configureFcmKey.vue';\nimport TooltipIconButton from '../RubixApps/TooltipIconButton.vue';\nexport default {\n  name: 'user-management',\n  components: { PageTitle, UserManagementGrid, TooltipIconButton, ConfigureFcmKey, UserSiteGrid },\n  watch: {\n    '$route.query.tab': function (val) {\n      this.tab = this.tabs.indexOf(val);\n    },\n    'tab': function (val, oldVal) {\n      const { tab } = this.$route.query;\n      if (tab !== this.tabs[val]) {\n        const tabKey = this.tabs[val];\n        this.$router.push({ path: 'user-management', query: { tab: tabKey } });\n      }\n    },\n  },\n  data() {\n    return { configFCMDialog: false, tab: 0, tabs: ['user-sites', 'app-users'] };\n  },\n  methods: {\n    openFCMDialog() {\n      this.configFCMDialog = true;\n    },\n    closeFCMDialog() {\n      this.configFCMDialog = false;\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./userManagementPage.vue?vue&type=template&id=74ec5074&\"\nimport script from \"./userManagementPage.vue?vue&type=script&lang=js&\"\nexport * from \"./userManagementPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{ref:\"copyClipboard\"},[_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"exportColor\"},on:{\"click\":function () { return _vm.onCopy(_vm.copyToClipboard); }}},[_vm._v(\"\\n    Export\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\"fa-upload\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"","<template>\n  <span ref=\"copyClipboard\">\n    <v-btn @click=\"() => onCopy(copyToClipboard)\" x-small color=\"exportColor\" class=\"mr-1 btn-height-22 white--text\">\n      Export<v-icon x-small right>fa-upload</v-icon>\n    </v-btn>\n  </span>\n</template>\n<script>\nexport default {\n  props: ['on-copy'],\n  methods: {\n    copyToClipboard(message) {\n      this.$copyText(message, this.$refs.copyClipboard).then(\n        () => {\n          this.$toasted.show('Copied to clipboard!', { type: 'success' });\n        },\n        () => {\n          this.$toasted.show('Cannot copy to clipboard.', { type: 'error' });\n        },\n      );\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./CopyClipboard.vue?vue&type=template&id=72c19256&\"\nimport script from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\nexport * from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"mr-6\"},[_vm._v(_vm._s(_vm.toolbarTitle))]),_vm._v(\" \"),_vm._t(\"gridCounter\"),_vm._v(\" \"),(_vm.onCopy)?_c('copy-clipboard',{attrs:{\"on-copy\":_vm.onCopy}}):_vm._e(),_vm._v(\" \"),(_vm.items && _vm.items.length > 0 && !_vm.hideExportData)?_c('export-data',{attrs:{\"data\":_vm.items,\"file-name\":_vm.fileName,\"format-data-service\":_vm.formatDataService}}):_vm._e(),_vm._v(\" \"),(!!_vm.receiveDataRows)?_c('import-dialog',{attrs:{\"receiveDataRows\":_vm.receiveDataRows}}):_vm._e(),_vm._v(\" \"),(!!_vm.onDelete)?_c('v-btn',{staticClass:\"mr-2 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"error\",\"disabled\":!_vm.isDeleteEnabled},on:{\"click\":_vm.onDelete}},[_vm._v(\"Delete\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\" fa-trash-o\")])],1):_vm._e(),_vm._v(\" \"),_vm._t(\"customAction\"),_vm._v(\" \"),_vm._t(\"search\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <v-menu offset-y>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn x-small class=\"mr-2 btn-height-22 white--text\" color=\"primary\" v-bind=\"attrs\" v-on=\"on\">Import<v-icon x-small right>fa-vcard-o</v-icon></v-btn>\n      </template>\n      <v-list>\n        <v-list-item\n          @click=\"\n            dialogImportJSON = true;\n            dataImport = '';\n          \"\n        >\n          <v-list-item-title>JSON</v-list-item-title>\n        </v-list-item>\n        <v-list-item\n          @click=\"\n            dialogImportExcel = true;\n            file = null;\n          \"\n        >\n          <v-list-item-title>Excel</v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <v-dialog v-model=\"dialogImportExcel\" width=\"500px\">\n      <v-card>\n        <v-card-title>Choose excel file</v-card-title>\n        <v-card-text>\n          <v-file-input outlined dense label=\"File input\" v-model=\"file\" accept=\".xls,.xlsx\"></v-file-input>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"darken-1\" text @click=\"dialogImportExcel = false\">Close</v-btn>\n          <v-btn color=\"primary darken-1\" text @click=\"importFile\" :disabled=\"!file\">Import</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"dialogImportJSON\" width=\"500px\">\n      <v-card>\n        <v-card-title>Import via JSON</v-card-title>\n        <v-card-text>\n          <v-textarea outlined name=\"input-7-4\" label=\"import data\" v-model=\"dataImport\"></v-textarea>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"darken-1\" text @click=\"closeDialog\"> Cancel </v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"importJson\" :disabled=\"!dataImport\">Import</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport * as xlsx from 'xlsx';\nexport default {\n  name: 'import-dialog',\n  props: ['receiveDataRows'],\n  data() {\n    return {\n      file: null,\n      dialogImportExcel: false,\n      dialogImportJSON: false,\n      dataImport: '',\n    };\n  },\n  methods: {\n    importFile() {\n      let fileReader = new FileReader();\n      fileReader.readAsBinaryString(this.file);\n      fileReader.onload = this.handleFileLoad;\n    },\n    handleFileLoad(e) {\n      let data = e.target.result;\n      let workbook = xlsx.read(data, { type: 'binary' });\n      const firstSheet = Array.isArray(workbook.SheetNames) && workbook.SheetNames.length > 0 && workbook.SheetNames[0];\n      if (!firstSheet) {\n        return this.$toasted.show('Invalid Excel File. Please reupload.', { type: 'error' });\n      }\n      const rowObject = xlsx.utils.sheet_to_row_object_array(workbook.Sheets[firstSheet]);\n      this.receiveDataRows(rowObject);\n      this.dialogImportExcel = false;\n    },\n    closeDialog() {\n      this.dialogImportJSON = false;\n    },\n    importJson() {\n      try {\n        const dataItems = JSON.parse(this.dataImport);\n        this.receiveDataRows(dataItems);\n        this.dialogImportJSON = false;\n      } catch (err) {\n        return this.$toasted.show('Invalid JSON', { type: 'error' });\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ImportDialog.vue?vue&type=template&id=b9ee3ade&\"\nimport script from \"./ImportDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\"Import\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\"fa-vcard-o\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){_vm.dialogImportJSON = true;\n          _vm.dataImport = '';}}},[_c('v-list-item-title',[_vm._v(\"JSON\")])],1),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":function($event){_vm.dialogImportExcel = true;\n          _vm.file = null;}}},[_c('v-list-item-title',[_vm._v(\"Excel\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportExcel),callback:function ($$v) {_vm.dialogImportExcel=$$v},expression:\"dialogImportExcel\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Choose excel file\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-file-input',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"File input\",\"accept\":\".xls,.xlsx\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogImportExcel = false}}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary darken-1\",\"text\":\"\",\"disabled\":!_vm.file},on:{\"click\":_vm.importFile}},[_vm._v(\"Import\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportJSON),callback:function ($$v) {_vm.dialogImportJSON=$$v},expression:\"dialogImportJSON\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Import via JSON\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"import data\"},model:{value:(_vm.dataImport),callback:function ($$v) {_vm.dataImport=$$v},expression:\"dataImport\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":!_vm.dataImport},on:{\"click\":_vm.importJson}},[_vm._v(\"Import\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"","<template>\n  <v-toolbar flat>\n    <v-toolbar-title class=\"mr-6\">{{ toolbarTitle }}</v-toolbar-title>\n    <slot name=\"gridCounter\"></slot>\n    <copy-clipboard v-if=\"onCopy\" :on-copy=\"onCopy\"></copy-clipboard>\n    <export-data\n      v-if=\"items && items.length > 0 && !hideExportData\"\n      :data=\"items\"\n      :file-name=\"fileName\"\n      :format-data-service=\"formatDataService\"\n    ></export-data>\n    <import-dialog v-if=\"!!receiveDataRows\" :receiveDataRows=\"receiveDataRows\"></import-dialog>\n    <v-btn x-small class=\"mr-2 btn-height-22 white--text\" color=\"error\" :disabled=\"!isDeleteEnabled\" @click=\"onDelete\" v-if=\"!!onDelete\">Delete<v-icon x-small right> fa-trash-o</v-icon></v-btn>\n    <slot name=\"customAction\"></slot>\n    <slot name=\"search\"></slot>\n  </v-toolbar>\n</template>\n<script>\nimport ExportData from './ExportData';\nimport CopyClipboard from '../Sidebar/CopyClipboard';\nimport ImportDialog from './ImportDialog.vue';\nexport default {\n  name: 'grid-toolbar',\n  props: [\n    'toolbarTitle',\n    'onCopy',\n    'items',\n    'fileName',\n    'formatDataService',\n    'receiveDataRows',\n    'onDelete',\n    'isDeleteEnabled',\n    'onSearch',\n    'hideExportData',\n  ],\n  components: { ExportData, CopyClipboard, ImportDialog },\n};\n</script>\n","import { render, staticRenderFns } from \"./GridToolbar.vue?vue&type=template&id=79702f05&\"\nimport script from \"./GridToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./GridToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"downloadColor\"}},'v-btn',attrs,false),on),[_vm._v(\"\\n      Download\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\"fa-download\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'json')}}},[_vm._v(\" JSON \")]),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'excel')}}},[_vm._v(\" Excel \")]),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'csv')}}},[_vm._v(\" CSV \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"","<template>\n  <v-menu offset-y>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn x-small class=\"mr-2 btn-height-22 white--text\" color=\"downloadColor\" v-bind=\"attrs\" v-on=\"on\">\n        Download<v-icon x-small right>fa-download</v-icon>\n      </v-btn>\n    </template>\n    <v-list>\n      <v-list-item @click=\"clickDownload(data, 'json')\"> JSON </v-list-item>\n      <v-list-item @click=\"clickDownload(data, 'excel')\"> Excel </v-list-item>\n      <v-list-item @click=\"clickDownload(data, 'csv')\"> CSV </v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n<script>\nimport { exportJSON, exportCSV, exportExcel } from '../../utils/utils';\n\nexport default {\n  name: 'export-data',\n  props: ['data', 'fileName', 'formatDataService'],\n  methods: {\n    clickDownload(data, type) {\n      let formattedData = data;\n      if (typeof this.formatDataService === 'function') {\n        formattedData = this.formatDataService(data);\n      }\n      switch (type) {\n        case 'csv':\n          return exportCSV(this.fileName, formattedData);\n        case 'excel':\n          return exportExcel(this.fileName, formattedData);\n        case 'json':\n          return exportJSON(this.fileName, JSON.stringify(formattedData));\n      }\n    },\n  },\n};\n</script>\n\n","import { render, staticRenderFns } from \"./ExportData.vue?vue&type=template&id=810fadce&\"\nimport script from \"./ExportData.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(_vm.buttonSize == 'medium')?_c('v-btn',_vm._g(_vm._b({attrs:{\"disabled\":_vm.disabled,\"icon\":\"\",\"medium\":\"\",\"color\":_vm.btnColor},on:{\"click\":_vm.onClick}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.btnIcon)+\" \")])],1):_c('v-btn',_vm._g(_vm._b({attrs:{\"disabled\":_vm.disabled,\"icon\":\"\",\"small\":\"\",\"color\":_vm.btnColor},on:{\"click\":_vm.onClick}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.btnIcon)+\" \")])],1)]}}])},[_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-line\"},domProps:{\"innerHTML\":_vm._s(_vm.btnTooltip)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipIconButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipIconButton.vue?vue&type=script&lang=js&\"","<template>\n  <v-tooltip bottom>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn :disabled=\"disabled\" v-if=\"buttonSize == 'medium'\" @click=\"onClick\" icon medium :color=\"btnColor\" v-bind=\"attrs\" v-on=\"on\">\n        <v-icon medium dark> {{ btnIcon }} </v-icon>\n      </v-btn>\n      <v-btn :disabled=\"disabled\" v-else @click=\"onClick\" icon small :color=\"btnColor\" v-bind=\"attrs\" v-on=\"on\">\n        <v-icon small dark> {{ btnIcon }} </v-icon>\n      </v-btn>\n    </template>\n    <span style=\"white-space: pre-line;\" v-html=\"btnTooltip\"/>\n  </v-tooltip>\n</template>\n<script>\nexport default {\n  name: 'tooltip-icon-button',\n  props: ['btnIcon', 'btnTooltip', 'onClick', 'btnColor', 'buttonSize', 'disabled'],\n};\n</script>\n","import { render, staticRenderFns } from \"./TooltipIconButton.vue?vue&type=template&id=40b28e6a&\"\nimport script from \"./TooltipIconButton.vue?vue&type=script&lang=js&\"\nexport * from \"./TooltipIconButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"color\":\"warning\"}},[_vm._v(\" fa-exclamation-circle \")]),_vm._v(\" Confirm \")],1),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[_c('v-row',[_vm._v(_vm._s(_vm.dialogText))])],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onClose}},[_vm._v(\" No \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"loading\":_vm.loading,\"text\":\"\"},on:{\"click\":_vm.onConfirm}},[_vm._v(\" Yes \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","<template>\n  <v-dialog v-model=\"isOpen\" persistent max-width=\"290\">\n    <v-card>\n      <v-card-title><v-icon color=\"warning\"> fa-exclamation-circle </v-icon>&nbsp;Confirm </v-card-title>\n      <v-card-text>\n        <v-container>\n          <v-row>{{ dialogText }}</v-row>\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"onClose\"> No </v-btn>\n        <v-btn color=\"red darken-1\" :loading=\"loading\" text @click=\"onConfirm\"> Yes </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: 'confirm-dialog',\n  props: ['on-close', 'on-confirm', 'dialog-text', 'is-open', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=de64f342&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}