(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"2SyR":function(e,t,r){"use strict";var i={name:"icon-button",props:["icon","on-click","title","color","size","disabled","loading"]},n=r("psIG"),a=Object(n.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",["small"==e.size?r("v-btn",{staticClass:"pa-2",attrs:{small:"",text:"",color:e.color,loading:e.loading,disabled:e.disabled},on:{click:e.onClick}},[e.icon?r("v-icon",[e._v(e._s(e.icon))]):e._e(),e._v(" "),e.title?r("span",{staticClass:"text"},[e._v(" "+e._s(e.title))]):e._e()],1):r("v-btn",{staticClass:"pa-2",attrs:{text:"",loading:e.loading,disabled:e.disabled,color:e.color,"x-small":""},on:{click:e.onClick}},[e.icon?r("v-icon",[e._v(e._s(e.icon))]):e._e(),e._v(" "),e.title?r("span",{staticClass:"text"},[e._v(" "+e._s(e.title))]):e._e()],1)],1)}),[],!1,null,null,null);t.a=a.exports},"4z8c":function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var i=r("tZmG"),n=r.n(i),a=r("YUSd"),s=r.n(a),o=r("Zv/C"),l=r.n(o),u=r("2lBV"),c=r.n(u),d=r("Dkg+"),f=r.n(d),m=r("Gjrs"),v=r.n(m),h=r("DeKB"),p=r("oCli"),_=r("uzYq"),g=r("PWxN"),C=r.n(g),b=r("NWgQ"),w=r.n(b),k=new(function(e){function t(){l()(this,t);var e=f()(this,(t.__proto__||s()(t)).call(this,p.a.rfProducers));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("Stream Id is required for fetching producers of streams");var r=p.a.rfStreams(t);return(e=C()(e,["uuid","id"]))&&n()(e).length>0&&(r=r+"?"+w.a.stringify(e)),_.a.get(r).then((function(e){return{dataItems:e.producers,extraData:C()(e,["producers"])}}))},e}return v()(t,e),c()(t,[{key:"fetchAll",value:function(){var e=p.a.rfProducers();return _.a.get(e)}}]),t}(h.a))},BgpN:function(e,t,r){"use strict";var i=r("Kz1y"),n=r.n(i),a=(r("yEOx"),{name:"flow-consumers-form",props:["isEdit","onCancel","onSave","item","isSaving","streamId","producers"],data:function(){return{rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},valid:!1,formValues:n()({},{name:"consumer",enable:!0,producer_uuid:null,stream_clone_uuid:null})}},computed:{lowerCaseTitle:function(){return"consumers"},titleCase:function(){return"Consumers"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=n()({},this.formValues,this.item)),!this.isEdit&&this.streamId&&(this.formValues=n()({},this.formValues,{stream_clone_uuid:this.streamId}))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error(this.lowerCaseTitle+" form onSave function not passed");return this.onSave(this.formValues).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" "+e.lowerCaseTitle+"."),e.cleanUp(!0)})).catch((function(t){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" "+e.lowerCaseTitle+".",{type:"error"})}))}}}}),s=r("psIG"),o=Object(s.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"8"}},[r("v-text-field",{attrs:{required:"",label:"Name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"2"}},[r("v-switch",{attrs:{label:"Enable"},model:{value:e.formValues.enable,callback:function(t){e.$set(e.formValues,"enable",t)},expression:"formValues.enable"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",clearable:"","small-chips":"",label:"Producer","item-value":"uuid","item-text":"name",items:e.producers,"deletable-chips":""},model:{value:e.formValues.producer_uuid,callback:function(t){e.$set(e.formValues,"producer_uuid",t)},expression:"formValues.producer_uuid"}})],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null);t.a=o.exports},C4vA:function(e,t,r){"use strict";var i=r("Kz1y"),n=r.n(i),a=r("yEOx"),s=r.n(a),o=r("L9C3"),l=r("wffz"),u=r("IpYZ"),c={name:"producers-form",props:["isEdit","onCancel","onSave","item","isSaving","stream","schedules","allPoints"],data:function(){return{isFetchingAllDevices:!1,rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},devices:[],points:[],isFetchingNetworkDevices:!1,isFetchingDevicePoints:!1,isFetchingSchedules:!1,selectedNetwork:null,selectedDevice:null,thingTypes:o.c,thingActions:o.b,valid:!1,formValues:n()({},{name:"producer",enable:!1,producer_thing_class:"point",enable_history:!1,producer_application:"mapping",stream_uuid:null,producer_thing_uuid:null})}},computed:{lowerCaseTitle:function(){return"producers"},titleCase:function(){return"Producers"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"},networks:function(){return this.$store.state.rfNetworks}},mounted:function(){this.isEdit&&this.item&&(this.formValues=n()({},this.formValues,this.item)),!this.isEdit&&this.stream&&(this.formValues=n()({},this.formValues,{stream_uuid:this.stream.uuid}))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onThingTypeChange:function(){this.formValues.producer_thing_uuid=null},fetchChildDevicesByNetworkId:function(e){var t=this;if(!e)return this.selectedDevice=null,void(this.formValues.producer_thing_uuid=null);this.isFetchingNetworkDevices=!0,l.a.fetchById(e,{with_devices:!0}).then((function(e){t.devices=e.devices})).finally((function(){t.isFetchingNetworkDevices=!1}))},fetchChildPointsByDeviceId:function(e){var t=this;e?(this.isFetchingDevicePoints=!0,u.a.fetchById(e,{with_points:!0}).then((function(e){t.points=e.points})).finally((function(){t.isFetchingDevicePoints=!1}))):this.formValues.producer_thing_uuid=null},transformFormValues:function(e){var t=s()(e);return t.producer_thing_class=o.a[t.producer_thing_class].value,t},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error(this.lowerCaseTitle+" form onSave function not passed");return this.onSave(this.transformFormValues(this.formValues)).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" "+e.lowerCaseTitle+"."),e.cleanUp(!0)})).catch((function(){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" "+e.lowerCaseTitle+".",{type:"error"})}))}}}},d=r("psIG"),f=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-switch",{staticClass:"pr-4",attrs:{inset:"",label:"Enable",color:"primary"},model:{value:e.formValues.enable,callback:function(t){e.$set(e.formValues,"enable",t)},expression:"formValues.enable"}})],1),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-switch",{staticClass:"pr-4",attrs:{inset:"",label:"Save History",color:"primary"},model:{value:e.formValues.enable_history,callback:function(t){e.$set(e.formValues,"enable_history",t)},expression:"formValues.enable_history"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{label:"Thing Class","item-value":"name",items:e.thingTypes,"item-text":"displayName"},on:{change:e.onThingTypeChange},model:{value:e.formValues.producer_thing_class,callback:function(t){e.$set(e.formValues,"producer_thing_class",t)},expression:"formValues.producer_thing_class"}})],1),e._v(" "),"network"===e.formValues.producer_thing_class?r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",clearable:"","small-chips":"",label:"Network","item-value":"uuid","item-text":"name",items:e.networks,"deletable-chips":"",rules:[e.rules.required]},model:{value:e.formValues.producer_thing_uuid,callback:function(t){e.$set(e.formValues,"producer_thing_uuid",t)},expression:"formValues.producer_thing_uuid"}})],1):e._e(),e._v(" "),"device"===e.formValues.producer_thing_class?r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",clearable:"","small-chips":"",label:"Device","item-value":"uuid","item-text":"name",items:e.devices,rules:[e.rules.required],"deletable-chips":""},model:{value:e.formValues.producer_thing_uuid,callback:function(t){e.$set(e.formValues,"producer_thing_uuid",t)},expression:"formValues.producer_thing_uuid"}})],1):e._e(),e._v(" "),"point"===e.formValues.producer_thing_class?r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",clearable:"","small-chips":"",label:"Point","item-value":"uuid","item-text":"displayName",items:e.allPoints,loading:e.isFetchingAllDevices,rules:[e.rules.required],"deletable-chips":""},model:{value:e.formValues.producer_thing_uuid,callback:function(t){e.$set(e.formValues,"producer_thing_uuid",t)},expression:"formValues.producer_thing_uuid"}})],1):e._e(),e._v(" "),"schedule"===e.formValues.producer_thing_class?r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",clearable:"","small-chips":"",label:"Scheulde","item-value":"uuid","item-text":"name",items:e.schedules,loading:e.isFetchingSchedules,rules:[e.rules.required],"deletable-chips":""},model:{value:e.formValues.producer_thing_uuid,callback:function(t){e.$set(e.formValues,"producer_thing_uuid",t)},expression:"formValues.producer_thing_uuid"}})],1):e._e(),e._v(" "),"point_filter"===e.formValues.producer_thing_class?r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",clearable:"","small-chips":"",label:"Network","item-value":"uuid","item-text":"name",items:e.networks,rules:[e.rules.required],"deletable-chips":""},on:{change:e.fetchChildDevicesByNetworkId},model:{value:e.selectedNetwork,callback:function(t){e.selectedNetwork=t},expression:"selectedNetwork"}}),e._v(" "),r("v-autocomplete",{attrs:{disabled:!e.selectedNetwork,chips:"",loading:e.isFetchingNetworkDevices,clearable:"","small-chips":"",label:"Device","item-value":"uuid","item-text":"name",items:e.devices,rules:[e.rules.required],"deletable-chips":""},on:{change:e.fetchChildPointsByDeviceId},model:{value:e.selectedDevice,callback:function(t){e.selectedDevice=t},expression:"selectedDevice"}}),e._v(" "),r("v-autocomplete",{attrs:{chips:"",disabled:!e.selectedDevice,clearable:"",loading:e.isFetchingDevicePoints,"small-chips":"",label:"Point","item-value":"uuid","item-text":"name",items:e.points,rules:[e.rules.required],"deletable-chips":""},model:{value:e.formValues.producer_thing_uuid,callback:function(t){e.$set(e.formValues,"producer_thing_uuid",t)},expression:"formValues.producer_thing_uuid"}})],1):e._e(),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{label:"Thing Action",items:e.thingActions,"item-text":"displayName","item-value":"name"},model:{value:e.formValues.producer_application,callback:function(t){e.$set(e.formValues,"producer_application",t)},expression:"formValues.producer_application"}})],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null);t.a=f.exports},DeKB:function(e,t,r){"use strict";var i=r("Zv/C"),n=r.n(i),a=r("uzYq"),s=r("NWgQ"),o=r.n(s),l=r("PWxN"),u=r.n(l),c=function(){var e=this;this.uri="",this.evaluateUri=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return"function"==typeof e.uri?e.uri(t):uri},this.fetch=function(t){var r=e.evaluateUri(),i=null;return t&&t.hasOwnProperty("id")?(i=t.id,t=u()(t,"id")):t&&t.hasOwnProperty("uuid")&&(i=t.uuid,t=u()(t,"uuid")),t&&(r=r+"?"+o.a.stringify(t)),i?e.fetchById(i,t):a.a.get(r)},this.fetchById=function(t,r){var i=e.evaluateUri(t);return r&&(i=i+"?"+o.a.stringify(r)),a.a.get(i)},this.remove=function(){var t=e.evaluateUri();return a.a.delete(t)},this.removeById=function(t){var r=e.evaluateUri(t);return a.a.delete(r)},this.create=function(t){var r=e.evaluateUri();return a.a.post(r,t)},this.patch=function(t,r){var i=e.evaluateUri(t);return a.a.patch(i,r)},this.update=function(t,r){var i=e.evaluateUri(t);return a.a.put(i,r)}};t.a=function e(t){n()(this,e),c.call(this),this.uri=t}},IpYZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var i=r("tZmG"),n=r.n(i),a=r("YUSd"),s=r.n(a),o=r("Zv/C"),l=r.n(o),u=r("2lBV"),c=r.n(u),d=r("Dkg+"),f=r.n(d),m=r("Gjrs"),v=r.n(m),h=r("DeKB"),p=r("oCli"),_=r("uzYq"),g=r("PWxN"),C=r.n(g),b=r("NWgQ"),w=r.n(b),k=new(function(e){function t(){l()(this,t);var e=f()(this,(t.__proto__||s()(t)).call(this,p.a.rfDevices));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("UUID is required for fetching devices of network");var r=p.a.rfNetworks(t);return(e=C()(e,["uuid","id"]))&&n()(e).length>0&&(r=r+"?"+w.a.stringify(e)),_.a.get(r).then((function(e){return{dataItems:e.devices,extraData:C()(e,["devices"])}}))},e}return v()(t,e),c()(t,[{key:"fetchAll",value:function(){var e=p.a.rfDevices();return _.a.get(e)}}]),t}(h.a))},L9C3:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return _})),r.d(t,"b",(function(){return g}));var i,n=r("TcPG"),a=r.n(n),s="api",o="point",l="point_filter",u="internal_api",c="external_api",d="schedule",f="global_schedule",m="alert",v="mapping",h=(i={},a()(i,s,{displayName:"API",name:s,value:s}),a()(i,o,{displayName:"Point",name:o,value:o}),a()(i,l,{displayName:"Point Filter",name:l,value:o}),a()(i,u,{displayName:"InternalAPI",name:u,value:u}),a()(i,c,{displayName:"ExternalAPI",name:c,value:c}),a()(i,d,{displayName:"Schedule",name:d,value:d}),a()(i,f,{displayName:"GlobalSchedule",name:f,value:f}),a()(i,m,{displayName:"Alert",name:m}),i),p=a()({},v,{displayName:"Mapping",name:v}),_=[h.point,h.schedule],g=[p.mapping]},LKjP:function(e,t,r){"use strict";r.r(t);var i,n,a=r("Kz1y"),s=r.n(a),o=r("TcPG"),l=r.n(o),u={name:"streams-form",props:["isEdit","onCancel","onSave","item","isSaving","flowNetworks"],data:function(){return{selectedFlowNetworks:[],rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},valid:!1,formValues:s()({},{name:null,is_remote:!0,rubix_uuid:null,remote_rubix_uuid:null})}},computed:{title:function(){return this.isEdit?"Edit Streams":"Create Streams"},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=s()({},this.formValues,this.item))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error("Flow network form onSave function not passed");return this.onSave(this.formValues).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" streams"),e.cleanUp(!0)})).catch((function(){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" streams")}))}}}},c=r("psIG"),d=Object(c.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Stream name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",multiple:"",clearable:"","small-chips":"",label:"Flow networks","return-object":"","item-value":"uuid","item-text":"name",items:e.flowNetworks,"deletable-chips":""},model:{value:e.formValues.flow_networks,callback:function(t){e.$set(e.formValues,"flow_networks",t)},expression:"formValues.flow_networks"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-switch",{attrs:{label:"Enable Remote"},model:{value:e.formValues.is_remote,callback:function(t){e.$set(e.formValues,"is_remote",t)},expression:"formValues.is_remote"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Rubix Point"},model:{value:e.formValues.rubix_uuid,callback:function(t){e.$set(e.formValues,"rubix_uuid",t)},expression:"formValues.rubix_uuid"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[e.formValues.is_remote?r("v-text-field",{attrs:{required:"",label:"Remote Rubix Point"},model:{value:e.formValues.remote_rubix_uuid,callback:function(t){e.$set(e.formValues,"remote_rubix_uuid",t)},expression:"formValues.remote_rubix_uuid"}}):e._e()],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null).exports,f=r("oGAK"),m=r("CfmX"),v=r("2SyR"),h=r("C4vA"),p=r("BgpN"),_=r("rIlz"),g=r("Oj90"),C=r("4z8c"),b=r("ZXQ1"),w=r("qIMa"),k={viewProducers:"viewProducer",viewConsumers:"viewConsumers",viewCommandGroup:"viewCommandGroup",createProducers:"createProducers",createConsumers:"createConsumers",createCommandGroup:"createCommandGroup",associateProducers:"associateProducers",associateConsumers:"associateConsumers",associateCommandGroup:"associateCommandGroup"},V=(i={},l()(i,k.viewProducers,(function(e){return f.a.rfProducers.replace(":streamId",e)})),l()(i,k.viewConsumers,(function(e){return f.a.rfConsumers.replace(":streamId",e)})),l()(i,k.viewCommandGroup,(function(e){return f.a.rfCommandGroups.replace(":streamId",e)})),i),x={components:(n={GenericGrid:m.a,StreamsForm:d,IconButton:v.a,ProducersForm:h.a,ConsumersForm:p.a},l()(n,"ConsumersForm",p.a),l()(n,"CommandGroupForm",g.a),n),name:"flowNetworkGrid",data:function(){var e;return{selectedItem:{},producerValues:{},toolbarTitle:"Streams",service:_.a,isCreatingProducer:!1,isCreatingConsumer:!1,isCreatingCommandGroup:!1,dialogNames:s()({},k),dialog:(e={},l()(e,k.createProducers,!1),l()(e,k.createConsumers,!1),l()(e,k.createCommandGroup,!1),l()(e,k.associateProducers,!1),l()(e,k.associateConsumers,!1),l()(e,k.associateCommandGroup,!1),e),gridHeaders:[{text:"Name",align:"center",value:"name",sortable:!0},{text:"View",align:"center",value:"gridItemActions",sortable:!1},{text:"Actions",align:"center",value:"actions",sortable:!0}]}},computed:{flowNetworks:function(){return this.$store.state.rfFlowNetworks}},methods:{toggleDialog:function(e,t){this.selectedItem=t,this.dialog[e]=!this.dialog[e],this.dialog[e]?this.selectedItem=t:this.selectedItem=null},closeDialog:function(e){this.dialog[e]=!1,this.selectedItem={}},createProducer:function(e){var t=this;return this.isCreatingProducer=!0,C.a.create(e).then((function(e){return t.closeDialog(t.dialogNames.createProducers),e})).finally((function(){t.isCreatingProducer=!1}))},createConsumer:function(e){var t=this;return this.isCreatingConsumer=!0,b.a.create(e).then((function(e){return t.closeDialog(t.dialogNames.createConsumers),e})).finally((function(){t.isCreatingConsumer=!1}))},createCommandGroup:function(e){var t=this;return this.isCreatingCommandGroup=!0,w.a.create(e).then((function(e){return t.closeDialog(t.dialogNames.createCommandGroup),e})).finally((function(){t.isCreatingCommandGroup=!1}))},redirectTo:function(e,t){var r=t.uuid;if(r){var i=V[e];"function"==typeof i&&this.$router.push({path:i(r)})}}}},y={name:"streams",components:{StreamsGrid:Object(c.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("generic-grid",{attrs:{service:e.service,headers:e.gridHeaders,toolbarTitle:e.toolbarTitle},scopedSlots:e._u([{key:"createForm",fn:function(t){var i=t.onSave,n=t.onClose,a=t.isOpen,s=t.isSaving;return[a?r("streams-form",{attrs:{isEdit:!1,onSave:i,onCancel:n,isSaving:s,flowNetworks:e.flowNetworks}}):e._e()]}},{key:"editForm",fn:function(t){var i=t.onSave,n=t.item,a=t.onClose,s=t.isOpen,o=t.isSaving;return[s?r("streams-form",{attrs:{item:n,isEdit:!0,onSave:i,onCancel:a,isSaving:o,flowNetworks:e.flowNetworks}}):e._e()]}},{key:"gridItemActions",fn:function(t){var i=t.item;return[r("icon-button",{attrs:{color:"nubeYellow",title:"Producer",icon:"mdi-link",onClick:function(){return e.redirectTo(e.dialogNames.viewProducers,i)}}}),e._v(" "),r("icon-button",{attrs:{color:"nubeGreen",icon:"mdi-link",title:"Consumer",onClick:function(){return e.redirectTo(e.dialogNames.viewConsumers,i)}}}),e._v(" "),r("icon-button",{attrs:{color:"blue",icon:"mdi-link",title:"Command Group",onClick:function(){return e.redirectTo(e.dialogNames.viewCommandGroup,i)}}})]}}])})],1)}),[],!1,null,null,null).exports,TooltipIconButton:r("Ui9F").a},data:function(){return{gridData:{}}}},S=Object(c.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[e._v("\n    Streams\n  ")]),e._v(" "),r("v-card-text",[r("v-row",{attrs:{"no-gutter":""}},[r("v-col",{attrs:{cols:"12",lg:"12",xl:"12",md:"12",sm:"12",xs:"12"}},[r("streams-grid")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=S.exports},Oj90:function(e,t,r){"use strict";var i=r("Kz1y"),n=r.n(i),a={name:"rf-command-group-form",props:["isEdit","onCancel","onSave","item","isSaving","stream"],data:function(){return{rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},valid:!1,formValues:n()({},{name:null,is_remote:!0,rubix_uuid:null,remote_rubix_uuid:null})}},computed:{lowerCaseTitle:function(){return"command group"},titleCase:function(){return"Command Group"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=n()({},this.formValues,this.item)),!this.isEdit&&this.stream&&(this.formValues=n()({},this.formValues,{stream_uuid:this.stream.uuid}))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error(this.lowerCaseTitle+" form onSave function not passed");return this.onSave(this.formValues).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" "+e.lowerCaseTitle+"."),e.cleanUp(!0)})).catch((function(){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" "+e.lowerCaseTitle+".",{type:"error"})}))}}}},s=r("psIG"),o=Object(s.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null);t.a=o.exports},ZXQ1:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var i=r("tZmG"),n=r.n(i),a=r("YUSd"),s=r.n(a),o=r("Zv/C"),l=r.n(o),u=r("2lBV"),c=r.n(u),d=r("Dkg+"),f=r.n(d),m=r("Gjrs"),v=r.n(m),h=r("DeKB"),p=r("oCli"),_=r("uzYq"),g=r("PWxN"),C=r.n(g),b=r("NWgQ"),w=r.n(b),k=new(function(e){function t(){l()(this,t);var e=f()(this,(t.__proto__||s()(t)).call(this,p.a.rfConsumers));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("Stream Id is required for fetching consumers of streams");var r=p.a.rfStreamsClone(t);return(e=C()(e,["uuid","id"]))&&n()(e).length>0&&(r=r+"?"+w.a.stringify(e)),_.a.get(r).then((function(e){return{dataItems:e.consumers,extraData:C()(e,["consumers"])}}))},e}return v()(t,e),c()(t,[{key:"fetchAll",value:function(){var e=p.a.rfConsumers();return _.a.get(e)}}]),t}(h.a))},oCli:function(e,t,r){"use strict";function i(e,t){return e?t+"/"+e:t}t.a={rfPing:function(e){return i(e,"rf-ping")},rfFNCStreams:function(e){return i(e,"rf-fnc")},rfCommands:function(e){return i(e,"/rf-commands")},rfLogin:function(e){return i(e,"/rf-login")},rfSchedules:function(e){return i(e,"/rf-schedules")},rfFlowNetwork:function(e){return i(e,"/rf-flow-network")},rfFlowNetworkClone:function(e){return i(e,"/rf-flow-network-clone")},rfJobs:function(e){return i(e,"/rf-jobs")},rfNetworks:function(e){return i(e,"/rf-networks")},rfPoints:function(e){return i(e,"/rf-points")},rfProducers:function(e){return i(e,"/rf-producers")},rfConsumers:function(e){return i(e,"/rf-consumers")},rfWriters:function(e){return i(e,"/rf-writers")},rfWriterClones:function(e){return i(e,"/rf-writer-clones")},rfStreams:function(e){return i(e,"/rf-streams")},rfStreamsClone:function(e){return i(e,"/rf-streams-clone")},rfDevices:function(e){return i(e,"/rf-devices")},rfWriterActions:function(e){return i(e,"/rf-writer-actions")}}},qIMa:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var i=r("tZmG"),n=r.n(i),a=r("YUSd"),s=r.n(a),o=r("Zv/C"),l=r.n(o),u=r("2lBV"),c=r.n(u),d=r("Dkg+"),f=r.n(d),m=r("Gjrs"),v=r.n(m),h=r("DeKB"),p=r("oCli"),_=r("uzYq"),g=r("PWxN"),C=r.n(g),b=r("NWgQ"),w=r.n(b),k=new(function(e){function t(){l()(this,t);var e=f()(this,(t.__proto__||s()(t)).call(this,p.a.rfCommands));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("Stream Id is required for fetching commands of streams");var r=p.a.rfStreams(t);return(e=C()(e,["uuid","id"]))&&n()(e).length>0&&(r=r+"?"+w.a.stringify(e)),_.a.get(r).then((function(e){return{dataItems:e.command_groups,extraData:C()(e,["command_groups"])}}))},e}return v()(t,e),c()(t,[{key:"fetchAll",value:function(){var e=p.a.rfProducers();return _.a.get(e)}}]),t}(h.a))},rIlz:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var i=r("Kz1y"),n=r.n(i),a=r("YUSd"),s=r.n(a),o=r("Zv/C"),l=r.n(o),u=r("Dkg+"),c=r.n(u),d=r("Gjrs"),f=r.n(d),m=r("uzYq"),v=r("DeKB"),h=r("oCli"),p=new(function(e){function t(){l()(this,t);var e=c()(this,(t.__proto__||s()(t)).call(this,h.a.rfStreams));return e.getPayloadToRequest=function(e){return n()({},e,{flow_networks:e&&e.flow_networks?e.flow_networks.map((function(e){return{uuid:e.uuid}})):[]})},e.create=function(t){var r=e.evaluateUri();return m.a.post(r,e.getPayloadToRequest(t))},e}return f()(t,e),t}(v.a))},wffz:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("DeKB"),n=r("oCli"),a=new i.a(n.a.rfNetworks)}}]);
//# sourceMappingURL=23.ef40bef76e8d114daff8.js.map