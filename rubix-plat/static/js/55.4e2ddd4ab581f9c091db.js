(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"9Gv6":function(e,t,a){"use strict";a.r(t);var i=a("Kz1y"),r=a.n(i),n=a("edSL"),s=a.n(n),o=a("2SyR"),u={name:"rf-device-form",props:["isEdit","onCancel","onSave","item","isSaving","immediateParent"],data:function(){return{formValues:{},rerender:0,parentModulePath:null}},components:{DynamicForm:a("K3Z4").a},computed:{lowerCaseTitle:function(){return"device"},titleCase:function(){return"Device"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=r()({},this.item),this.rerender++),this.immediateParent&&(this.parentModulePath=this.immediateParent.plugin_name,this.formValues=r()({},this.formValues,{plugin_name:this.immediateParent.plugin_name,network_uuid:this.immediateParent.uuid}),this.rerender++)}},c=a("psIG"),d=Object(c.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.parentModulePath?a("dynamic-form",{key:e.rerender,attrs:{"parent-module-path":e.parentModulePath,item:e.item,title:e.title,isEdit:e.isEdit,onSave:e.onSave,onCancel:e.onCancel,moduleName:"device",initialFormValues:e.formValues}}):e._e()}),[],!1,null,null,null).exports,m=a("TcPG"),l=a.n(m),v=a("oujF"),f=a("CfmX"),h=a("IpYZ"),p=a("oGAK"),g=a("97BG"),b={viewPoints:"viewPoints"},C=l()({},b.viewPoints,(function(e,t){return p.a.rfPoints.replace(":networkId",e).replace(":deviceId",t)})),k={name:"rf-device-grid",components:{GenericGrid:f.a,RfDeviceForm:d,IconButton:o.a,TextButton:v.a},props:["params","getDataCb","immediateParent"],data:function(){return{gridName:g.g,dialogNames:b,service:h.a,toolbarTitle:"Devices",gridHeaders:[{text:"Name",align:"center",value:"name",sortable:!0},{text:"Actions",align:"center",value:"actions",sortable:!0}]}},methods:{redirectTo:function(e,t){var a=this.$route.params.networkId,i=t.uuid;if(a&&i){var r=C[e];"function"==typeof r&&this.$router.push({path:r(a,i)})}}}},w=Object(c.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("generic-grid",{attrs:{gridName:e.gridName,isHeaderConfigurable:!0,params:e.params,service:e.service,headers:e.gridHeaders,toolbarTitle:e.toolbarTitle,navigableName:!0,getDataCb:e.getDataCb},scopedSlots:e._u([{key:"routeLinkName",fn:function(t){var i=t.item;return[a("text-button",{attrs:{text:i.name,onClick:function(){return e.redirectTo(e.dialogNames.viewPoints,i)}}})]}},{key:"createForm",fn:function(t){var i=t.onSave,r=t.onClose,n=t.isOpen,s=t.isSaving;return[n?a("rf-device-form",{attrs:{isEdit:!1,onSave:i,onCancel:r,isSaving:s,immediateParent:e.immediateParent}}):e._e()]}},{key:"editForm",fn:function(t){var i=t.onSave,r=t.item,n=t.onClose,s=t.isOpen,o=t.isSaving;return[s?a("rf-device-form",{attrs:{item:r,isEdit:!0,onSave:i,onCancel:n,isSaving:o,immediateParent:e.immediateParent}}):e._e()]}}])})],1)}),[],!1,null,null,null).exports,_=a("VNy9"),D=a("Ui9F"),P={text:"Networks",disabled:!1,link:p.a.rfNetworkDevicePoint},x={name:"rf-devices",components:{IconButton:o.a,RfDeviceForm:d,RfDeviceGrid:w,TooltipIconButton:D.a,Breadcrumbs:_.a},data:function(){return{params:{uuid:null,with_devices:!0},immediateParent:null,renderCount:0,networkName:"",gridData:{},breadcrumbItems:[P]}},watch:{"$route.params.networkId":function(e,t){e!=t&&(this.params=r()({},this.params,{uuid:this.$route.params.networkId}),this.renderCount++)}},mounted:function(){this.params=r()({},this.params,{uuid:this.$route.params.networkId})},methods:{onBack:function(){this.$router.go(-1)},getDataCb:function(e){this.gridData=e,this.updateBreadCrumbs(),this.immediateParent=s()(this.gridData,"extraData",null)},updateBreadCrumbs:function(){this.breadcrumbItems=[],this.breadcrumbItems.push(P);var e=s()(this.gridData,"extraData.uuid",""),t=s()(this.gridData,"extraData.name","");e&&(this.networkName=t,this.breadcrumbItems.push({text:e,align:"center",disabled:!0}),this.breadcrumbItems.push({text:"Devices",align:"center",disabled:!0}))}}},I=Object(c.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{key:e.renderCount,attrs:{outlined:""}},[a("v-card-title",[a("v-btn",{staticClass:"mr-1",attrs:{icon:"",medium:""},on:{click:e.onBack}},[a("v-icon",{attrs:{medium:""}},[e._v(" mdi-arrow-left ")])],1),e._v(" "),a("span",[e._v("Devices")]),e.networkName?a("span",{staticClass:"caption pl-3"},[e._v("Network: "+e._s(e.networkName)+" ")]):e._e()],1),e._v(" "),a("v-card-text",[a("breadcrumbs",{attrs:{items:e.breadcrumbItems}}),e._v(" "),a("v-row",{attrs:{"no-gutter":""}},[a("v-col",{attrs:{cols:"12",lg:"12",xl:"12",md:"12",sm:"12",xs:"12"}},[e.params.uuid?a("rf-device-grid",{attrs:{params:e.params,getDataCb:e.getDataCb,immediateParent:e.immediateParent}}):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.default=I.exports},IpYZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var i=a("tZmG"),r=a.n(i),n=a("YUSd"),s=a.n(n),o=a("Zv/C"),u=a.n(o),c=a("2lBV"),d=a.n(c),m=a("Dkg+"),l=a.n(m),v=a("Gjrs"),f=a.n(v),h=a("DeKB"),p=a("oCli"),g=a("uzYq"),b=a("PWxN"),C=a.n(b),k=a("NWgQ"),w=a.n(k),_=new(function(e){function t(){u()(this,t);var e=l()(this,(t.__proto__||s()(t)).call(this,p.a.rfDevices));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("UUID is required for fetching devices of network");var a=p.a.rfNetworks(t);return(e=C()(e,["uuid","id"]))&&r()(e).length>0&&(a=a+"?"+w.a.stringify(e)),g.a.get(a).then((function(e){return{dataItems:e.devices,extraData:C()(e,["devices"])}}))},e}return f()(t,e),d()(t,[{key:"fetchAll",value:function(){var e=p.a.rfDevices();return g.a.get(e)}}]),t}(h.a))},oujF:function(e,t,a){"use strict";var i={name:"text-button",props:["onClick","text"]},r=a("psIG"),n=Object(r.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"ma-1",attrs:{link:"",color:"nubeGreen",plain:""},on:{click:e.onClick}},[a("span",{staticClass:"btn-text"},[e._v(e._s(e.text))])])}),[],!1,null,null,null);t.a=n.exports}}]);
//# sourceMappingURL=55.4e2ddd4ab581f9c091db.js.map