(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"4z8c":function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r("tZmG"),s=r.n(n),a=r("YUSd"),i=r.n(a),o=r("Zv/C"),u=r.n(o),l=r("2lBV"),c=r.n(l),m=r("Dkg+"),d=r.n(m),f=r("Gjrs"),v=r.n(f),h=r("DeKB"),p=r("oCli"),C=r("uzYq"),_=r("PWxN"),w=r.n(_),b=r("NWgQ"),g=r.n(b),x=new(function(e){function t(){u()(this,t);var e=d()(this,(t.__proto__||i()(t)).call(this,p.a.rfProducers));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("Stream Id is required for fetching producers of streams");var r=p.a.rfStreams(t);return(e=w()(e,["uuid","id"]))&&s()(e).length>0&&(r=r+"?"+g.a.stringify(e)),C.a.get(r).then((function(e){return{dataItems:e.producers,extraData:w()(e,["producers"])}}))},e}return v()(t,e),c()(t,[{key:"fetchAll",value:function(){var e=p.a.rfProducers();return C.a.get(e)}}]),t}(h.a))},BgpN:function(e,t,r){"use strict";var n=r("Kz1y"),s=r.n(n),a={name:"flow-consumers-form",props:["isEdit","onCancel","onSave","item","isSaving","stream"],data:function(){return{rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},valid:!1,formValues:s()({},{name:null,is_remote:!0,rubix_uuid:null,remote_rubix_uuid:null})}},computed:{lowerCaseTitle:function(){return"consumers"},titleCase:function(){return"Consumers"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=s()({},this.formValues,this.item)),!this.isEdit&&this.stream&&(this.formValues=s()({},this.formValues,{stream_uuid:this.stream.uuid}))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error(this.lowerCaseTitle+" form onSave function not passed");return this.onSave(this.formValues).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" "+e.lowerCaseTitle+"."),e.cleanUp(!0)})).catch((function(t){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" "+e.lowerCaseTitle+".",{type:"error"})}))}}}},i=r("psIG"),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null);t.a=o.exports},C4vA:function(e,t,r){"use strict";var n=r("Kz1y"),s=r.n(n),a={name:"producers-form",props:["isEdit","onCancel","onSave","item","isSaving","stream"],data:function(){return{rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},valid:!1,formValues:s()({},{name:null,is_remote:!0,rubix_uuid:null,remote_rubix_uuid:null})}},computed:{lowerCaseTitle:function(){return"producers"},titleCase:function(){return"Producers"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=s()({},this.formValues,this.item)),!this.isEdit&&this.stream&&(this.formValues=s()({},this.formValues,{stream_uuid:this.stream.uuid}))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error(this.lowerCaseTitle+" form onSave function not passed");return this.onSave(this.formValues).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" "+e.lowerCaseTitle+"."),e.cleanUp(!0)})).catch((function(){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" "+e.lowerCaseTitle+".")}))}}}},i=r("psIG"),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null);t.a=o.exports},LKjP:function(e,t,r){"use strict";r.r(t);var n,s,a=r("Kz1y"),i=r.n(a),o=r("TcPG"),u=r.n(o),l={name:"streams-form",props:["isEdit","onCancel","onSave","item","isSaving","flowNetworks"],data:function(){return{selectedFlowNetworks:[],rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},valid:!1,formValues:i()({},{name:null,is_remote:!0,rubix_uuid:null,remote_rubix_uuid:null})}},computed:{title:function(){return this.isEdit?"Edit Streams":"Create Streams"},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=i()({},this.formValues,this.item))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error("Flow network form onSave function not passed");return this.onSave(this.formValues).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" streams"),e.cleanUp(!0)})).finally((function(){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" streams")}))}}}},c=r("psIG"),m=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Stream name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{chips:"",multiple:"",clearable:"","small-chips":"",label:"Flow networks","return-object":"","item-value":"uuid","item-text":"name",items:e.flowNetworks,"deletable-chips":""},model:{value:e.formValues.flow_networks,callback:function(t){e.$set(e.formValues,"flow_networks",t)},expression:"formValues.flow_networks"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-switch",{attrs:{label:"Enable Remote"},model:{value:e.formValues.is_remote,callback:function(t){e.$set(e.formValues,"is_remote",t)},expression:"formValues.is_remote"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Rubix Point"},model:{value:e.formValues.rubix_uuid,callback:function(t){e.$set(e.formValues,"rubix_uuid",t)},expression:"formValues.rubix_uuid"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[e.formValues.is_remote?r("v-text-field",{attrs:{required:"",label:"Remote Rubix Point"},model:{value:e.formValues.remote_rubix_uuid,callback:function(t){e.$set(e.formValues,"remote_rubix_uuid",t)},expression:"formValues.remote_rubix_uuid"}}):e._e()],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null).exports,d=r("CfmX"),f=r("2SyR"),v=r("C4vA"),h=r("BgpN"),p=r("rIlz"),C=r("Oj90"),_=r("4z8c"),w=r("ZXQ1"),b=r("qIMa"),g=r("ilzx"),x={name:"associate-consumer-form",props:["streamId","onCancel"],components:{AssociateObjectStreams:g.a},computed:{consumers:function(){return this.$store.state.rfConsumers}},data:function(){return{apiListKey:"consumer",service:w.a}}},S=Object(c.a)(x,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("associate-object-streams",{attrs:{title:"Consumer",items:e.consumers,onCancel:e.onCancel,streamId:e.streamId,apiListKey:e.apiListKey,service:e.service}})}),[],!1,null,null,null).exports,k={name:"associate-producers-form",props:["streamId","onCancel"],components:{AssociateObjectStreams:g.a},computed:{producers:function(){return this.$store.state.rfProducers}},data:function(){return{apiListKey:"producers",service:_.a}}},V=Object(c.a)(k,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("associate-object-streams",{attrs:{title:"Producers",items:e.producers,onCancel:e.onCancel,streamId:e.streamId,apiListKey:e.apiListKey,service:e.service}})}),[],!1,null,null,null).exports,y={name:"associate-command-group-form",props:["streamId","onCancel"],components:{AssociateObjectStreams:g.a},computed:{commandGroups:function(){return this.$store.state.rfCommandGroups}},data:function(){return{apiListKey:"command_group",service:b.a}}},E=Object(c.a)(y,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("associate-object-streams",{attrs:{title:"Command Groups",items:e.commandGroups,onCancel:e.onCancel,streamId:e.streamId,apiListKey:e.apiListKey,service:e.service}})}),[],!1,null,null,null).exports,G={viewProducers:"viewProducer",viewConsumers:"viewConsumers",viewCommandGroup:"viewCommandGroup",createProducers:"createProducers",createConsumers:"createConsumers",createCommandGroup:"createCommandGroup",associateProducers:"associateProducers",associateConsumers:"associateConsumers",associateCommandGroup:"associateCommandGroup"},N=(n={},u()(n,G.viewProducers,(function(e){return"/rubix-flow-streams/"+e+"/producers"})),u()(n,G.viewConsumers,(function(e){return"/rubix-flow-streams/"+e+"/consumers"})),u()(n,G.viewCommandGroup,(function(e){return"/rubix-flow-streams/"+e+"/command-groups"})),n),$={components:(s={GenericGrid:d.a,StreamsForm:m,IconButton:f.a,ProducersForm:v.a,ConsumersForm:h.a},u()(s,"ConsumersForm",h.a),u()(s,"CommandGroupForm",C.a),u()(s,"AssociateConsumers",S),u()(s,"AssociateProducers",V),u()(s,"AssociateCommandGroups",E),s),name:"flowNetworkGrid",data:function(){var e;return{selectedItem:{},producerValues:{},toolbarTitle:"Streams",service:p.a,isCreatingProducer:!1,isCreatingConsumer:!1,isCreatingCommandGroup:!1,dialogNames:i()({},G),storeMutationKey:"changeRfStreams",dialog:(e={},u()(e,G.createProducers,!1),u()(e,G.createConsumers,!1),u()(e,G.createCommandGroup,!1),u()(e,G.associateProducers,!1),u()(e,G.associateConsumers,!1),u()(e,G.associateCommandGroup,!1),e),gridHeaders:[{text:"Name",align:"center",value:"name",sortable:!0},{text:"View",align:"center",value:"gridItemActions",sortable:!1},{text:"Actions",align:"center",value:"actions",sortable:!0}]}},computed:{flowNetworks:function(){return this.$store.state.rfFlowNetworks}},methods:{toggleDialog:function(e,t){this.selectedItem=t,this.dialog[e]=!this.dialog[e],this.dialog[e]?this.selectedItem=t:this.selectedItem=null},closeDialog:function(e){this.dialog[e]=!1,this.selectedItem={}},createProducer:function(e){var t=this;return this.isCreatingProducer=!0,_.a.create(e).then((function(e){return t.closeDialog(t.dialogNames.createProducers),e})).finally((function(){t.isCreatingProducer=!1}))},createConsumer:function(e){var t=this;return this.isCreatingConsumer=!0,w.a.create(e).then((function(e){return t.closeDialog(t.dialogNames.createConsumers),e})).finally((function(){t.isCreatingConsumer=!1}))},createCommandGroup:function(e){var t=this;return this.isCreatingCommandGroup=!0,b.a.create(e).then((function(e){return t.closeDialog(t.dialogNames.createCommandGroup),e})).finally((function(){t.isCreatingCommandGroup=!1}))},redirectTo:function(e,t){var r=t.uuid;if(r){var n=N[e];"function"==typeof n&&this.$router.push({path:n(r)})}}}},I={name:"streams",components:{StreamsGrid:Object(c.a)($,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("generic-grid",{attrs:{service:e.service,headers:e.gridHeaders,toolbarTitle:e.toolbarTitle,storeMutationKey:e.storeMutationKey},scopedSlots:e._u([{key:"createForm",fn:function(t){var n=t.onSave,s=t.onClose,a=t.isOpen,i=t.isSaving;return[a?r("streams-form",{attrs:{isEdit:!1,onSave:n,onCancel:s,isSaving:i,flowNetworks:e.flowNetworks}}):e._e()]}},{key:"editForm",fn:function(t){var n=t.onSave,s=t.item,a=t.onClose,i=t.isOpen,o=t.isSaving;return[i?r("streams-form",{attrs:{item:s,isEdit:!0,onSave:n,onCancel:a,isSaving:o,flowNetworks:e.flowNetworks}}):e._e()]}},{key:"gridItemActions",fn:function(t){var n=t.item;return[r("icon-button",{attrs:{color:"nubeYellow",title:"Producer",icon:"mdi-link",onClick:function(){return e.redirectTo(e.dialogNames.viewProducers,n)}}}),e._v(" "),r("icon-button",{attrs:{color:"nubeGreen",icon:"mdi-link",title:"Consumer",onClick:function(){return e.redirectTo(e.dialogNames.viewConsumers,n)}}}),e._v(" "),r("icon-button",{attrs:{color:"blue",icon:"mdi-link",title:"Command Group",onClick:function(){return e.redirectTo(e.dialogNames.viewCommandGroup,n)}}})]}}])})],1)}),[],!1,null,null,null).exports,TooltipIconButton:r("Ui9F").a},data:function(){return{gridData:{}}}},P=Object(c.a)(I,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[e._v("\n    Streams\n  ")]),e._v(" "),r("v-card-text",[r("v-row",{attrs:{"no-gutter":""}},[r("v-col",{attrs:{cols:"12",lg:"12",xl:"12",md:"12",sm:"12",xs:"12"}},[r("streams-grid")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=P.exports},Oj90:function(e,t,r){"use strict";var n=r("Kz1y"),s=r.n(n),a={name:"rf-command-group-form",props:["isEdit","onCancel","onSave","item","isSaving","stream"],data:function(){return{rules:{required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},valid:!1,formValues:s()({},{name:null,is_remote:!0,rubix_uuid:null,remote_rubix_uuid:null})}},computed:{lowerCaseTitle:function(){return"command group"},titleCase:function(){return"Command Group"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=s()({},this.formValues,this.item)),!this.isEdit&&this.stream&&(this.formValues=s()({},this.formValues,{stream_uuid:this.stream.uuid}))},methods:{cleanUp:function(){this.formValues={},"function"==typeof this.onCancel&&this.onCancel()},onSubmit:function(){var e=this;if(this.$refs.form.validate()){if("function"!=typeof this.onSave)throw new Error(this.lowerCaseTitle+" form onSave function not passed");return this.onSave(this.formValues).then((function(){e.$toasted.show("Successfully "+(e.isEdit?"updated":"created")+" "+e.lowerCaseTitle+"."),e.cleanUp(!0)})).catch((function(){e.$toasted.show("Failed to "+(e.isEdit?"update":"create")+" "+e.lowerCaseTitle+".",{type:"error"})}))}}}},i=r("psIG"),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{required:"",label:"Name",rules:[e.rules.required]},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}})],1)],1)],1)],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-card-actions",{staticClass:"align-end justify-end"},[r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",loading:e.isSaving,text:""},on:{click:function(t){return e.onSubmit(e.formValues)}}},[e._v(" "+e._s(e.saveTitle)+" ")])],1)],1)}),[],!1,null,null,null);t.a=o.exports},ZXQ1:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r("tZmG"),s=r.n(n),a=r("YUSd"),i=r.n(a),o=r("Zv/C"),u=r.n(o),l=r("2lBV"),c=r.n(l),m=r("Dkg+"),d=r.n(m),f=r("Gjrs"),v=r.n(f),h=r("DeKB"),p=r("oCli"),C=r("uzYq"),_=r("PWxN"),w=r.n(_),b=r("NWgQ"),g=r.n(b),x=new(function(e){function t(){u()(this,t);var e=d()(this,(t.__proto__||i()(t)).call(this,p.a.rfConsumers));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("Stream Id is required for fetching consumers of streams");var r=p.a.rfStreams(t);return(e=w()(e,["uuid","id"]))&&s()(e).length>0&&(r=r+"?"+g.a.stringify(e)),C.a.get(r).then((function(e){return{dataItems:e.consumers,extraData:w()(e,["consumers"])}}))},e}return v()(t,e),c()(t,[{key:"fetchAll",value:function(){var e=p.a.rfConsumers();return C.a.get(e)}}]),t}(h.a))},qIMa:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r("tZmG"),s=r.n(n),a=r("YUSd"),i=r.n(a),o=r("Zv/C"),u=r.n(o),l=r("2lBV"),c=r.n(l),m=r("Dkg+"),d=r.n(m),f=r("Gjrs"),v=r.n(f),h=r("DeKB"),p=r("oCli"),C=r("uzYq"),_=r("PWxN"),w=r.n(_),b=r("NWgQ"),g=r.n(b),x=new(function(e){function t(){u()(this,t);var e=d()(this,(t.__proto__||i()(t)).call(this,p.a.rfCommands));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("Stream Id is required for fetching commands of streams");var r=p.a.rfStreams(t);return(e=w()(e,["uuid","id"]))&&s()(e).length>0&&(r=r+"?"+g.a.stringify(e)),C.a.get(r).then((function(e){return{dataItems:e.command_groups,extraData:w()(e,["command_groups"])}}))},e}return v()(t,e),c()(t,[{key:"fetchAll",value:function(){var e=p.a.rfProducers();return C.a.get(e)}}]),t}(h.a))}}]);
//# sourceMappingURL=29.33dbc8429340f19934c7.js.map