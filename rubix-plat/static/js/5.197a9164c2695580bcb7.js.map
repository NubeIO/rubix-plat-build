{"version":3,"sources":["webpack:///./src/components/Common/PageTitle.vue?c58c","webpack:///./src/components/Common/PageTitle.vue?8d7a","webpack:///src/components/Common/PageTitle.vue","webpack:///./src/components/Common/PageTitle.vue","webpack:///./src/components/RubixApps/RubixApps.vue?d0e6","webpack:///./src/services/slaveAppsService.js","webpack:///./src/components/RubixApps/appsEditConfig.vue?dff2","webpack:///src/components/RubixApps/appsEditConfig.vue","webpack:///./src/components/RubixApps/appsEditConfig.vue?f03f","webpack:///./src/components/RubixApps/appsEditConfig.vue?c4f2","webpack:///src/components/RubixApps/AppsDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?ab99","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?02f0","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?9522","webpack:///src/components/RubixApps/AppsUploadMultiStepView.vue","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue?3753","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue?72e7","webpack:///src/components/RubixApps/AppsBulkDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue?327b","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue?37ce","webpack:///src/components/RubixApps/AppsGrid.vue","webpack:///./src/components/RubixApps/AppsGrid.vue?222d","webpack:///./src/components/RubixApps/AppsGrid.vue","webpack:///./src/components/RubixApps/AppsGrid.vue?e013","webpack:///./src/components/RubixApps/TooltipIconButton.vue?f36c","webpack:///src/components/RubixApps/TooltipIconButton.vue","webpack:///./src/components/RubixApps/TooltipIconButton.vue","webpack:///./src/components/RubixApps/TooltipIconButton.vue?ddfa","webpack:///./src/components/RubixApps/SlaveAppGrid.vue?19de","webpack:///src/components/RubixApps/SlaveAppGrid.vue","webpack:///./src/components/RubixApps/SlaveAppGrid.vue?bff6","webpack:///./src/components/RubixApps/SlaveAppGrid.vue?82f6","webpack:///./src/services/slaveAppsUiService.js","webpack:///./src/components/RubixApps/TooltipTitle.vue?00af","webpack:///src/components/RubixApps/TooltipTitle.vue","webpack:///./src/components/RubixApps/TooltipTitle.vue","webpack:///./src/components/RubixApps/TooltipTitle.vue?e6b7","webpack:///src/components/RubixApps/SlaveAppsDownloadMultiStep.vue","webpack:///./src/components/RubixApps/SlaveAppsDownloadMultiStep.vue?e176","webpack:///./src/components/RubixApps/SlaveAppsDownloadMultiStep.vue?b8d2","webpack:///./src/components/RubixApps/SlaveAppsDownloadMultiStep.vue?3495","webpack:///./src/components/RubixApps/SlaveAppsControlActionReport.vue?d1b5","webpack:///src/components/RubixApps/SlaveAppsControlActionReport.vue","webpack:///./src/components/RubixApps/SlaveAppsControlActionReport.vue","webpack:///./src/components/RubixApps/SlaveAppsControlActionReport.vue?e33c","webpack:///src/components/RubixApps/SlaveApps.vue","webpack:///./src/components/RubixApps/SlaveApps.vue?6d33","webpack:///./src/components/RubixApps/SlaveApps.vue","webpack:///./src/components/RubixApps/SlaveApps.vue?10f2","webpack:///./src/components/RubixApps/RubixApps.vue?bb70","webpack:///src/components/RubixApps/RubixApps.vue","webpack:///./src/components/RubixApps/RubixApps.vue","webpack:///./src/services/slaveDevicesService.js","webpack:///./src/components/Sidebar/CopyClipboard.vue?ec71","webpack:///./src/components/Sidebar/CopyClipboard.vue?995d","webpack:///src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Services/IconButton.vue?8928","webpack:///./src/components/Services/IconButton.vue?6aa3","webpack:///src/components/Services/IconButton.vue","webpack:///./src/components/Services/IconButton.vue","webpack:///./src/components/Common/GridToolbar.vue?fa49","webpack:///./src/components/Common/ImportDialog.vue?b025","webpack:///src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue?e89f","webpack:///./src/components/Common/GridToolbar.vue?35fe","webpack:///src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/TextFieldDisplay.vue?5be8","webpack:///./src/components/Common/TextFieldDisplay.vue?7155","webpack:///src/components/Common/TextFieldDisplay.vue","webpack:///./src/components/Common/TextFieldDisplay.vue?e583","webpack:///./src/components/Services/AppStatusChip.vue?e6c6","webpack:///src/components/Services/AppStatusChip.vue","webpack:///./src/components/Services/AppStatusChip.vue?2c17","webpack:///./src/components/Services/AppStatusChip.vue","webpack:///./src/services/rubixService.js","webpack:///./src/components/Common/RbxButton.vue?1865","webpack:///./src/components/Common/RbxButton.vue?d078","webpack:///src/components/Common/RbxButton.vue","webpack:///./src/components/Common/RbxButton.vue","webpack:///./src/components/Common/ExportData.vue?6012","webpack:///./src/components/Common/ExportData.vue?9000","webpack:///src/components/Common/ExportData.vue","webpack:///./src/components/Common/ExportData.vue","webpack:///./src/services/systemSettingService.js","webpack:///./src/components/Common/ConfirmDialog.vue?964d","webpack:///./src/components/Common/ConfirmDialog.vue?8f62","webpack:///src/components/Common/ConfirmDialog.vue","webpack:///./src/components/Common/ConfirmDialog.vue","webpack:///./src/services/appsService.js","webpack:///./src/services/mqttRestBridgeService.js"],"names":["name","props","component","_vm","this","_h","$createElement","_self","_c","staticClass","_v","_s","title","endpoint","fetch","http","get","restrictToast","deleteSlaveAppsDownloadState","mapPayloadToRequestDownloadApps","dataItems","reduce","acc","item","slaveId","push","service","version","bulkControlApps","action","post","mapPayloadToRequestControlApps","bulkDownloadSlaveApps","data","bulkInstallSlaveApps","fetchDownloadState","clearDownloadState","slaveUUIDs","query","qs","stringify","delete","fetchAppReleases","serviceName","fetchAppsReleases","services","all","map","catch","err","downloadAppData","a","rubixService","url","headers","responseType","deleteAppData","fetchJSONConfig","config","fetchEnvConfig","saveJSONConfig","put","saveENVConfig","fetchAppConfig","appType","RUBIX_APP_TYPES","PYTHON_APP","then","FRONTEND_APP","Error","saveAppConfig","downloadAppConfig","slaveDeviceName","exportJSON","exportENV","deleteJSONConfig","deleteENVConfig","deleteAppConfig","uninstallApp","changeServiceStatus","uploadApp","file","formData","FormData","append","installApp","body","fetchAppStatus","options","apiService","isFetchingConfig","isSavingConfig","isConfigJSON","mounted","isSlaveApp","appDetail","appsService","isJSON","app_type","methods","saveConfig","attrs","display_name","mode","model","value","callback","$$v","expression","_e","on","closeDialog","shouldStopRubixApp","serviceInfo","status","components","AppStatusChip","valid","currentView","appReleases","serviceStatus","isFetchingAppStatus","selectedVersion","multiStepViewConfig","1","back","forward","hasBack","disabled","hasForward","buttonLabel","loader","2","3","4","loading","rules","required","versionRules","updated","currentDownloadState","watch","showDownloadStateView","newVal","clearDownloadAppStateInterval","cancel","deleteDownloadState","stopAndContinue","spinLoader","continue","install","appDetails","time_since","state","ref","next","isDeleteAppData","isDeletingAppData","isStartingApp","errorMessage","rubixAppTypes","startApp","upload","onFileSelect","versionNumber","Array","isArray","toggleDeleteAppData","$event","TextFieldDisplay","versionForm","renderReleaseCount","isFetchingAppStatuses","successInstallApps","failureInstallApps","refreshTime","hasCancel","hasCancelInstallation","cancelTitle","hasSelectedApps","DOWNLOAD_COMPLETE","DOWNLOAD_IN_PROGRESS","created","computed","currentBulkAppDownloadState","$store","selectedApps","length","apps","downloadStates","appDownloadStates","_l","app","i","key","domProps","displayName","loadingReleases","releases","$set","isDownloading","hasError","successApps","failedApps","error","cancelInstallation","AppsEditConfig","GridToolbar","AppsDownloadMultiStepView","ConfirmDialog","AppsUploadMultiStepView","AppsBulkDownloadMultiStepView","uninstall","deleteDatabase","editConfig","bulkDownload","restartService","selectedItems","isRestartingService","singleDownloadRefreshTIme","selectedApp","dialogNames","isFetchingAppDetails","isBulkDownloadAppPersistent","isDeletingConfig","isDeletingDatabase","isUninstallingApp","fetchDownloadStateInterval","isDeletingDownloadState","dialog","remountDialog","tableProps","formatAppDetails","setting","showCheckDownloadIcon","showDownloadProgressIcon","fetchDownloadAppState","fetchAppDetails","destroyed","dialogName","unmount","setTimeout","syncAppDetails","openDialog","toggleDialog","$toasted","show","type","fetchAllInstalledApps","getFileName","deleteAppConfigFile","downloadConfig","bulkDownloadApps","clearInterval","downloadStateInterval","setInterval","clearSelectedApps","scopedSlots","_u","fn","proxy","FOOTER_PROPS","ITEMS_PER_PAGE","_g","_b","downloadUrl","buttonSize","btnColor","onClick","btnIcon","btnTooltip","TooltipIconButton","expanded","selectedGridItems","set","onSelectItem","slaveApps","appVersion","appWithLatestVersion","latest_version","appendSlaveDevice","slaveDevice","newData","onDeleteDatabase","onDownloadDatabase","searchText","is_enabled","slave_time_zone","slave_site_state","slave_site_city","slave_site_zip","browser_download_url","slaveReleaseList","filteredReleaseMap","releaseMap","selectedServicesSlaveIds","includes","filterReleaseMapBySelectedItems","val","filter","formatSelectedItemsWithSlaveIds","slaveAppsReleasesCount","Infinity","indexOfMinValue","indexOf","Math","min","TooltipTitle","successInstalledApps","divider","isNonItem","installationSuccessApps","installationFailedApps","getHeader","text","isHeader","isListItem","getCommonAppMinVersion","count","indexOfCommonVersion","appVersions","getVersionSelection","commonAppVersion","isVersionSelect","versions","disableInstallationButton","curr","download","$refs","validate","resetDialog","failedApp","controlActionErrorReport","success","faliureApps","failureApps","duration","message","failure","partial","PageTitle","IconButton","SlaveAppGrid","SlaveAppsDownloadMultiStep","SlaveAppsControlActionReport","bulkUpdate","recompute","filters","isInstalled","slaveAppDisplayNameMap","currentControlAction","isControlActionPending","statusControlErrors","isFetchAppfailure","isClearDialog","isLoadingSlaveApps","slaveAppsOnceLoaded","controlActionState","fetchErrorMessage","isFetchingAppData","slaveAppsDetailMap","slaveAppsDetail","selectedAppVersion","slaveAppReleases","fetchDownloadAppStateInterval","slaveDevices","slaveAppsDownloadStates","actionButtons","actionBtnKeys","initialize","selectedServicesCount","appliedFilterCount","retryFetchApps","fetchSlaveApps","items","fetchSlaveDevices","fetchSlaveAppReleases","serviceNames","onBulkUpdate","startDownloadStateInterval","onClearDownload","finally","getControlErrorReport","getControlActionState","controlActionErrorStates","errStates","every","openErrorReportDialog","getToastMessageAction","actions","handleControlAction","buttonConfig","iconKey","color","toggleMasterSlave","isFetchingMRBConfig","AppsGrid","SlaveApps","mqttRestBridgeService","isMqttRestBridgeConfigLoaded","isMaster","create","slave","global_uuid","bulkCreate","slaves","discoverDevices","remove","globalUUID","bulkRemove","copyToClipboard","$copyText","copyClipboard","onCopy","btnSize","buttonTitle","dialogImportExcel","dialogImportJSON","dataImport","importFile","fileReader","readAsBinaryString","onload","handleFileLoad","firstSheet","receiveDataRows","rowObject","importJson","ExportData","toolbarTitle","hideExportData","fileName","formatDataService","onDelete","isDeleteEnabled","_t","label","active","reloading","failed","activating","deactivating","maintenance","currentStatus","appStatus","capitalize","defaultStatus","str","String","charAt","toUpperCase","slice","chipSize","fetchStatus","upgradeLatest","upgrade","fetchReleases","updateToken","token","upgradeViaFile","fetchAppUrl","class","className","isSmall","block","click","afterIcon","clickDownload","formattedData","fetchSystemServices","isOpen","dialogText","onClose","onConfirm","fetchApps","queryParams","fetchAllApps","systemSettingService","r","is_installed","fetchSystemDefaultApps","appName","downloadApp","deleteAppDataService","bulkAppControl","bulkInstallApps","fetchMRBListener","pathMRBListener","mrb","patch"],"mappings":"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","file":"static/js/5.197a9164c2695580bcb7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"text-h5 text-left py-3\"},[_vm._v(_vm._s(_vm.title))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"","<template>\n  <h1 class=\"text-h5 text-left py-3\">{{ title }}</h1>\n</template>\n<script>\nexport default {\n  name: 'page-title',\n  props: ['title'],\n};\n</script>\n","import { render, staticRenderFns } from \"./PageTitle.vue?vue&type=template&id=c9fcf31a&\"\nimport script from \"./PageTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./PageTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-title',{attrs:{\"title\":\"Rubix Apps\"}}),_vm._v(\" \"),(_vm.isMaster)?_c('div',[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-btn-toggle',{attrs:{\"rounded\":\"\"},model:{value:(_vm.toggleMasterSlave),callback:function ($$v) {_vm.toggleMasterSlave=$$v},expression:\"toggleMasterSlave\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"value\":1}},[_vm._v(\" Master View \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"small\":\"\",\"value\":2}},[_vm._v(\" Slave View \")])],1)],1),_vm._v(\" \"),_c('v-row',[(!_vm.isMqttRestBridgeConfigLoaded && _vm.isFetchingMRBConfig)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, list-item-two-line, image, table-tfoot\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.isFetchingMRBConfig && _vm.isMqttRestBridgeConfigLoaded && _vm.toggleMasterSlave == 2)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('apps-grid')],1):_vm._e(),_vm._v(\" \"),(!_vm.isFetchingMRBConfig && _vm.isMqttRestBridgeConfigLoaded && _vm.toggleMasterSlave == 1)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('slave-apps')],1):_vm._e()],1)],1):_c('div',[(_vm.isFetchingMRBConfig)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, image, image, image, table-tfoot\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.isFetchingMRBConfig && _vm.isMqttRestBridgeConfigLoaded)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('apps-grid')],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from '../axios';\nimport qs from 'query-string';\nimport * as rubixService from './rubixService';\nimport { RUBIX_APP_TYPES } from '../constants/appConstant';\nimport { exportENV, exportJSON } from '../utils/utils';\n\nconst endpoint = '/slave-apps';\n\nexport const fetch = () => {\n  return http.get(`${endpoint}`, { restrictToast: true });\n};\n\nexport const deleteSlaveAppsDownloadState = () => {};\n\nfunction mapPayloadToRequestControlApps(dataItems, action) {\n  return dataItems.reduce((acc, item) => {\n    if (!acc[item.slaveId]) {\n      acc[item.slaveId] = [];\n    }\n    acc[item.slaveId].push({\n      service: item.service,\n      action,\n    });\n    return acc;\n  }, {});\n}\n\nfunction mapPayloadToRequestDownloadApps(dataItems) {\n  return dataItems.reduce((acc, item) => {\n    if (!acc[item.slaveId]) {\n      acc[item.slaveId] = [];\n    }\n    acc[item.slaveId].push({\n      service: item.service,\n      version: item.version,\n    });\n    return acc;\n  }, {});\n}\n\nexport const bulkControlApps = (dataItems, action) => {\n  return http.post(`${endpoint}/control`, mapPayloadToRequestControlApps(dataItems, action));\n};\n\nexport const bulkDownloadSlaveApps = data => {\n  return http.post(`${endpoint}/download`, mapPayloadToRequestDownloadApps(data));\n};\n\nexport const bulkInstallSlaveApps = data => {\n  return http.post(`${endpoint}/install`, mapPayloadToRequestDownloadApps(data));\n};\n\nexport const fetchDownloadState = () => {\n  return http.get(`${endpoint}/download-state`, { restrictToast: true });\n};\n\nexport const clearDownloadState = slaveUUIDs => {\n  const query = qs.stringify({\n    slaveUUIDs,\n  });\n\n  return http.delete(`${endpoint}/download-state?${query}`);\n};\n\nexport const fetchAppReleases = serviceName => {\n  return http.get(`${endpoint}/releases/${serviceName}`);\n};\n\nexport const fetchAppsReleases = services => {\n  return Promise.all(services.map(service => fetchAppReleases(service).catch(err => [])));\n};\n\nexport const downloadAppData = async (serviceName, slaveId) => {\n  const data = await rubixService.fetchAppUrl();\n  const url = `${data.data}slave/${slaveId}/api/app/download_data?service=${serviceName}`;\n  return http.get(url, {\n    headers: {\n      'Content-Type': 'application/zip',\n    },\n    responseType: 'blob',\n  });\n};\n\nexport const deleteAppData = (serviceName, slaveId) => {\n  return http.post(`${endpoint}/delete-app-data`, { service: serviceName, slaveId });\n};\n\nexport const fetchJSONConfig = (serviceName, slaveId, config) => {\n  return http.get(`${endpoint}/slaves/${slaveId}/json-config/${serviceName}`, config);\n};\n\nexport const fetchEnvConfig = (serviceName, slaveId, config) => {\n  return http.get(`${endpoint}/slaves/${slaveId}/env/${serviceName}`, config);\n};\n\nexport const saveJSONConfig = (serviceName, slaveId, config) => {\n  return http.put(`${endpoint}/slaves/${slaveId}/json-config`, { service: serviceName, data: config });\n};\n\nexport const saveENVConfig = (serviceName, slaveId, config) => {\n  return http.put(`${endpoint}/slaves/${slaveId}/env`, { service: serviceName, data: config });\n};\n\nexport const fetchAppConfig = (serviceName, appType, config) => {\n  const slaveId = config.slaveId;\n\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, slaveId, config).then(({ data }) => data);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, slaveId, config).then(({ data }) => data);\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const saveAppConfig = (serviceName, appType, config, slaveId) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return saveJSONConfig(serviceName, slaveId, config || {});\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return saveENVConfig(serviceName, slaveId, config || '');\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const downloadAppConfig = (serviceName, slaveId, slaveDeviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, slaveId, config).then(({ data }) => {\n      exportJSON(`${serviceName}-${slaveDeviceName}-config`, JSON.stringify(data));\n    });\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, slaveId, config).then(({ data }) => {\n      exportENV(`${serviceName}-${slaveDeviceName}`, data);\n    });\n  }\n  throw new Error('App type not supported for download config');\n};\n\nexport const deleteJSONConfig = (slaveId, serviceName) => {\n  return http.delete(`${endpoint}/slaves/${slaveId}/json-config`, { data: { service: serviceName } });\n};\n\nexport const deleteENVConfig = (slaveId, serviceName) => {\n  return http.delete(`${endpoint}/slaves/${slaveId}/env`, { data: { service: serviceName } });\n};\n\nexport const deleteAppConfig = (slaveId, serviceName, appType) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return deleteJSONConfig(slaveId, serviceName);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return deleteENVConfig(slaveId, serviceName);\n  }\n  throw new Error('App type not supported for deletion');\n};\n\nexport const uninstallApp = (slaveId, serviceName) => {\n  return http.post(`${endpoint}/uninstall`, { service: serviceName, slaveId });\n};\n\nexport const changeServiceStatus = (action, serviceName, slaveId) => {\n  return http.post(`${endpoint}/slaves/${slaveId}/control`, [{ action, service: serviceName }]);\n};\n\nexport const uploadApp = (file, serviceName, version, slaveId) => {\n  let formData = new FormData();\n  formData.append('file', file);\n  formData.append('service', serviceName);\n  formData.append('version', version);\n  return http.post(`${endpoint}/slaves/${slaveId}/app-upload`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const installApp = (body, slaveId) => {\n  return http.post(`${endpoint}/slaves/${slaveId}/install`, [body]);\n};\n\nexport const fetchAppStatus = (service, options = {}, slaveId) => {\n  return http.get(`${endpoint}/slaves/${slaveId}/stats/${service}`, options);\n};\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appsEditConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appsEditConfig.vue?vue&type=script&lang=js&\"","<template>\n  <v-card :loading=\"isFetchingConfig\">\n    <v-card-title>{{ appDetail.display_name }} | Edit Config</v-card-title>\n    <v-card-text>\n      <v-container>\n        <v-jsoneditor\n          v-if=\"isConfigJSON\"\n          :options=\"{ mode: 'code' }\"\n          v-model=\"config\"\n          :plus=\"false\"\n          height=\"400px\"\n        ></v-jsoneditor>\n        <v-textarea\n          v-if=\"!isConfigJSON\"\n          outlined\n          name=\"input-7-4\"\n          label=\"Enter ENV config\"\n          v-model=\"config\"\n        ></v-textarea>\n      </v-container>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn color=\"primary\" @click=\"saveConfig\" :loading=\"isSavingConfig\"> Save </v-btn>\n      <v-btn @click=\"closeDialog\" text> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport * as appsService from '../../services/appsService';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport { APP_CONFIG_TYPES, JSON_CONFIG_TYPE } from '../../constants/appConstant';\nexport default {\n  name: 'app-edit-config',\n  props: ['appDetail', 'closeDialog', 'isSlaveApp'],\n  data() {\n    return {\n      config: null,\n      slaveId: null,\n      apiService: null,\n      isFetchingConfig: false,\n      isSavingConfig: false,\n      isConfigJSON: false,\n    };\n  },\n  mounted() {\n    if (this.isSlaveApp) {\n      this.slaveId = this.appDetail.slaveId;\n      this.apiService = slaveAppsService;\n    } else {\n      this.apiService = appsService;\n    }\n    this.fetchAppConfig();\n    this.isConfigJSON = this.isJSON(this.appDetail.app_type);\n  },\n  methods: {\n    isJSON(appType) {\n      return APP_CONFIG_TYPES[appType] === JSON_CONFIG_TYPE;\n    },\n    fetchAppConfig() {\n      const serviceName = this.appDetail.service;\n      const appType = this.appDetail.app_type;\n      this.isFetchingConfig = true;\n      this.apiService['fetchAppConfig'](serviceName, appType, { restrictToast: true, slaveId: this.slaveId })\n        .then(data => {\n          this.config = data;\n        })\n        .catch(err => {})\n        .finally(() => {\n          this.isFetchingConfig = false;\n        });\n    },\n    saveConfig() {\n      const serviceName = this.appDetail.service;\n      const serviceDisplayName = this.appDetail.display_name;\n      const appType = this.appDetail.app_type;\n      this.isSavingConfig = true;\n      this.apiService['saveAppConfig'](serviceName, appType, this.config, this.slaveId)\n        .then(data => {\n          this.$toasted.show(`Successfully updated config for ${serviceDisplayName}`);\n          this.closeDialog();\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to update config for ${serviceDisplayName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isSavingConfig = false;\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.jsoneditor-poweredBy {\n  display: none;\n}\n.CodeMirror {\n  text-align: left !important;\n}\n.jsoneditor-field {\n  color: #fff !important;\n}\n.jsoneditor-field:hover {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-field:focus {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-value:hover {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-value:focus {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor {\n  border: none !important;\n}\n.jsoneditor-menu {\n  background-color: #1e1e1e !important;\n  border-bottom: none !important;\n}\n.ace-jsoneditor .ace_scroller {\n  background-color: #1e1e1e;\n}\n.ace-jsoneditor .ace_gutter {\n  background: #1e1e1e;\n  color: #333;\n}\n.ace_variable {\n  color: #fbb93e !important;\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\n  background: darkslategrey;\n}\n.ace_folding-enabled > .ace_gutter-cell {\n  color: white;\n}\n.ace-jsoneditor .ace_gutter-active-line {\n  background-color: darkslategrey;\n}\n.jsoneditor-statusbar {\n  color: #fff !important;\n  background-color: #1e1e1e !important;\n  border-top: none !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./appsEditConfig.vue?vue&type=template&id=add13d3c&scoped=true&\"\nimport script from \"./appsEditConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./appsEditConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appsEditConfig.vue?vue&type=style&index=0&id=add13d3c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"add13d3c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingConfig}},[_c('v-card-title',[_vm._v(_vm._s(_vm.appDetail.display_name)+\" | Edit Config\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[(_vm.isConfigJSON)?_c('v-jsoneditor',{attrs:{\"options\":{ mode: 'code' },\"plus\":false,\"height\":\"400px\"},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}}):_vm._e(),_vm._v(\" \"),(!_vm.isConfigJSON)?_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"Enter ENV config\"},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}}):_vm._e()],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.isSavingConfig},on:{\"click\":_vm.saveConfig}},[_vm._v(\" Save \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatus\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"white--text mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium dark> mdi-arrow-left </v-icon>\n      </v-btn>\n      <span class=\"headline\">{{ multiStepViewConfig[currentView].title }}</span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\">\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <text-field-display\n                  label=\"Active\"\n                  :value=\"(!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\"\n                ></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <app-status-chip :state=\"serviceStatus.state\"></app-status-chip>\n              </v-col>\n              <v-col cols=\"1\" class=\"text-right\">\n                <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                  <v-icon medium dark> mdi-refresh </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display\n                  label=\"Version\"\n                  :value=\"!isFetchingAppStatus && serviceStatus.version ? serviceStatus.version : '-'\"\n                ></text-field-display>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"valid\" ref=\"downloadForm\" lazy-validation>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Active\"\n                    :value=\"\n                      (!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\n                    \"\n                  ></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <app-status-chip :state=\"serviceStatus.state\"></app-status-chip>\n                </v-col>\n                <v-col cols=\"1\" class=\"text-right\">\n                  <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                    <v-icon medium dark> mdi-refresh </v-icon>\n                  </v-btn>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Version\"\n                    :value=\"!isFetchingAppStatus && serviceStatus.version ? serviceStatus.version : '-'\"\n                  ></text-field-display>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-combobox\n                    :loading=\"loading\"\n                    :items=\"appReleases\"\n                    label=\"Select Release Version\"\n                    hideSelected\n                    clearable\n                    v-model=\"selectedVersion\"\n                    item-text=\"name\"\n                    item-value=\"tag_name\"\n                    :rules=\"versionRules\"\n                  >\n                  </v-combobox>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"3\">\n            <div class=\"text-left\">\n              <v-alert v-if=\"!currentDownloadState\" class=\"mb-0\" dense type=\"info\">\n                Fetching download status <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert v-if=\"currentDownloadState === 'DOWNLOAD_IN_PROGRESS'\" class=\"mb-0\" dense type=\"info\">\n                Downloading Selected App <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n            <div v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" class=\"pt-3\">\n              <v-row>\n                <v-col cols=\"6\" class=\"text-left\">\n                  <div class=\"grey--text mb-2 caption\">Name</div>\n                  <div class=\"font-weight-medium\">\n                    {{ appDetails.display_name + ' - ' + appDetails.service }}\n                  </div>\n                </v-col>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <div class=\"grey--text mb-2 caption\">Version</div>\n                  <div class=\"font-weight-medium\">\n                    {{ isFetchingAppStatus ? '-' : selectedVersion }}\n                  </div>\n                </v-col>\n              </v-row>\n            </div>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"4\">\n            <v-row>\n              <v-col cols=\"12\" class=\"text-left\">\n                <div class=\"font-weight-large\">Successfully installed {{ appDetails.display_name }} app.</div>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">\n                  <span>Version</span>\n                </div>\n                <div class=\"font-weight-medium\">\n                  {{ selectedVersion }}\n                </div>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        color=\"primary\"\n        @click=\"next\"\n        :disabled=\"multiStepViewConfig[currentView].disabled\"\n        :loading=\"multiStepViewConfig[currentView].loader\"\n        v-if=\"multiStepViewConfig[currentView].hasForward\"\n      >\n        {{\n          typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n            ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n            : multiStepViewConfig[currentView].buttonLabel\n        }}\n      </v-btn>\n      <v-btn @click=\"cancel\" text> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n\n  <!-- <v-progress-circular indeterminate size=\"64\"></v-progress-circular> -->\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport * as appsService from '../../services/appsService';\nimport {\n  RUBIX_APP_STATUS_CONTROL_ACTIONS,\n  ALWAYS_RUNNING_RUBIX_APP,\n  APP_DOWNLOAD_STATUSES,\n} from '../../constants/appConstant';\n\nfunction shouldStopRubixApp(serviceInfo) {\n  return serviceInfo.status && ALWAYS_RUNNING_RUBIX_APP.RUBIX_PLAT !== serviceInfo.service;\n}\n\nexport default {\n  name: 'apps-download-multi-step',\n  props: [\n    'app-details',\n    'close-dialog',\n    'deleteDownloadState',\n    'currentDownloadState',\n    'fetchDownloadAppState',\n    'clearDownloadAppStateInterval',\n  ],\n  components: { AppStatusChip, TextFieldDisplay },\n  data() {\n    return {\n      valid: false,\n      currentView: 1,\n      appReleases: [],\n      serviceStatus: {},\n      isFetchingAppStatus: false,\n      selectedVersion: null,\n      multiStepViewConfig: {\n        1: {\n          back: 1,\n          forward: 2,\n          title: 'App Status',\n          hasBack: false,\n          disabled: false,\n          hasForward: true,\n          buttonLabel: serviceInfo => {\n            if (shouldStopRubixApp(serviceInfo)) {\n              return 'Stop';\n            }\n            return 'Continue';\n          },\n          loader: false,\n        },\n        2: {\n          back: 1,\n          forward: 3,\n          title: 'Download App',\n          hasBack: true,\n          disabled: false,\n          hasForward: true,\n          buttonLabel: 'Download',\n          loader: false,\n        },\n        3: {\n          back: 2,\n          forward: 4,\n          title: 'Install App',\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Install',\n          loader: false,\n          disabled: false,\n        },\n        4: {\n          back: 3,\n          forward: 4,\n          title: 'Installation Complete',\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n        },\n      },\n      loading: true,\n      rules: {\n        required: value => !!value || 'Required.',\n      },\n      versionRules: [value => !!value || 'Version No. is required.'],\n    };\n  },\n  async mounted() {\n    const appName = this.appDetails.service;\n    this.loading = true;\n    await this.fetchAppStatus();\n    await appsService\n      .fetchAppReleases(appName)\n      .then(releases => {\n        this.appReleases = releases;\n        this.loading = false;\n      })\n      .catch(err => {\n        console.error(err);\n      })\n      .finally(() => {\n        this.loading = false;\n      });\n  },\n  updated() {\n    if (this.currentDownloadState === APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS || !this.currentDownloadState) {\n      this.multiStepViewConfig[3].disabled = true;\n    } else {\n      this.multiStepViewConfig[3].disabled = false;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  methods: {\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS:\n          this.currentView = 3; // Download Waiting screen\n          break;\n        case APP_DOWNLOAD_STATUSES.DOWNLOAD_COMPLETE:\n          this.currentView = 3; // Show the install page\n          this.clearDownloadAppStateInterval();\n          break;\n      }\n    },\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    cancel() {\n      if (this.currentView === 3 || this.currentView === 2) {\n        this.deleteDownloadState();\n      }\n      this.closeDialog(true);\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      const serviceStatus = this.serviceStatus.status;\n      const serviceName = this.serviceStatus.service;\n      if (shouldStopRubixApp(this.serviceStatus)) {\n        this.spinLoader(true);\n        appsService\n          .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP, serviceName)\n          .then(data => {\n            this.spinLoader(false);\n            this.currentView++;\n            return this.fetchAppStatus();\n          })\n          .catch(err => {\n            this.spinLoader(false);\n          });\n      } else {\n        this.currentView++;\n      }\n    },\n    continue() {\n      this.closeDialog(true);\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    async download() {\n      const valid = this.$refs.downloadForm.validate();\n      if (!valid) {\n        return;\n      }\n      this.spinLoader(true);\n\n      const data = {\n        service: this.appDetails.service,\n        version: this.selectedVersion,\n      };\n\n      appsService\n        .downloadApp(data)\n        .then(res => {\n          this.currentView = 3; // installation view\n          this.fetchDownloadAppState();\n          this.spinLoader(false);\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.versionRules.push(() => err.message);\n            this.$refs.downloadForm.validate();\n            this.versionRules.pop();\n          }\n          this.spinLoader(false);\n        });\n    },\n    install() {\n      this.spinLoader(true);\n      const data = {\n        service: this.appDetails.service,\n        version: this.selectedVersion,\n      };\n\n      appsService\n        .installApp(data)\n        .then(res => {\n          this.spinLoader(false);\n          this.fetchAppStatus();\n          this.currentView++;\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          this.currentView--;\n          if (err && err.message) {\n            this.versionRules.push(() => err.message);\n            this.$refs.downloadForm.validate();\n            this.versionRules.pop();\n          }\n        })\n        .finally(() => {\n          this.deleteDownloadState();\n        });\n    },\n    fetchAppStatus() {\n      this.isFetchingAppStatus = true;\n      return appsService\n        .fetchAppStatus(this.appDetails.service, { restrictToast: true })\n        .then(data => {\n          this.selectedVersion = data.version;\n          this.serviceStatus = data;\n        })\n        .catch(err => {\n          this.selectedVersion = null;\n          this.serviceStatus = {};\n        })\n        .finally(() => {\n          this.isFetchingAppStatus = false;\n        });\n    },\n  },\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsDownloadMultiStep.vue?vue&type=template&id=66d41f72&\"\nimport script from \"./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppsDownloadMultiStep.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatus}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"white--text mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.multiStepViewConfig[_vm.currentView].title))])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Version\",\"value\":!_vm.isFetchingAppStatus && _vm.serviceStatus.version ? _vm.serviceStatus.version : '-'}})],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"downloadForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Version\",\"value\":!_vm.isFetchingAppStatus && _vm.serviceStatus.version ? _vm.serviceStatus.version : '-'}})],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-combobox',{attrs:{\"loading\":_vm.loading,\"items\":_vm.appReleases,\"label\":\"Select Release Version\",\"hideSelected\":\"\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(_vm.selectedVersion),callback:function ($$v) {_vm.selectedVersion=$$v},expression:\"selectedVersion\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('div',{staticClass:\"text-left\"},[(!_vm.currentDownloadState)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Fetching download status \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_IN_PROGRESS')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading Selected App \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('div',{staticClass:\"pt-3\"},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"6\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.appDetails.display_name + ' - ' + _vm.appDetails.service)+\"\\n                \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.isFetchingAppStatus ? '-' : _vm.selectedVersion)+\"\\n                \")])])],1)],1):_vm._e()]),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"font-weight-large\"},[_vm._v(\"Successfully installed \"+_vm._s(_vm.appDetails.display_name)+\" app.\")])])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(\"Version\")])]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.selectedVersion)+\"\\n              \")])])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled,\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader},on:{\"click\":_vm.next}},[_vm._v(\"\\n      \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n          ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n          : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatus\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"white--text mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium dark> mdi-arrow-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\">{{ multiStepViewConfig[currentView].title(appDetails.display_name) }}</span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\">\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n              </v-col>\n              <v-col cols=\"2\" class=\"text-left\">\n                <text-field-display\n                  label=\"Active\"\n                  :value=\"(!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\"\n                ></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <app-status-chip v-if=\"!isFetchingAppStatus\" :state=\"serviceStatus.state\"></app-status-chip>\n              </v-col>\n              <v-col cols=\"1\" class=\"text-right\">\n                <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                  <v-icon medium dark> mdi-refresh </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"valid\" ref=\"uploadForm\" lazy-validation>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n                </v-col>\n                <v-col cols=\"2\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Active\"\n                    :value=\"\n                      (!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\n                    \"\n                  ></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <app-status-chip v-if=\"!isFetchingAppStatus\" :state=\"serviceStatus.state\"></app-status-chip>\n                </v-col>\n                <v-col cols=\"1\" class=\"text-right\">\n                  <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                    <v-icon medium dark> mdi-refresh </v-icon>\n                  </v-btn>\n                </v-col>\n              </v-row>\n              <v-row cols=\"8\" class=\"pa-3\">\n                <v-file-input\n                  v-model=\"file\"\n                  :rules=\"[rules.required]\"\n                  counter\n                  show-size\n                  @change=\"onFileSelect\"\n                  truncate-length=\"15\"\n                ></v-file-input>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\" class=\"text-left ml-8\">\n                  <v-text-field\n                    label=\"Version\"\n                    type=\"text\"\n                    single-line\n                    v-model=\"version\"\n                    :rules=\"[rules.required]\"\n                  ></v-text-field>\n                </v-col>\n              </v-row>\n              <v-alert v-if=\"errorMessage\" class=\"text-left\" dense outlined type=\"error\">\n                {{ errorMessage }}\n              </v-alert>\n            </v-form>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"3\">\n            <v-row>\n              <v-col cols=\"6\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name + ' - ' + appDetails.service }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Version</div>\n                <div class=\"font-weight-medium\">\n                  {{ version }}\n                </div>\n              </v-col>\n              <v-col cols=\"12\" class=\"text-left\" v-if=\"serviceStatus.app_type === rubixAppTypes.PYTHON_APP\">\n                <rbx-button\n                  v-if=\"!isDeleteAppData\"\n                  color=\"pink\"\n                  :click=\"toggleDeleteAppData\"\n                  title=\"Delete App Data\"\n                ></rbx-button>\n                <v-card v-if=\"isDeleteAppData\">\n                  <v-card-title class=\"headline\"> Confirm? </v-card-title>\n                  <v-card-text>Do you want to delete app data?</v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"green darken-1\" text @click=\"isDeleteAppData = false\"> Cancel </v-btn>\n                    <v-btn color=\"red darken-1\" :loading=\"isDeletingAppData\" text @click=\"deleteAppData\"> Yes </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"4\">\n            <v-row>\n              <v-col cols=\"12\" class=\"text-left\">\n                <div class=\"font-weight-large\">Successfully installed {{ appDetails.display_name }} app.</div>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">\n                  <span>Version</span>\n                </div>\n                <div class=\"font-weight-medium\">\n                  {{ serviceStatus.version }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\">\n                <rbx-button color=\"success\" :click=\"startApp\" :loading=\"isStartingApp\" title=\"Start App\"></rbx-button>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        color=\"primary\"\n        @click=\"next\"\n        :loading=\"multiStepViewConfig[currentView].loader\"\n        v-if=\"multiStepViewConfig[currentView].hasForward\"\n      >\n        {{\n          typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n            ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n            : multiStepViewConfig[currentView].buttonLabel\n        }}\n      </v-btn>\n      <v-btn @click=\"cancel\" text> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n\n  <!-- <v-progress-circular indeterminate size=\"64\"></v-progress-circular> -->\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport * as appsService from '../../services/appsService';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport RbxButton from '../Common/RbxButton';\nimport {\n  RUBIX_APP_STATUS_CONTROL_ACTIONS,\n  ALWAYS_RUNNING_RUBIX_APP,\n  RUBIX_APP_TYPES,\n} from '../../constants/appConstant';\n\nfunction shouldStopRubixApp(serviceInfo) {\n  return serviceInfo.status && ALWAYS_RUNNING_RUBIX_APP.RUBIX_PLAT !== serviceInfo.service;\n}\n\nexport default {\n  name: 'apps-upload-multi-step',\n  props: ['app-details', 'close-dialog', 'isSlaveApp'],\n  components: { AppStatusChip, TextFieldDisplay, RbxButton },\n  data() {\n    return {\n      isDeleteAppData: false,\n      isDeletingAppData: false,\n      valid: false,\n      currentView: 1,\n      version: null,\n      serviceStatus: {},\n      isFetchingAppStatus: false,\n      isStartingApp: false,\n      errorMessage: '',\n      file: null,\n      rubixAppTypes: RUBIX_APP_TYPES,\n      apiService: null,\n      slaveId: null,\n      multiStepViewConfig: {\n        1: {\n          back: 1,\n          forward: 2,\n          title: serviceName => `${serviceName} | App Status`,\n          hasBack: false,\n          hasForward: true,\n          buttonLabel: serviceInfo => {\n            if (shouldStopRubixApp(serviceInfo)) {\n              return 'Stop';\n            }\n            return 'Continue';\n          },\n          loader: false,\n        },\n        2: {\n          back: 1,\n          forward: 3,\n          title: serviceName => `${serviceName} | Upload App`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Upload',\n          loader: false,\n        },\n        3: {\n          back: 2,\n          forward: 4,\n          title: serviceName => `${serviceName} | Install App`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Install',\n          loader: false,\n        },\n        4: {\n          back: 3,\n          forward: 4,\n          title: serviceName => `${serviceName} | Installation Complete`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Ok',\n          loader: false,\n        },\n      },\n      loading: true,\n      rules: {\n        required: value => !!value || 'Required.',\n      },\n      versionRules: [value => !!value || 'Version No. is required.'],\n    };\n  },\n  async mounted() {\n    if (this.isSlaveApp) {\n      this.apiService = slaveAppsService;\n      this.slaveId = this.appDetails.slaveId;\n    } else {\n      this.apiService = appsService;\n    }\n    await this.fetchAppStatus();\n\n  },\n  methods: {\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    cancel() {\n      this.closeDialog(true);\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.upload();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      const serviceStatus = this.serviceStatus.status;\n      const serviceName = this.serviceStatus.service;\n      if (shouldStopRubixApp(this.serviceStatus)) {\n        this.spinLoader(true);\n        this.apiService\n          .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP, serviceName, this.slaveId)\n          .then(data => {\n            this.spinLoader(false);\n            this.currentView++;\n            return this.fetchAppStatus();\n          })\n          .catch(err => {\n            this.spinLoader(false);\n          });\n      } else {\n        this.currentView++;\n      }\n    },\n    startApp() {\n      const serviceName = this.serviceStatus.service;\n      this.isStartingApp = true;\n      this.apiService\n        .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.START, serviceName, this.slaveId)\n        .then(data => {\n          this.$toasted.show(`Successfully started ${serviceName}`);\n          this.continue();\n          return this.fetchAppStatus();\n        })\n        .catch(err => {\n          this.$toasted.show(`Could not start ${serviceName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isStartingApp = false;\n        });\n    },\n    continue() {\n      this.closeDialog(true);\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    upload() {\n      const valid = this.$refs.uploadForm.validate();\n      if (!valid) {\n        return;\n      }\n      this.spinLoader(true);\n      this.apiService\n        .uploadApp(this.file, this.appDetails.service, this.version, this.slaveId)\n        .then(res => {\n          this.currentView++;\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.errorMessage = err.message;\n          }\n        })\n        .finally(() => {\n          this.spinLoader(false);\n        });\n    },\n    install() {\n      this.spinLoader(true);\n      const data = {\n        service: this.appDetails.service,\n        version: this.version,\n      };\n\n      this.apiService\n        .installApp(data, this.slaveId)\n        .then(res => {\n          this.spinLoader(false);\n          this.fetchAppStatus();\n          this.currentView++;\n          this.errorMessage = '';\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          if (shouldStopRubixApp(this.serviceStatus)) {\n            this.currentView--;\n          } else {\n            this.currentView++;\n          }\n          if (err && err.message && shouldStopRubixApp(this.serviceStatus)) {\n            this.errorMessage = err.message;\n          }\n        });\n    },\n    fetchAppStatus() {\n      this.isFetchingAppStatus = true;\n      return this.apiService\n        .fetchAppStatus(this.appDetails.service, { restrictToast: true }, this.slaveId)\n        .then(data => {\n          this.serviceStatus = data;\n        })\n        .catch(err => {\n          this.serviceStatus = {};\n        })\n        .finally(() => {\n          this.isFetchingAppStatus = false;\n        });\n    },\n    onFileSelect() {\n      if (this.file && this.file.name) {\n        const fileName = this.file.name;\n        const versionRegex = new RegExp('[0-9].[0-9].[0-9]');\n        let versionNumber = fileName.match(versionRegex, '');\n        if (versionNumber && Array.isArray(versionNumber)) {\n          versionNumber = versionNumber[0];\n          this.version = 'v' + versionNumber;\n        }\n      }\n    },\n    deleteAppData() {\n      this.isDeletingAppData = true;\n      this.apiService\n        .deleteAppData(this.serviceStatus.service, this.slaveId)\n        .then(() => {\n          this.$toasted.show('Successfully deleted app data');\n          this.isDeleteAppData = false;\n        })\n        .catch(() => {\n          this.$toasted.show('Cannot deleted app data', { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingAppData = false;\n        });\n    },\n    toggleDeleteAppData() {\n      this.isDeleteAppData = !this.isDeleteAppData;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsUploadMultiStepView.vue?vue&type=template&id=504079c8&\"\nimport script from \"./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatus}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"white--text mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(_vm._s(_vm.multiStepViewConfig[_vm.currentView].title(_vm.appDetails.display_name)))])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"2\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[(!_vm.isFetchingAppStatus)?_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}}):_vm._e()],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"uploadForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"2\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[(!_vm.isFetchingAppStatus)?_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}}):_vm._e()],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',{staticClass:\"pa-3\",attrs:{\"cols\":\"8\"}},[_c('v-file-input',{attrs:{\"rules\":[_vm.rules.required],\"counter\":\"\",\"show-size\":\"\",\"truncate-length\":\"15\"},on:{\"change\":_vm.onFileSelect},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left ml-8\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Version\",\"type\":\"text\",\"single-line\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}})],1)],1),_vm._v(\" \"),(_vm.errorMessage)?_c('v-alert',{staticClass:\"text-left\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.errorMessage)+\"\\n            \")]):_vm._e()],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"6\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name + ' - ' + _vm.appDetails.service)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.version)+\"\\n              \")])]),_vm._v(\" \"),(_vm.serviceStatus.app_type === _vm.rubixAppTypes.PYTHON_APP)?_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[(!_vm.isDeleteAppData)?_c('rbx-button',{attrs:{\"color\":\"pink\",\"click\":_vm.toggleDeleteAppData,\"title\":\"Delete App Data\"}}):_vm._e(),_vm._v(\" \"),(_vm.isDeleteAppData)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Confirm? \")]),_vm._v(\" \"),_c('v-card-text',[_vm._v(\"Do you want to delete app data?\")]),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.isDeleteAppData = false}}},[_vm._v(\" Cancel \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"loading\":_vm.isDeletingAppData,\"text\":\"\"},on:{\"click\":_vm.deleteAppData}},[_vm._v(\" Yes \")])],1)],1):_vm._e()],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"font-weight-large\"},[_vm._v(\"Successfully installed \"+_vm._s(_vm.appDetails.display_name)+\" app.\")])])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(\"Version\")])]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.serviceStatus.version)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('rbx-button',{attrs:{\"color\":\"success\",\"click\":_vm.startApp,\"loading\":_vm.isStartingApp,\"title\":\"Start App\"}})],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader},on:{\"click\":_vm.next}},[_vm._v(\"\\n      \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n          ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n          : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatuses\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"white--text mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium dark> mdi-arrow-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\"> Bulk Apps | {{ multiStepViewConfig[currentView].title }} </span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\" class=\"pa-0\">\n            <v-alert class=\"mb-0\" v-if=\"!hasSelectedApps\" dense type=\"info\">\n              Please select apps from the grid to bulk download.\n            </v-alert>\n            <v-list flat subheader dense class=\"text-left\">\n              <v-subheader>Selected Apps</v-subheader>\n\n              <v-list-item v-for=\"(app, i) in apps\" :key=\"`selected_apps-${i}`\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"app.displayName\"></v-list-item-title>\n                  <v-list-item-subtitle v-text=\"app.version\"></v-list-item-subtitle>\n                </v-list-item-content>\n                <v-list-item-icon>\n                  <app-status-chip :state=\"app.state\"></app-status-chip>\n                </v-list-item-icon>\n              </v-list-item>\n            </v-list>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"versionForm\" ref=\"versionForm\" lazy-validation>\n              <v-row dense class=\"text-left\">\n                <v-col cols=\"12\" v-for=\"(app, i) in apps\" :key=\"`version-form-${renderReleaseCount}-${i}`\">\n                  <v-row dense>\n                    <v-col cols=\"4\">\n                      <text-field-display label=\"Name\" :value=\"app.displayName\"></text-field-display>\n                    </v-col>\n                    <v-col cols=\"8\">\n                      <v-combobox\n                        :loading=\"app.loadingReleases\"\n                        :items=\"app.releases\"\n                        label=\"Select Release Version\"\n                        hideSelected\n                        clearable\n                        v-model=\"app.version\"\n                        item-text=\"name\"\n                        item-value=\"tag_name\"\n                        :rules=\"versionRules\"\n                      >\n                      </v-combobox>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n          <v-stepper-content step=\"3\" class=\"pa-0\">\n            <div>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_IN_PROGRESS'\" dense type=\"info\">\n                Downloading Selected App(s) <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n            <v-list flat subheader dense class=\"text-left\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-subheader>App Download Statuses</v-subheader>\n\n              <v-list-item v-for=\"(app, i) in downloadStates\" :key=\"`download-statuses-${i}`\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"app.serviceName\"></v-list-item-title>\n                  <v-list-item-subtitle v-text=\"app.version\"></v-list-item-subtitle>\n                </v-list-item-content>\n                <v-list-item-icon>\n                  <div v-if=\"app.isDownloading\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"yellow\">Downloading</v-chip>\n                    </span>\n                  </div>\n                  <div v-else-if=\"app.hasError\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"red\">Failed</v-chip>\n                    </span>\n                  </div>\n                  <div v-else-if=\"!app.isDownloading && !app.hasError\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"green\">Downloaded</v-chip>\n                    </span>\n                  </div>\n                </v-list-item-icon>\n              </v-list-item>\n            </v-list>\n          </v-stepper-content>\n          <v-stepper-content step=\"4\" class=\"pa-0\">\n            <v-list flat subheader dense class=\"text-left\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-list-item-group v-if=\"successInstallApps.length > 0\">\n                <v-subheader>Installation Completed Apps</v-subheader>\n\n                <v-list-item v-for=\"(successApps, i) in successInstallApps\" :key=\"`install-complete-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"successApps.service\"></v-list-item-title>\n                    <v-list-item-subtitle v-text=\"successApps.version\"></v-list-item-subtitle>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"blue\">Installed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n              <v-list-item-group v-if=\"failureInstallApps.length > 0\">\n                <v-subheader> Installation Failed Apps</v-subheader>\n                <v-list-item v-for=\"(failedApps, i) in failureInstallApps\" :key=\"`installation-failed-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"failedApps.service\"></v-list-item-title>\n                    <v-list-item-subtitle v-text=\"failedApps.version\"></v-list-item-subtitle>\n                    <v-list-item-subtitle v-text=\"failedApps.error\"></v-list-item-subtitle>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"red\">Failed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-card-actions>\n        <v-btn\n          color=\"primary\"\n          @click=\"next\"\n          :loading=\"multiStepViewConfig[currentView].loader\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasForward\"\n        >\n          {{\n            typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n              ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n              : multiStepViewConfig[currentView].buttonLabel\n          }}\n        </v-btn>\n        <v-btn\n          color=\"pink\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasCancelInstallation\"\n          @click=\"cancelInstallation\"\n          text\n        >\n          Cancel Install\n        </v-btn>\n\n        <v-btn v-if=\"multiStepViewConfig[currentView].hasCancel\" @click=\"cancel\" text> Close </v-btn>\n      </v-card-actions>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip';\nimport _zipObject from 'lodash/zipObject';\nimport TextFieldDisplay from '../Common/TextFieldDisplay';\nimport * as appsService from '../../services/appsService';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  props: [\n    'selectedApps',\n    'clearSelectedApps',\n    'closeDialog',\n    'fetchDownloadAppState',\n    'currentDownloadState',\n    'appDownloadStates',\n    'clearDownloadAppStateInterval',\n    'deleteDownloadState',\n  ],\n  components: {\n    AppStatusChip,\n    TextFieldDisplay,\n  },\n  data() {\n    return {\n      versionForm: false,\n      renderReleaseCount: 0,\n      isFetchingAppStatuses: false,\n      successInstallApps: [],\n      failureInstallApps: [],\n      currentView: 1,\n      refreshTime: 10000,\n      versionRules: [value => !!value || 'Version No. is required.'],\n      multiStepViewConfig: {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n          loader: false,\n          disabled: true,\n          hasCancel: true,\n          cancelTitle: 'Close',\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n          hasCancel: false,\n        },\n      },\n    };\n  },\n  updated() {\n    if (!this.hasSelectedApps && !this.currentDownloadState && this.currentDownloadState !== DOWNLOAD_COMPLETE) {\n      this.currentView = 1;\n      this.multiStepViewConfig[1].disabled = true;\n    } else {\n      this.multiStepViewConfig[1].disabled = false;\n    }\n\n    if (this.currentDownloadState === DOWNLOAD_IN_PROGRESS || !this.currentDownloadState) {\n      this.multiStepViewConfig[3].disabled = true;\n    } else {\n      this.multiStepViewConfig[3].disabled = false;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  created() {\n    this.showDownloadStateView(this.currentDownloadState);\n  },\n  computed: {\n    currentBulkAppDownloadState() {\n      return this.$store.state.currentBulkAppDownloadState;\n    },\n    hasSelectedApps() {\n      return this.selectedApps.length > 0;\n    },\n    apps() {\n      return this.selectedApps.map(app => ({\n        serviceName: app.service,\n        state: app.state,\n        version: app.version,\n        latestVersion: app.latest_version,\n        minVersion: app.min_support_version,\n        displayName: app.display_name,\n        loadingReleases: false,\n        releases: [],\n      }));\n    },\n    downloadStates() {\n      if (Array.isArray(this.appDownloadStates) && this.appDownloadStates.length > 0) {\n        this.currentView = 3;\n      }\n      return (this.appDownloadStates || []).map(downloadState => ({\n        isDownloading: !downloadState.download,\n        version: downloadState.version,\n        serviceName: downloadState.service,\n        hasError: !!downloadState.error,\n        errorMessage: downloadState.error,\n      }));\n    },\n  },\n  created() {\n    this.fetchAppsReleases();\n  },\n  methods: {\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case DOWNLOAD_IN_PROGRESS:\n          this.currentView = 3; // Download Waiting screen\n          break;\n        case DOWNLOAD_COMPLETE:\n          this.currentView = 3; // Show the download report page\n          this.clearDownloadAppStateInterval();\n          break;\n      }\n    },\n    fetchAppsReleases() {\n      const serviceNames = this.selectedApps.map(val => val.service);\n\n      this.apps.forEach(app => {\n        app.loadingReleases = true;\n      });\n\n      return appsService\n        .fetchAppsReleases(serviceNames)\n        .then(appVersions => {\n          this.apps.forEach((app, index) => {\n            app.releases = appVersions[index];\n          });\n        })\n        .catch(() => {\n          this.$toasted.show('Error fetching available releases');\n        })\n        .finally(() => {\n          this.apps.forEach(app => {\n            app.loadingReleases = false;\n          });\n          this.renderReleaseCount++;\n        });\n    },\n    disableInstallationButton() {\n      this.multiStepViewConfig[3].disabled = true;\n    },\n    bulkDownloadApps() {\n      this.currentView = 3;\n      this.disableInstallationButton();\n      const payload = this.apps.map(app => ({ version: app.version, service: app.serviceName }));\n      this.spinLoader(true);\n      const donwloadPromise = appsService\n        .bulkDownloadApps(payload)\n        .then(() => {\n          this.spinLoader(false);\n          this.fetchDownloadAppState();\n        })\n        .catch(err => {\n          this.spinLoader(false);\n        });\n\n      return donwloadPromise;\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      this.currentView++;\n    },\n    download() {\n      if (!this.$refs.versionForm.validate()) {\n        return;\n      }\n      this.bulkDownloadApps();\n    },\n    install() {\n      const installPayload = this.downloadStates\n        .filter(val => !val.hasError)\n        .map(val => ({\n          service: val.serviceName,\n          version: val.version,\n        }));\n      this.spinLoader(true);\n      return appsService\n        .bulkInstallApps(installPayload)\n        .then(data => {\n          this.spinLoader(false);\n          this.currentView = 4; // Installation complete\n          this.successInstallApps = data.filter(val => val.installation);\n          this.failureInstallApps = data.filter(val => !val.installation);\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          this.deleteDownloadState();\n          this.$toasted.show('Unexpected error occured while bulk installing apps. Please try again');\n        });\n    },\n    continue() {\n      this.resetDialog();\n    },\n    cancel() {\n      this.fetchDownloadAppState();\n      this.closeDialog();\n    },\n    cancelInstallation() {\n      this.resetDialog();\n    },\n    resetDialog() {\n      this.versionForm = false;\n      this.renderReleaseCount = 0;\n      this.isFetchingAppStatuses = false;\n      this.currentView = 1;\n      this.multiStepViewConfig = {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          loader: false,\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n        },\n      };\n      this.deleteDownloadState();\n      this.fetchAppsReleases();\n      this.clearSelectedApps();\n      this.closeDialog(true, { unmount: true });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsBulkDownloadMultiStep.vue?vue&type=template&id=4dc94440&\"\nimport script from \"./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatuses}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"white--text mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(\" Bulk Apps | \"+_vm._s(_vm.multiStepViewConfig[_vm.currentView].title)+\" \")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"1\"}},[(!_vm.hasSelectedApps)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n            Please select apps from the grid to bulk download.\\n          \")]):_vm._e(),_vm._v(\" \"),_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Selected Apps\")]),_vm._v(\" \"),_vm._l((_vm.apps),function(app,i){return _c('v-list-item',{key:(\"selected_apps-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.displayName)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(app.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('app-status-chip',{attrs:{\"state\":app.state}})],1)],1)})],2)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"versionForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.versionForm),callback:function ($$v) {_vm.versionForm=$$v},expression:\"versionForm\"}},[_c('v-row',{staticClass:\"text-left\",attrs:{\"dense\":\"\"}},_vm._l((_vm.apps),function(app,i){return _c('v-col',{key:(\"version-form-\" + _vm.renderReleaseCount + \"-\" + i),attrs:{\"cols\":\"12\"}},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":app.displayName}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-combobox',{attrs:{\"loading\":app.loadingReleases,\"items\":app.releases,\"label\":\"Select Release Version\",\"hideSelected\":\"\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(app.version),callback:function ($$v) {_vm.$set(app, \"version\", $$v)},expression:\"app.version\"}})],1)],1)],1)}),1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"3\"}},[_c('div',[(_vm.currentDownloadState === 'DOWNLOAD_IN_PROGRESS')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading Selected App(s) \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"App Download Statuses\")]),_vm._v(\" \"),_vm._l((_vm.downloadStates),function(app,i){return _c('v-list-item',{key:(\"download-statuses-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.serviceName)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(app.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[(app.isDownloading)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"yellow\"}},[_vm._v(\"Downloading\")])],1)]):(app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)]):(!app.isDownloading && !app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"green\"}},[_vm._v(\"Downloaded\")])],1)]):_vm._e()])],1)})],2):_vm._e()],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"4\"}},[(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[(_vm.successInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\"Installation Completed Apps\")]),_vm._v(\" \"),_vm._l((_vm.successInstallApps),function(successApps,i){return _c('v-list-item',{key:(\"install-complete-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(successApps.service)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(successApps.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"blue\"}},[_vm._v(\"Installed\")])],1)])])],1)})],2):_vm._e(),_vm._v(\" \"),(_vm.failureInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\" Installation Failed Apps\")]),_vm._v(\" \"),_vm._l((_vm.failureInstallApps),function(failedApps,i){return _c('v-list-item',{key:(\"installation-failed-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(failedApps.service)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.version)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.error)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)])])],1)})],2):_vm._e()],1):_vm._e()],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader,\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled},on:{\"click\":_vm.next}},[_vm._v(\"\\n        \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n            ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n            : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancelInstallation)?_c('v-btn',{attrs:{\"color\":\"pink\",\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled,\"text\":\"\"},on:{\"click\":_vm.cancelInstallation}},[_vm._v(\"\\n        Cancel Install\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancel)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Close \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-toolbar flat>\n      <grid-toolbar :hide-export-data=\"true\" :items=\"selectedItems\" toolbarTitle=\"Rubix Apps\">\n        <template v-slot:customAction>\n          <span>\n            <v-btn\n              :disabled=\"isDeletingDownloadState\"\n              @click=\"() => bulkDownloadApps(selectedItems)\"\n              x-small\n              color=\"green\"\n              class=\"white--text\"\n            >\n              Download Apps\n              <v-icon x-small right dark> mdi-download </v-icon>\n            </v-btn>\n            <v-progress-circular\n              v-if=\"showDownloadProgressIcon\"\n              :width=\"2\"\n              :size=\"15\"\n              color=\"white\"\n              indeterminate\n            ></v-progress-circular>\n            <v-icon v-if=\"showCheckDownloadIcon\" x-medium dark> mdi-check</v-icon>\n          </span>\n        </template>\n      </grid-toolbar>\n    </v-toolbar>\n    <v-data-table\n      show-select\n      item-key=\"service\"\n      :headers=\"headers\"\n      :items=\"appDetails\"\n      :single-select=\"false\"\n      v-model=\"selectedItems\"\n      :loading=\"isFetchingAppDetails\"\n      :footer-props=\"tableProps.FOOTER_PROPS\"\n      :itemsPerPage=\"tableProps.ITEMS_PER_PAGE\"\n    >\n      <template v-slot:item.state=\"{ item }\">\n        <app-status-chip :state=\"item.state\"></app-status-chip>\n      </template>\n      <template v-slot:item.restart=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.restartService, item)\"\n              icon\n              v-if=\"item.isUninstallable\"\n              small\n              color=\"success\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon dark> mdi-restart </v-icon>\n            </v-btn>\n          </template>\n          <span>Restart Service</span>\n        </v-tooltip>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <span>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                @click=\"() => toggleDialog(dialogNames.install, item)\"\n                icon\n                small\n                color=\"success\"\n                class=\"white--text\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon small dark> mdi-download </v-icon>\n              </v-btn>\n            </template>\n            <span>Download</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                @click=\"() => toggleDialog(dialogNames.upload, item)\"\n                icon\n                small\n                color=\"yellow\"\n                class=\"white--text\"\n              >\n                <v-icon small dark> mdi-upload </v-icon>\n              </v-btn>\n            </template>\n            <span>Upload</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-if=\"item.isUninstallable\"\n                @click=\"() => toggleDialog(dialogNames.uninstall, item)\"\n                icon\n                small\n                color=\"error\"\n                class=\"white--text\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon small dark> mdi-delete </v-icon>\n              </v-btn>\n            </template>\n            <span>Delete App</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                :href=\"item.downloadUrl\"\n                target=\"_blank\"\n                tar\n                v-if=\"item.downloadUrl\"\n                icon\n                small\n              >\n                <v-icon small dark> mdi-zip-box</v-icon>\n              </v-btn>\n            </template>\n            <span>Download ZIP</span>\n          </v-tooltip>\n        </span>\n      </template>\n\n      <template v-slot:item.configFile=\"{ item }\">\n        <v-tooltip bottom v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp'\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.editConfig, item)\"\n              icon\n              small\n              color=\"blue\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-pencil </v-icon>\n            </v-btn>\n          </template>\n          <span>Edit Config File</span>\n        </v-tooltip>\n        <v-tooltip bottom v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp'\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => downloadConfig(item)\"\n              icon\n              small\n              color=\"success\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-download </v-icon>\n            </v-btn>\n          </template>\n          <span>Download Config File</span>\n        </v-tooltip>\n        <v-tooltip bottom v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp'\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.deleteAppConfig, item)\"\n              icon\n              small\n              color=\"error\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-delete </v-icon>\n            </v-btn>\n          </template>\n          <span>Delete Configuration</span>\n        </v-tooltip>\n      </template>\n\n      <template v-slot:item.databaseOperations=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => downloadAppData(item)\"\n              icon\n              small\n              color=\"success\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-download </v-icon>\n            </v-btn>\n          </template>\n          <span>Download Database</span>\n        </v-tooltip>\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.deleteDatabase, item)\"\n              icon\n              small\n              color=\"error\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-delete </v-icon>\n            </v-btn>\n          </template>\n          <span>Delete Database</span>\n        </v-tooltip>\n      </template>\n    </v-data-table>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.uninstall]\"\n      :on-close=\"() => closeDialog(dialogNames.uninstall)\"\n      :on-confirm=\"() => uninstall(dialogNames.uninstall)\"\n      :loading=\"isUninstallingApp\"\n      dialog-text=\"Do you want to uninstall the app?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.restartService]\"\n      :on-close=\"() => closeDialog(dialogNames.restartService)\"\n      :on-confirm=\"() => restartService()\"\n      :loading=\"isRestartingService\"\n      dialog-text=\"Are you sure want to restart the app?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteDatabase]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteDatabase)\"\n      :on-confirm=\"() => deleteDatabase(dialogNames.deleteDatabase)\"\n      :loading=\"isDeletingDatabase\"\n      dialog-text=\"Do you want to delete the app's database?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteAppConfig]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteAppConfig)\"\n      :on-confirm=\"() => deleteAppConfigFile()\"\n      :loading=\"isDeletingConfig\"\n      dialog-text=\"Do you want to delete the app's config file?\"\n    ></confirm-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.upload]\" max-width=\"500px\">\n      <apps-upload-multi-step-view\n        v-if=\"dialog[dialogNames.upload]\"\n        :app-details=\"selectedApp\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.upload, syncAppDetails)\"\n      ></apps-upload-multi-step-view>\n    </v-dialog>\n\n    <v-dialog presistent v-model=\"dialog[dialogNames.editConfig]\" max-width=\"500px\">\n      <apps-edit-config\n        v-if=\"dialog[dialogNames.editConfig]\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.editConfig, syncAppDetails)\"\n        :app-detail=\"selectedApp\"\n      ></apps-edit-config>\n    </v-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.install]\" max-width=\"500px\">\n      <apps-download-multi-step-view\n        v-if=\"dialog[dialogNames.install]\"\n        :delete-download-state=\"deleteDownloadState\"\n        :current-download-state=\"currentDownloadState\"\n        :fetch-download-app-state=\"fetchDownloadAppState\"\n        :clear-download-app-state-interval=\"clearDownloadAppStateInterval\"\n        :app-details=\"selectedApp\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.install, syncAppDetails)\"\n      ></apps-download-multi-step-view>\n    </v-dialog>\n\n    <v-dialog :persistent=\"isBulkDownloadAppPersistent\" v-model=\"dialog[dialogNames.bulkDownload]\" max-width=\"500px\">\n      <apps-bulk-download-multi-step-view\n        v-if=\"remountDialog[dialogNames.bulkDownload]\"\n        :current-download-state=\"currentDownloadState\"\n        :selected-apps=\"selectedItems\"\n        :fetch-download-app-state=\"fetchDownloadAppState\"\n        :app-download-states=\"appDownloadStates\"\n        :clear-selected-apps=\"clearSelectedApps\"\n        :delete-download-state=\"deleteDownloadState\"\n        :clear-download-app-state-interval=\"clearDownloadAppStateInterval\"\n        :close-dialog=\"(syncAppDetails, config) => closeDialog(dialogNames.bulkDownload, syncAppDetails, config)\"\n      ></apps-bulk-download-multi-step-view>\n    </v-dialog>\n  </v-card>\n</template>\n\n<script>\nimport JsZip from 'jszip';\nimport GridToolbar from '../Common/GridToolbar';\nimport AppsEditConfig from './appsEditConfig';\nimport AppsDownloadMultiStepView from './AppsDownloadMultiStep';\nimport AppsUploadMultiStepView from './AppsUploadMultiStepView';\nimport AppStatusChip from '../../components/Services/AppStatusChip';\nimport AppsBulkDownloadMultiStepView from './AppsBulkDownloadMultiStep';\nimport ConfirmDialog from '../Common/ConfirmDialog';\nimport * as appsService from '../../services/appsService';\nimport { RUBIX_APP_STATUS_CONTROL_ACTIONS } from '../../constants/appConstant';\nimport { DATA_TABLE_PROPS } from '../../constants/appConstant';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  name: 'systemServices',\n  components: {\n    AppsEditConfig,\n    GridToolbar,\n    AppsDownloadMultiStepView,\n    ConfirmDialog,\n    AppStatusChip,\n    AppsUploadMultiStepView,\n    AppsBulkDownloadMultiStepView,\n  },\n  data() {\n    const dialogNames = {\n      install: 'install',\n      uninstall: 'uninstall',\n      upload: 'upload',\n      deleteDatabase: 'deleteDatabase',\n      editConfig: 'editConfig',\n      deleteAppConfig: 'deleteAppConfig',\n      bulkDownload: 'bulkDownload',\n      restartService: 'restartService',\n    };\n    return {\n      selectedItems: [],\n      isRestartingService: false,\n      refreshTime: 5000,\n      singleDownloadRefreshTIme: 1000,\n      appDownloadStates: [],\n      selectedApp: null,\n      dialogNames: dialogNames,\n      isFetchingAppDetails: false,\n      isBulkDownloadAppPersistent: true,\n      isDeletingConfig: false,\n      isDeletingDatabase: false,\n      isUninstallingApp: false,\n      currentDownloadState: null,\n      fetchDownloadStateInterval: null,\n      isDeletingDownloadState: false,\n      dialog: {\n        [dialogNames.install]: false,\n        [dialogNames.restartService]: false,\n        [dialogNames.upload]: false,\n        [dialogNames.uninstall]: false,\n        [dialogNames.deleteDatabase]: false,\n        [dialogNames.editConfig]: false,\n        [dialogNames.deleteAppConfig]: false,\n        [dialogNames.bulkDownload]: false,\n      },\n      remountDialog: {\n        [dialogNames.bulkDownload]: true,\n      },\n      headers: [\n        {\n          text: 'Label',\n          align: 'start',\n          value: 'display_name',\n        },\n        {\n          text: 'Name',\n          align: 'start',\n          value: 'service',\n        },\n        {\n          text: 'Status',\n          align: 'center',\n          value: 'state',\n        },\n        {\n          text: 'Restart',\n          align: 'center',\n          sortable: false,\n          value: 'restart',\n        },\n        {\n          text: 'Installed Version',\n          align: 'center',\n          value: 'installedVersion',\n          sortable: false,\n        },\n        {\n          text: 'Latest Available Version',\n          align: 'center',\n          value: 'latest_version',\n        },\n        {\n          text: 'Actions',\n          align: 'center',\n          value: 'actions',\n        },\n        {\n          text: 'Config File',\n          align: 'center',\n          value: 'configFile',\n        },\n        {\n          text: 'Database',\n          align: 'end',\n          value: 'databaseOperations',\n        },\n      ],\n      tableProps: {...DATA_TABLE_PROPS},\n\n    };\n  },\n  computed: {\n    appDetails() {\n      return this.formatAppDetails(this.$store.state.appDetails);\n    },\n    setting() {\n      return this.$store.state.setting;\n    },\n    showCheckDownloadIcon() {\n      return this.currentDownloadState === DOWNLOAD_COMPLETE;\n    },\n    showDownloadProgressIcon() {\n      return this.currentDownloadState === DOWNLOAD_IN_PROGRESS;\n    },\n  },\n  mounted() {\n    this.fetchDownloadAppState();\n  },\n  created() {\n    this.fetchAppDetails();\n  },\n  destroyed() {\n    this.fetchDownloadStateInterval = null;\n  },\n  methods: {\n    closeDialog(dialogName, syncAppDetails, config = {}) {\n      this.dialog[dialogName] = false;\n      if (config.unmount && this.remountDialog[dialogName]) {\n        this.remountDialog[dialogName] = false;\n        setTimeout(() => {\n          this.remountDialog[dialogName] = true;\n        }, 500);\n      }\n      syncAppDetails && this.fetchAppDetails(true);\n    },\n    openDialog(dialogName) {\n      this.dialog[dialogName] = true;\n    },\n    toggleDialog(dialogName, item) {\n      if (!this.dialog[dialogName]) {\n        switch (dialogName) {\n          case this.dialogNames.install:\n            if (this.currentDownloadState) {\n              return this.$toasted.show('Please resolve bulk download apps in the top left first.', { type: 'info' });\n            }\n        }\n      }\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    formatAppDetails(appDetails) {\n      return appDetails.map(detail => ({\n        ...detail,\n        activeLabel: detail.status ? 'Running' : 'Stopped',\n        isUninstallable: detail.is_installed,\n        installedVersion: detail.version ? detail.version : '-',\n        downloadUrl: detail.browser_download_url ? detail.browser_download_url : null,\n        updatedAt: detail.date_since ? new Date(detail.date_since).toLocaleDateString() : '-',\n      }));\n    },\n    fetchAppDetails(syncInstalledApp = false) {\n      this.isFetchingAppDetails = true;\n      return appsService\n        .fetchApps()\n        .then(r => {\n          this.$store.commit('changeAppDetails', r);\n          syncInstalledApp && this.fetchAllInstalledApps();\n        })\n        .finally(() => {\n          this.isFetchingAppDetails = false;\n        });\n    },\n    fetchAllInstalledApps() {\n      appsService\n        .fetchAllInstalledApps()\n        .then(r => {\n          this.$store.commit('changeInstalledServices', r);\n        })\n        .catch(e => {});\n    },\n    deleteDatabase() {\n      this.isDeletingDatabase = true;\n      appsService\n        .deleteAppDataService(this.selectedApp.service)\n        .then(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase);\n        })\n        .finally(() => {\n          this.isDeletingDatabase = false;\n        });\n    },\n    uninstall(dialogName) {\n      this.isUninstallingApp = true;\n      appsService\n        .uninstallApp(this.selectedApp.service)\n        .then(() => {\n          this.fetchAppDetails(true);\n          this.closeDialog(this.dialogNames.uninstall, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.uninstall);\n        })\n        .finally(() => {\n          this.isUninstallingApp = false;\n        });\n    },\n    getFileName(serviceName) {\n      const d = new Date();\n      const datestring = `${d.getDate()}-${\n        d.getMonth() + 1\n      }-${d.getFullYear()}T${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`;\n      return `${serviceName}_${datestring}`;\n    },\n    downloadAppData(appDetail) {\n      const serviceName = appDetail.service;\n\n      appsService\n        .downloadAppData(serviceName, this.setting)\n        .then(async blobData => {\n          const zip = new JsZip();\n          await zip.loadAsync(blobData);\n          const blob = await zip.generateAsync({ type: 'blob' });\n          const date = new Date();\n          const filename = this.getFileName(serviceName);\n          const link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          link.setAttribute('download', `${filename}.zip`);\n          link.click();\n          this.$toasted.show(`${appDetail.service} app data is exported.`);\n        })\n        .catch(err => {\n          const reader = new FileReader();\n          reader.addEventListener('loadend', e => {\n            const err = JSON.parse(e.target.result);\n            if (err && err.message) {\n              this.$toasted.show(err.message, { type: 'error' });\n            } else {\n              this.$toasted.show(`Failed to export ${serviceName} app data`, { type: 'error' });\n            }\n          });\n          reader.readAsText(err);\n\n          return err;\n        });\n    },\n    deleteAppConfigFile() {\n      this.isDeletingConfig = true;\n      const serviceName = this.selectedApp.service;\n      const appType = this.selectedApp.app_type;\n\n      appsService\n        .deleteAppConfig(serviceName, appType)\n        .then(data => {\n          this.$toasted.show(`${serviceName} app config file is deleted`);\n          this.closeDialog(this.dialogNames.deleteAppConfig);\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to delete app config for ${serviceName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingConfig = false;\n        });\n    },\n    downloadConfig(appDetail) {\n      appsService.downloadAppConfig(appDetail.service, appDetail.app_type);\n    },\n    restartService() {\n      this.isRestartingService = true;\n      const serviceName = this.selectedApp.service;\n      appsService\n        .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART, serviceName)\n        .then(() => {\n          this.$toasted.show(`App restarted sucessfully.`);\n          this.closeDialog(this.dialogNames.restartService);\n        })\n        .catch(() => {\n          this.$toasted.show(`Failed to restart the app.`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isRestartingService = false;\n        });\n    },\n    bulkDownloadApps() {\n      this.openDialog(this.dialogNames.bulkDownload);\n    },\n    clearDownloadAppStateInterval() {\n      clearInterval(this.fetchDownloadStateInterval);\n      this.fetchDownloadStateInterval = null;\n    },\n    downloadStateInterval() {\n      const refreshTime = this.dialog[this.dialogNames.install] ? this.singleDownloadRefreshTIme : this.refreshTime;\n\n      if (!this.fetchDownloadStateInterval) {\n        this.fetchDownloadStateInterval = setInterval(() => {\n          this.fetchDownloadAppState();\n        }, refreshTime);\n      }\n    },\n    fetchDownloadAppState() {\n      return appsService\n        .fetchDownloadState()\n        .then(data => {\n          const { state: downloadState, services: appDownloadStates } = data;\n          switch (downloadState) {\n            case 'DOWNLOADING':\n              this.currentDownloadState = DOWNLOAD_IN_PROGRESS;\n              this.isBulkDownloadAppPersistent = false;\n              if (!this.fetchDownloadStateInterval) {\n                this.downloadStateInterval();\n              }\n              break;\n            case 'CLEARED':\n              this.currentDownloadState = null;\n              this.clearDownloadAppStateInterval();\n              break;\n            case 'DOWNLOADED':\n              this.currentDownloadState = DOWNLOAD_COMPLETE;\n              this.isBulkDownloadAppPersistent = true;\n              break;\n          }\n\n          if (Array.isArray(appDownloadStates)) {\n            this.appDownloadStates = appDownloadStates;\n          }\n\n          return appDownloadStates;\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.currentDownloadState = null;\n          }\n          return err;\n        });\n    },\n    clearSelectedApps() {\n      this.appDownloadStates = [];\n      this.selectedItems = [];\n    },\n    deleteDownloadState() {\n      this.isDeletingDownloadState = true;\n      return appsService\n        .deleteDownloadState()\n        .then(data => data)\n        .catch(err => err)\n        .finally(() => {\n          this.fetchDownloadAppState();\n          this.clearDownloadAppStateInterval();\n          this.isDeletingDownloadState = false;\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsGrid.vue?vue&type=template&id=967b8ad0&\"\nimport script from \"./AppsGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsGrid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('grid-toolbar',{attrs:{\"hide-export-data\":true,\"items\":_vm.selectedItems,\"toolbarTitle\":\"Rubix Apps\"},scopedSlots:_vm._u([{key:\"customAction\",fn:function(){return [_c('span',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"disabled\":_vm.isDeletingDownloadState,\"x-small\":\"\",\"color\":\"green\"},on:{\"click\":function () { return _vm.bulkDownloadApps(_vm.selectedItems); }}},[_vm._v(\"\\n            Download Apps\\n            \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1),_vm._v(\" \"),(_vm.showDownloadProgressIcon)?_c('v-progress-circular',{attrs:{\"width\":2,\"size\":15,\"color\":\"white\",\"indeterminate\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.showCheckDownloadIcon)?_c('v-icon',{attrs:{\"x-medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-check\")]):_vm._e()],1)]},proxy:true}])})],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"show-select\":\"\",\"item-key\":\"service\",\"headers\":_vm.headers,\"items\":_vm.appDetails,\"single-select\":false,\"loading\":_vm.isFetchingAppDetails,\"footer-props\":_vm.tableProps.FOOTER_PROPS,\"itemsPerPage\":_vm.tableProps.ITEMS_PER_PAGE},scopedSlots:_vm._u([{key:\"item.state\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('app-status-chip',{attrs:{\"state\":item.state}})]}},{key:\"item.restart\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.isUninstallable)?_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.restartService, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-restart \")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Restart Service\")])])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.install, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"yellow\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.upload, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-upload \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Upload\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.isUninstallable)?_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.uninstall, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete App\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.downloadUrl)?_c('v-btn',_vm._g(_vm._b({attrs:{\"href\":item.downloadUrl,\"target\":\"_blank\",\"tar\":\"\",\"icon\":\"\",\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-zip-box\")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download ZIP\")])])],1)]}},{key:\"item.configFile\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp')?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"blue\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.editConfig, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-pencil \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Edit Config File\")])]):_vm._e(),_vm._v(\" \"),(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp')?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.downloadConfig(item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download Config File\")])]):_vm._e(),_vm._v(\" \"),(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp')?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteAppConfig, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete Configuration\")])]):_vm._e()]}},{key:\"item.databaseOperations\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.downloadAppData(item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download Database\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteDatabase, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete Database\")])])]}}]),model:{value:(_vm.selectedItems),callback:function ($$v) {_vm.selectedItems=$$v},expression:\"selectedItems\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.uninstall],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.uninstall); },\"on-confirm\":function () { return _vm.uninstall(_vm.dialogNames.uninstall); },\"loading\":_vm.isUninstallingApp,\"dialog-text\":\"Do you want to uninstall the app?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.restartService],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.restartService); },\"on-confirm\":function () { return _vm.restartService(); },\"loading\":_vm.isRestartingService,\"dialog-text\":\"Are you sure want to restart the app?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteDatabase],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteDatabase); },\"on-confirm\":function () { return _vm.deleteDatabase(_vm.dialogNames.deleteDatabase); },\"loading\":_vm.isDeletingDatabase,\"dialog-text\":\"Do you want to delete the app's database?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteAppConfig],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteAppConfig); },\"on-confirm\":function () { return _vm.deleteAppConfigFile(); },\"loading\":_vm.isDeletingConfig,\"dialog-text\":\"Do you want to delete the app's config file?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.upload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.upload, $$v)},expression:\"dialog[dialogNames.upload]\"}},[(_vm.dialog[_vm.dialogNames.upload])?_c('apps-upload-multi-step-view',{attrs:{\"app-details\":_vm.selectedApp,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.upload, syncAppDetails); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.editConfig]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.editConfig, $$v)},expression:\"dialog[dialogNames.editConfig]\"}},[(_vm.dialog[_vm.dialogNames.editConfig])?_c('apps-edit-config',{attrs:{\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.editConfig, syncAppDetails); },\"app-detail\":_vm.selectedApp}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.install]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.install, $$v)},expression:\"dialog[dialogNames.install]\"}},[(_vm.dialog[_vm.dialogNames.install])?_c('apps-download-multi-step-view',{attrs:{\"delete-download-state\":_vm.deleteDownloadState,\"current-download-state\":_vm.currentDownloadState,\"fetch-download-app-state\":_vm.fetchDownloadAppState,\"clear-download-app-state-interval\":_vm.clearDownloadAppStateInterval,\"app-details\":_vm.selectedApp,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.install, syncAppDetails); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":_vm.isBulkDownloadAppPersistent,\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.bulkDownload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.bulkDownload, $$v)},expression:\"dialog[dialogNames.bulkDownload]\"}},[(_vm.remountDialog[_vm.dialogNames.bulkDownload])?_c('apps-bulk-download-multi-step-view',{attrs:{\"current-download-state\":_vm.currentDownloadState,\"selected-apps\":_vm.selectedItems,\"fetch-download-app-state\":_vm.fetchDownloadAppState,\"app-download-states\":_vm.appDownloadStates,\"clear-selected-apps\":_vm.clearSelectedApps,\"delete-download-state\":_vm.deleteDownloadState,\"clear-download-app-state-interval\":_vm.clearDownloadAppStateInterval,\"close-dialog\":function (syncAppDetails, config) { return _vm.closeDialog(_vm.dialogNames.bulkDownload, syncAppDetails, config); }}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipIconButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipIconButton.vue?vue&type=script&lang=js&\"","<template>\n  <v-tooltip bottom>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn v-if=\"buttonSize == 'medium'\" @click=\"onClick\" icon medium :color=\"btnColor\" class=\"white--text\" v-bind=\"attrs\" v-on=\"on\">\n        <v-icon medium dark> {{ btnIcon }} </v-icon>\n      </v-btn>\n      <v-btn v-else @click=\"onClick\" icon small :color=\"btnColor\" class=\"white--text\" v-bind=\"attrs\" v-on=\"on\">\n        <v-icon small dark> {{ btnIcon }} </v-icon>\n      </v-btn>\n    </template>\n    <span>{{ btnTooltip }}</span>\n  </v-tooltip>\n</template>\n<script>\nexport default {\n  name: 'tooltip-icon-button',\n  props: ['btnIcon', 'btnTooltip', 'onClick', 'btnColor', 'buttonSize'],\n};\n</script>\n","import { render, staticRenderFns } from \"./TooltipIconButton.vue?vue&type=template&id=2b1ee5db&\"\nimport script from \"./TooltipIconButton.vue?vue&type=script&lang=js&\"\nexport * from \"./TooltipIconButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(_vm.buttonSize == 'medium')?_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":_vm.btnColor},on:{\"click\":_vm.onClick}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.btnIcon)+\" \")])],1):_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":_vm.btnColor},on:{\"click\":_vm.onClick}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.btnIcon)+\" \")])],1)]}}])},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.btnTooltip))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppGrid.vue?vue&type=script&lang=js&\"","<template>\n  <v-card outlined>\n    <v-card-text class=\"pa-0\">\n      <v-toolbar dense flat>\n        <v-toolbar-title>\n          <span>{{ title }}</span>\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <span v-if=\"appVersion\">\n          <span class=\"grey-text font-weight-medium caption pr-2\">Latest Version</span>\n          {{ appVersion }}\n        </span>\n      </v-toolbar>\n      <v-data-table\n        dense\n        fixed-header\n        hide-default-footer\n        :items=\"dataItems\"\n        :single-select=\"false\"\n        show-select\n        :height=\"dataItems.length > 10 ? '400px' : 'auto'\"\n        :items-per-page=\"10000\"\n        :expanded.sync=\"expanded\"\n        single-expand\n        item-key=\"slaveId\"\n        :search=\"searchText\"\n        :headers=\"headers\"\n        v-model=\"selectedGridItems\"\n        show-expand\n      >\n        <template v-slot:item.state=\"{ item }\">\n          <app-status-chip chip-size=\"small\" :state=\"item.state\"></app-status-chip>\n        </template>\n        <template v-slot:item.slave_app_enabled=\"{ item }\">\n          <span class=\"font-weight-medium\">\n            <v-chip v-if=\"item.is_enabled\" small dark color=\"darken-2 green\">Enabled</v-chip>\n            <v-chip v-if=\"!item.is_enabled\" small dark color=\"darken-1 brown\">Disabled</v-chip>\n          </span>\n        </template>\n        <template v-slot:expanded-item=\"{ headers, item }\">\n          <td :colspan=\"headers.length\" class=\"expanded-table-row py-2\">\n            <div class=\"flex pl-15\">\n              <span class=\"table-expanded-item\">\n                <span class=\"grey-text font-weight-medium caption\">Timezone</span>\n                <span class=\"text-ellipses\">{{ item.slave_time_zone }}</span>\n              </span>\n              <span class=\"table-expanded-item\">\n                <span class=\"grey-text font-weight-medium caption\">State</span>\n                <span class=\"font-weight-medium text-ellipses\">{{ item.slave_site_state }}</span>\n              </span>\n              <span class=\"table-expanded-item\">\n                <span class=\"grey-text font-weight-medium caption\">City</span>\n                <span class=\"font-weight-medium text-ellipses\">{{ item.slave_site_city }}</span>\n              </span>\n              <span class=\"table-expanded-item\">\n                <span class=\"grey-text font-weight-medium caption\">Zip</span>\n                <span class=\"font-weight-medium text-ellipses\">{{ item.slave_site_zip }}</span>\n              </span>\n            </div>\n            <div class=\"flex pl-15 pt-3 text-left\">\n              <div class=\"table-expanded-item\">\n                <span class=\"grey-text font-weight-medium caption\">App Features</span>\n                <p>\n                  <tooltip-icon-button\n                    btnColor=\"yellow\"\n                    btnIcon=\"mdi-upload\"\n                    btnTooltip=\"Upload App\"\n                    :onClick=\"() => toggleDialog(dialogNames.upload, item)\"\n                  ></tooltip-icon-button>\n\n                  <tooltip-icon-button\n                    btnColor=\"error\"\n                    v-if=\"item.is_installed\"\n                    btnIcon=\"mdi-delete\"\n                    btnTooltip=\"Uninstall App\"\n                    :onClick=\"() => toggleDialog(dialogNames.uninstall, item)\"\n                  ></tooltip-icon-button>\n                  <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-btn\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                        :href=\"item.browser_download_url\"\n                        target=\"_blank\"\n                        tar\n                        v-if=\"item.browser_download_url\"\n                        icon\n                        small\n                      >\n                        <v-icon small dark> mdi-zip-box</v-icon>\n                      </v-btn>\n                    </template>\n                    <span>Download ZIP</span>\n                  </v-tooltip>\n                </p>\n              </div>\n              <div class=\"table-expanded-item\">\n                <span class=\"grey-text font-weight-medium caption\">Config File</span>\n                <p>\n                  <tooltip-icon-button\n                    btnColor=\"blue\"\n                    btnIcon=\"mdi-pencil\"\n                    btnTooltip=\"Edit Config File\"\n                    :onClick=\"() => toggleDialog(dialogNames.editConfig, item)\"\n                  ></tooltip-icon-button>\n                  <tooltip-icon-button\n                    v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp'\"\n                    btnColor=\"success\"\n                    btnIcon=\"mdi-download\"\n                    btnTooltip=\"Download Config File\"\n                    :onClick=\"() => downloadConfig(item)\"\n                  ></tooltip-icon-button>\n                  <tooltip-icon-button\n                    btnColor=\"error\"\n                    btnIcon=\"mdi-delete\"\n                    btnTooltip=\"Delete Configuration\"\n                    :onClick=\"() => toggleDialog(dialogNames.deleteAppConfig, item)\"\n                  ></tooltip-icon-button>\n                </p>\n              </div>\n              <div class=\"table-expanded-item\">\n                <span class=\"grey-text font-weight-medium caption\">Database</span>\n                <p>\n                  <tooltip-icon-button\n                    btnColor=\"success\"\n                    btnIcon=\"mdi-download\"\n                    btnTooltip=\"Download Database\"\n                    :onClick=\"() => onDownloadDatabase(item)\"\n                  ></tooltip-icon-button>\n                  <tooltip-icon-button\n                    btnIcon=\"mdi-delete\"\n                    btnColor=\"error\"\n                    btnTooltip=\"Delete Database\"\n                    :onClick=\"() => toggleDialog(dialogNames.deleteDatabase, item)\"\n                  ></tooltip-icon-button>\n                </p>\n              </div>\n              <div class=\"table-expanded-item\">\n                <span v-if=\"item.is_installed\" class=\"grey-text font-weight-medium caption\">Restart</span>\n                <p v-if=\"item.is_installed\">\n                  <tooltip-icon-button\n                    btnColor=\"success\"\n                    btnIcon=\"mdi-restart\"\n                    btnTooltip=\"Restart Service\"\n                    :onClick=\"() => toggleDialog(dialogNames.restartService, item)\"\n                  ></tooltip-icon-button>\n                </p>\n              </div>\n            </div>\n          </td>\n        </template>\n      </v-data-table>\n    </v-card-text>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteDatabase]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteDatabase)\"\n      :on-confirm=\"() => onDeleteDatabase()\"\n      :loading=\"isDeletingDatabase\"\n      dialog-text=\"Do you want to delete the app's database?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.restartService]\"\n      :on-close=\"() => closeDialog(dialogNames.restartService)\"\n      :on-confirm=\"() => restartService()\"\n      :loading=\"isRestartingService\"\n      dialog-text=\"Are you sure to restart the app?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteAppConfig]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteAppConfig)\"\n      :on-confirm=\"() => deleteAppConfigFile()\"\n      :loading=\"isDeletingConfig\"\n      dialog-text=\"Do you want to delete the app's config file?\"\n    ></confirm-dialog>\n\n    <v-dialog presistent v-model=\"dialog[dialogNames.editConfig]\" max-width=\"500px\">\n      <apps-edit-config\n        v-if=\"dialog[dialogNames.editConfig]\"\n        :is-slave-app=\"true\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.editConfig, syncAppDetails)\"\n        :app-detail=\"selectedApp\"\n      ></apps-edit-config>\n    </v-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.uninstall]\"\n      :on-close=\"() => closeDialog(dialogNames.uninstall)\"\n      :on-confirm=\"() => uninstall(dialogNames.uninstall)\"\n      :loading=\"isUninstallingApp\"\n      dialog-text=\"Do you want to uninstall the app?\"\n    ></confirm-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.upload]\" max-width=\"500px\">\n      <apps-upload-multi-step-view\n        v-if=\"dialog[dialogNames.upload]\"\n        :app-details=\"selectedApp\"\n        :is-slave-app=\"true\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.upload, syncAppDetails)\"\n      ></apps-upload-multi-step-view>\n    </v-dialog>\n  </v-card>\n</template>\n<script>\nimport JsZip from 'jszip';\nimport GridToolbar from '../Common/GridToolbar';\nimport ConfirmDialog from '../Common/ConfirmDialog';\nimport AppStatusChip from '../Services/AppStatusChip';\nimport AppsEditConfig from '../RubixApps/appsEditConfig';\nimport TooltipIconButton from './TooltipIconButton.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport AppsUploadMultiStepView from '../RubixApps/AppsUploadMultiStepView';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport { RUBIX_APP_STATUS_CONTROL_ACTIONS } from '../../constants/appConstant';\n\nexport default {\n  name: 'slave-app-grid',\n  props: ['slaveApps', 'selectedItems', 'slaveDevices', 'onSelectItem', 'searchText', 'filters'],\n  components: {\n    AppStatusChip,\n    GridToolbar,\n    TextFieldDisplay,\n    TooltipIconButton,\n    ConfirmDialog,\n    AppsEditConfig,\n    AppsUploadMultiStepView,\n  },\n  data() {\n    const dialogNames = {\n      editConfig: 'editConfig',\n      restartService: 'restartService',\n      deleteDatabase: 'deleteDatabase',\n      deleteAppConfig: 'deleteAppConfig',\n      upload: 'upload',\n      uninstall: 'uninstall',\n    };\n    return {\n      expanded: [],\n      isDeletingConfig: false,\n      isRestartingService: false,\n      isUninstallingApp: false,\n      isDeletingDatabase: false,\n      dialog: {\n        [dialogNames.deleteDatabase]: false,\n        [dialogNames.restartService]: false,\n        [dialogNames.upload]: false,\n        [dialogNames.editConfig]: false,\n        [dialogNames.deleteAppConfig]: false,\n        [dialogNames.uninstall]: false,\n      },\n      dialogNames,\n      selectedApp: {},\n      headers: [\n        {\n          text: 'Site Name',\n          align: 'left',\n          value: 'slave_site_name',\n        },\n        {\n          text: 'Device Name',\n          align: 'left',\n          value: 'slave_device_name',\n        },\n        {\n          text: 'Status',\n          align: 'right',\n          value: 'state',\n        },\n        {\n          text: 'Installed Version',\n          align: 'center',\n          sortable: false,\n          value: 'version',\n        },\n        {\n          text: 'Active Since',\n          align: 'center',\n          sortable: false,\n          value: 'time_since',\n        },\n        {\n          text: 'State',\n          align: 'center',\n          value: 'slave_app_enabled',\n        },\n        { text: '', value: 'data-table-expand' },\n      ],\n    };\n  },\n  computed: {\n    selectedGridItems: {\n      get() {\n        return this.selectedItems;\n      },\n      set(value) {\n        this.onSelectItem(this.serviceName, value);\n      },\n    },\n    setting() {\n      return this.$store.state.setting;\n    },\n    title() {\n      return this.slaveApps.display_name;\n    },\n    serviceName() {\n      return this.slaveApps.name;\n    },\n    dataItems() {\n      return this.slaveApps.dataItems\n        .filter(val => !(this.filters.isInstalled && !val.is_installed))\n        .map(data => this.appendSlaveDevice(data));\n    },\n    appVersion() {\n      const appWithLatestVersion =\n        Array.isArray(this.slaveApps.dataItems) && this.slaveApps.dataItems.find(app => app.latest_version);\n      return appWithLatestVersion ? appWithLatestVersion.latest_version : null;\n    },\n  },\n  methods: {\n    appendSlaveDevice(data) {\n      let newData = { ...data };\n      const slaveDevice = this.slaveDevices[data.slaveId];\n      if (slaveDevice) {\n        newData = {\n          ...newData,\n          ...Object.keys(slaveDevice).reduce((acc, curr) => {\n            const key = 'slave_' + curr;\n            acc[key] = slaveDevice[curr];\n            return acc;\n          }, {}),\n        };\n      }\n      return newData;\n    },\n    closeDialog(dialogName, syncAppDetails) {\n      this.dialog[dialogName] = false;\n      this.selectedApp = {};\n      syncAppDetails && typeof this.fetchAppDetails === 'function' && this.fetchAppDetails(true);\n    },\n    toggleDialog(dialogName, item) {\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    onDeleteDatabase() {\n      this.isDeletingDatabase = true;\n      const serviceName = this.selectedApp.service;\n      const slaveId = this.selectedApp.slaveId;\n      slaveAppsService\n        .deleteAppData(serviceName, slaveId)\n        .then(() => {\n          this.$toasted.show(`Successfully deleted app data for ${serviceName}`);\n          this.closeDialog(this.dialogNames.deleteDatabase, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase);\n        })\n        .finally(() => {\n          this.isDeletingDatabase = false;\n        });\n    },\n    downloadConfig(appDetail) {\n      const serviceName = appDetail.service;\n      const appType = appDetail.app_type;\n      const slaveId = appDetail.slaveId;\n      const slaveClientName = appDetail.slave_device_name;\n      slaveAppsService.downloadAppConfig(serviceName, slaveId, slaveClientName, appType);\n    },\n    deleteAppConfigFile() {\n      this.isDeletingConfig = true;\n      const serviceName = this.selectedApp.service;\n      const appType = this.selectedApp.app_type;\n      const slaveId = this.selectedApp.slaveId;\n\n      slaveAppsService\n        .deleteAppConfig(slaveId, serviceName, appType)\n        .then(data => {\n          this.$toasted.show(`${serviceName} app config file is deleted`);\n          this.closeDialog(this.dialogNames.deleteAppConfig);\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to delete app config for ${serviceName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingConfig = false;\n        });\n    },\n    onDownloadDatabase(item) {\n      const serviceName = item.service;\n      const slaveId = item.slaveId;\n      slaveAppsService\n        .downloadAppData(serviceName, slaveId, this.setting)\n        .then(async blobData => {\n          const zip = new JsZip();\n          await zip.loadAsync(blobData);\n          const blob = await zip.generateAsync({ type: 'blob' });\n          const date = new Date();\n          const filename = this.getFileName(serviceName);\n          const link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          link.setAttribute('download', `${filename}.zip`);\n          link.click();\n          this.$toasted.show(`${serviceName} app data is exported.`);\n        })\n        .catch(err => {\n          const reader = new FileReader();\n          reader.addEventListener('loadend', e => {\n            const err = JSON.parse(e.target.result);\n            if (err && err.message) {\n              this.$toasted.show(err.message, { type: 'error' });\n            } else {\n              this.$toasted.show(`Failed to export ${serviceName} app data`, { type: 'error' });\n            }\n          });\n          reader.readAsText(err);\n\n          return err;\n        });\n    },\n    uninstall() {\n      this.isUninstallingApp = true;\n      const serviceName = this.selectedApp.service;\n      const slaveId = this.selectedApp.slaveId;\n\n      slaveAppsService\n        .uninstallApp(slaveId, serviceName)\n        .then(() => {\n          this.$toasted.show('Successfully unistalled app');\n          this.closeDialog(this.dialogNames.uninstall, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.uninstall);\n        })\n        .finally(() => {\n          this.isUninstallingApp = false;\n        });\n    },\n    restartService() {\n      this.isRestartingService = true;\n      const service = this.selectedApp.service;\n      const slaveId = this.selectedApp.slaveId;\n      slaveAppsService\n        .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART, service, slaveId)\n        .then(() => {\n          this.closeDialog(this.dialogNames.restartService, true);\n          this.$toasted.show(`App restarted sucessfully.`);\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to restart the app.`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isRestartingService = false;\n        });\n    },\n  },\n};\n</script>\n<style>\n.flex {\n  display: flex;\n}\n.caption {\n  color: #999;\n}\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.field-display-value {\n  color: #fff;\n}\n.table-expanded-item {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  text-align: left;\n}\n.expanded-table-row {\n  background: #333;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.table-expanded-item p {\n  margin-bottom: 0px;\n}\n\n.v-data-table__wrapper::-webkit-scrollbar {\n  width: 10px;\n}\n\n.v-data-table__wrapper::-webkit-scrollbar-track {\n  background: #202020;\n  border-left: 1px solid #2c2c2c;\n}\n\n.v-data-table__wrapper::-webkit-scrollbar-thumb {\n  background: #3e3e3e;\n  border: solid 2px #202020;\n  border-radius: 6px;\n}\n\n.v-data-table__wrapper::-webkit-scrollbar-thumb:hover {\n  background: white;\n}\n</style>\n","import { render, staticRenderFns } from \"./SlaveAppGrid.vue?vue&type=template&id=ae272192&\"\nimport script from \"./SlaveAppGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveAppGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SlaveAppGrid.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"pa-0\"},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',[_c('span',[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),(_vm.appVersion)?_c('span',[_c('span',{staticClass:\"grey-text font-weight-medium caption pr-2\"},[_vm._v(\"Latest Version\")]),_vm._v(\"\\n        \"+_vm._s(_vm.appVersion)+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"dense\":\"\",\"fixed-header\":\"\",\"hide-default-footer\":\"\",\"items\":_vm.dataItems,\"single-select\":false,\"show-select\":\"\",\"height\":_vm.dataItems.length > 10 ? '400px' : 'auto',\"items-per-page\":10000,\"expanded\":_vm.expanded,\"single-expand\":\"\",\"item-key\":\"slaveId\",\"search\":_vm.searchText,\"headers\":_vm.headers,\"show-expand\":\"\"},on:{\"update:expanded\":function($event){_vm.expanded=$event}},scopedSlots:_vm._u([{key:\"item.state\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('app-status-chip',{attrs:{\"chip-size\":\"small\",\"state\":item.state}})]}},{key:\"item.slave_app_enabled\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"font-weight-medium\"},[(item.is_enabled)?_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\",\"color\":\"darken-2 green\"}},[_vm._v(\"Enabled\")]):_vm._e(),_vm._v(\" \"),(!item.is_enabled)?_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\",\"color\":\"darken-1 brown\"}},[_vm._v(\"Disabled\")]):_vm._e()],1)]}},{key:\"expanded-item\",fn:function(ref){\nvar headers = ref.headers;\nvar item = ref.item;\nreturn [_c('td',{staticClass:\"expanded-table-row py-2\",attrs:{\"colspan\":headers.length}},[_c('div',{staticClass:\"flex pl-15\"},[_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Timezone\")]),_vm._v(\" \"),_c('span',{staticClass:\"text-ellipses\"},[_vm._v(_vm._s(item.slave_time_zone))])]),_vm._v(\" \"),_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"State\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium text-ellipses\"},[_vm._v(_vm._s(item.slave_site_state))])]),_vm._v(\" \"),_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"City\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium text-ellipses\"},[_vm._v(_vm._s(item.slave_site_city))])]),_vm._v(\" \"),_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Zip\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium text-ellipses\"},[_vm._v(_vm._s(item.slave_site_zip))])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex pl-15 pt-3 text-left\"},[_c('div',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"App Features\")]),_vm._v(\" \"),_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"yellow\",\"btnIcon\":\"mdi-upload\",\"btnTooltip\":\"Upload App\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.upload, item); }}}),_vm._v(\" \"),(item.is_installed)?_c('tooltip-icon-button',{attrs:{\"btnColor\":\"error\",\"btnIcon\":\"mdi-delete\",\"btnTooltip\":\"Uninstall App\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.uninstall, item); }}}):_vm._e(),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.browser_download_url)?_c('v-btn',_vm._g(_vm._b({attrs:{\"href\":item.browser_download_url,\"target\":\"_blank\",\"tar\":\"\",\"icon\":\"\",\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-zip-box\")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download ZIP\")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Config File\")]),_vm._v(\" \"),_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"blue\",\"btnIcon\":\"mdi-pencil\",\"btnTooltip\":\"Edit Config File\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.editConfig, item); }}}),_vm._v(\" \"),(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp')?_c('tooltip-icon-button',{attrs:{\"btnColor\":\"success\",\"btnIcon\":\"mdi-download\",\"btnTooltip\":\"Download Config File\",\"onClick\":function () { return _vm.downloadConfig(item); }}}):_vm._e(),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"error\",\"btnIcon\":\"mdi-delete\",\"btnTooltip\":\"Delete Configuration\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteAppConfig, item); }}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Database\")]),_vm._v(\" \"),_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"success\",\"btnIcon\":\"mdi-download\",\"btnTooltip\":\"Download Database\",\"onClick\":function () { return _vm.onDownloadDatabase(item); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnIcon\":\"mdi-delete\",\"btnColor\":\"error\",\"btnTooltip\":\"Delete Database\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteDatabase, item); }}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-expanded-item\"},[(item.is_installed)?_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Restart\")]):_vm._e(),_vm._v(\" \"),(item.is_installed)?_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"success\",\"btnIcon\":\"mdi-restart\",\"btnTooltip\":\"Restart Service\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.restartService, item); }}})],1):_vm._e()])])])]}}]),model:{value:(_vm.selectedGridItems),callback:function ($$v) {_vm.selectedGridItems=$$v},expression:\"selectedGridItems\"}})],1),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteDatabase],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteDatabase); },\"on-confirm\":function () { return _vm.onDeleteDatabase(); },\"loading\":_vm.isDeletingDatabase,\"dialog-text\":\"Do you want to delete the app's database?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.restartService],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.restartService); },\"on-confirm\":function () { return _vm.restartService(); },\"loading\":_vm.isRestartingService,\"dialog-text\":\"Are you sure to restart the app?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteAppConfig],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteAppConfig); },\"on-confirm\":function () { return _vm.deleteAppConfigFile(); },\"loading\":_vm.isDeletingConfig,\"dialog-text\":\"Do you want to delete the app's config file?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.editConfig]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.editConfig, $$v)},expression:\"dialog[dialogNames.editConfig]\"}},[(_vm.dialog[_vm.dialogNames.editConfig])?_c('apps-edit-config',{attrs:{\"is-slave-app\":true,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.editConfig, syncAppDetails); },\"app-detail\":_vm.selectedApp}}):_vm._e()],1),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.uninstall],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.uninstall); },\"on-confirm\":function () { return _vm.uninstall(_vm.dialogNames.uninstall); },\"loading\":_vm.isUninstallingApp,\"dialog-text\":\"Do you want to uninstall the app?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.upload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.upload, $$v)},expression:\"dialog[dialogNames.upload]\"}},[(_vm.dialog[_vm.dialogNames.upload])?_c('apps-upload-multi-step-view',{attrs:{\"app-details\":_vm.selectedApp,\"is-slave-app\":true,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.upload, syncAppDetails); }}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const formatSelectedItemsWithSlaveIds = selectedItems => {\n  return Object.keys(selectedItems).reduce((acc, service) => {\n    acc[service] = (selectedItems[service] || []).map(val => val && val.slaveId).filter(val => val);\n    return acc;\n  }, {});\n};\n\nconst filterReleaseMapBySelectedItems = (releaseMap, selectedServicesSlaveIds) => {\n  return Object.keys(releaseMap).reduce((acc, serviceName) => {\n    const value = Object.keys(releaseMap[serviceName]).reduce((acc, slaveId) => {\n      if (selectedServicesSlaveIds[serviceName] && selectedServicesSlaveIds[serviceName].includes(slaveId)) {\n        acc.push(releaseMap[serviceName][slaveId]);\n      }\n      return acc;\n    }, []);\n\n    acc[serviceName] = value;\n    return acc;\n  }, {});\n};\n\nexport const slaveReleaseList = ({ releaseMap, selectedItems }) => {\n  const selectedServicesSlaveIds = formatSelectedItemsWithSlaveIds(selectedItems);\n  const filteredReleaseMap = filterReleaseMapBySelectedItems(releaseMap, selectedServicesSlaveIds);\n  return Object.keys(filteredReleaseMap).reduce((acc, service) => {\n    const slaveAppsReleasesCount = filteredReleaseMap[service].map(val => (val && val.length) || Infinity); // at least one\n    const indexOfMinValue = slaveAppsReleasesCount.indexOf(Math.min(...slaveAppsReleasesCount));\n    acc[service] = filteredReleaseMap[service][indexOfMinValue] || [];\n    return acc;\n  }, {});\n};\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipTitle.vue?vue&type=script&lang=js&\"","<template>\n  <v-tooltip bottom>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <span v-bind=\"attrs\" v-on=\"on\" class=\"white--text\">\n        {{ title }}\n      </span>\n    </template>\n    <span>{{ title }}</span>\n  </v-tooltip>\n</template>\n<script>\nexport default {\n  name: 'tooltip-title',\n  props: ['title'],\n};\n</script>\n","import { render, staticRenderFns } from \"./TooltipTitle.vue?vue&type=template&id=668a7380&\"\nimport script from \"./TooltipTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./TooltipTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g(_vm._b({staticClass:\"white--text\"},'span',attrs,false),on),[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")])]}}])},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"white--text mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium dark> mdi-arrow-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\"> Slave Apps | {{ multiStepViewConfig[currentView].title }} </span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\" class=\"pa-0\">\n            <v-alert class=\"mb-0\" v-if=\"!hasSelectedApps\" dense type=\"info\">\n              Please select apps from the grid to bulk download.\n            </v-alert>\n            <div class=\"text-left pb-5\">\n              <v-subheader class=\"mb-n5\">Selected Apps</v-subheader>\n              <v-row dense class=\"pa-1\">\n                <template v-for=\"(app, i) in apps\">\n                  <v-col cols=\"12\" class=\"pl-3 mt-3\" v-if=\"app.isHeader\" :key=\"`selected_apps_header-${i}`\">\n                    <span class=\"caption font-weight-bold\">{{ app.name }}</span>\n                  </v-col>\n                  <v-col cols=\"4\" class=\"pl-5\" :key=\"`selected_apps-${i}`\" v-if=\"app.isListItem\">\n                    <div>\n                      <p class=\"text-ellipses mb-0\">\n                        <tooltip-title\n                          :title=\"`${app.slaveDeviceName} ${app.version ?  '('+app.version+')' : ''}`\"\n                        ></tooltip-title>\n                      </p>\n                      <p>\n                        <app-status-chip chip-size=\"small\" :state=\"app.state\"></app-status-chip>\n                      </p>\n                    </div>\n                  </v-col>\n                </template>\n              </v-row>\n            </div>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\" class=\"pa-2 pt-5\">\n            <v-form v-model=\"versionForm\" ref=\"versionForm\" lazy-validation>\n              <v-row dense class=\"text-left\">\n                <template v-for=\"(app, i) in apps\">\n                  <v-col :key=\"`version-form-header-${renderReleaseCount}-${i}`\" cols=\"12\" v-if=\"app.isHeader\">\n                    <span class=\"caption font-weight-bold\">{{ app.name }}</span>\n                  </v-col>\n                  <v-col\n                    cols=\"4\"\n                    class=\"pl-5\"\n                    :key=\"`version-form-field-${renderReleaseCount}-${i}`\"\n                    v-if=\"app.isListItem\"\n                  >\n                    <div>\n                      <p class=\"text-ellipses mb-0\">\n                        <tooltip-title\n                          :title=\"`${app.slaveDeviceName} ${app.version ? '('+app.version+')' : ''}`\"\n                        ></tooltip-title>\n                      </p>\n                      <p>\n                        <app-status-chip chip-size=\"small\" :state=\"app.state\"></app-status-chip>\n                      </p>\n                    </div>\n                  </v-col>\n                  <v-col :key=\"`version-form-select-${renderReleaseCount}-${i}`\" cols=\"12\" v-if=\"app.isVersionSelect\">\n                    <v-combobox\n                      :items=\"appVersions[app.name]\"\n                      label=\"Select Release Version\"\n                      class=\"ml-5\"\n                      hideSelected\n                      clearable\n                      v-model=\"app.model\"\n                      item-text=\"name\"\n                      item-value=\"tag_name\"\n                      :rules=\"versionRules\"\n                    >\n                    </v-combobox>\n                  </v-col>\n                </template>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n          <v-stepper-content step=\"3\" class=\"pa-0\">\n            <div>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_IN_PROGRESS'\" dense type=\"info\">\n                Downloading App(s) <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n            <div flat subheader dense class=\"text-left pb-5\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-subheader class=\"pa-2 mb-n4\">App Download Statuses</v-subheader>\n              <v-row dense class=\"text-left\">\n                <template v-for=\"(app, i) in downloadStates\">\n                  <v-col :key=\"`download-statuses-header-${i}`\" v-if=\"app.isHeader\" cols=\"12\" class=\"pl-3 mt-3\">\n                    <span class=\"caption font-weight-bold\">{{ app.name }}</span>\n                    <span class=\"white--text font-weight-bold\">({{ app.version }})</span>\n                  </v-col>\n\n                  <v-col cols=\"4\" class=\"pl-5\" v-if=\"app.isListItem\" :key=\"`download-statuses-${i}`\">\n                    <div>\n                      <p class=\"mb-0 text-ellipses\">\n                        <tooltip-title :title=\"app.slaveDeviceName\"></tooltip-title>\n                      </p>\n                      <div>\n                        <span v-if=\"app.hasError\" class=\"font-weight-medium\">\n                          <v-tooltip bottom>\n                            <template v-slot:activator=\"{ on, attrs }\">\n                              <v-chip v-bind=\"attrs\" v-on=\"on\" small outlined color=\"red\">Failed</v-chip>\n                            </template>\n                            <span>{{ app.error }}</span>\n                          </v-tooltip>\n                        </span>\n                        <span v-else-if=\"!app.isDownloading && !app.hasError\" class=\"font-weight-medium\">\n                          <v-chip small outlined color=\"yellow\">Downloading</v-chip>\n                        </span>\n\n                        <span v-else-if=\"app.isDownloading && !app.hasError\" class=\"font-weight-medium\">\n                          <v-chip small outlined color=\"green\">Downloaded</v-chip>\n                        </span>\n                      </div>\n                    </div>\n                  </v-col>\n                </template>\n              </v-row>\n            </div>\n          </v-stepper-content>\n          <v-stepper-content step=\"4\" class=\"pa-0\">\n            <div class=\"text-left pb-5\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <div class=\"text-left pb-5\" v-if=\"installationSuccessApps.length > 0\">\n                <v-subheader class=\"pa-2 mb-n4\">Installation Completed Apps</v-subheader>\n                <v-row dense>\n                  <template v-for=\"(successApps, i) in installationSuccessApps\">\n                    <v-col\n                      cols=\"12\"\n                      class=\"pl-3 mt-3\"\n                      v-if=\"successApps.isHeader\"\n                      :key=\"`install-complete-header-${i}`\"\n                    >\n                      <span :title=\"successApps.name\" class=\"caption font-weight-bold\">{{ successApps.name }}</span>\n                      <span class=\"white--text font-weight-bold\">({{ successApps.version }})</span>\n                    </v-col>\n                    <v-col cols=\"4\" class=\"pl-5\" v-if=\"successApps.isListItem\" :key=\"`install-complete-${i}`\">\n                      <div>\n                        <p class=\"mb-0 text-ellipses\">\n                          <tooltip-title :title=\"successApps.slaveDeviceName\"></tooltip-title>\n                        </p>\n                        <div>\n                          <span class=\"font-weight-medium\">\n                            <v-chip small outlined color=\"blue\">Installed</v-chip>\n                          </span>\n                        </div>\n                      </div>\n                    </v-col>\n                  </template>\n                </v-row>\n              </div>\n              <div v-if=\"installationFailedApps.length > 0\">\n                <v-subheader> Installation Failed Apps</v-subheader>\n                <v-row dense>\n                  <template v-for=\"(failedApp, i) in installationFailedApps\">\n                    <v-col cols=\"12\" class=\"pl-3\" v-if=\"failedApp.isHeader\" :key=\"`installation-failed-header-${i}`\">\n                      <span class=\"caption font-weight-bold\">{{ failedApp.name }}</span>\n                      <span class=\"white--text font-weight-bold\">({{ failedApp.version }})</span>\n                    </v-col>\n                    <v-col cols=\"4\" class=\"pl-5\" v-if=\"failedApp.isListItem\" :key=\"`install-complete-${i}`\">\n                      <div>\n                        <p class=\"mb-0 text-ellipses\">\n                          <tooltip-title :title=\"failedApp.slaveDeviceName\"></tooltip-title>\n                        </p>\n                        <p>\n                          <span class=\"font-weight-medium\">\n                            <v-tooltip bottom>\n                              <template v-slot:activator=\"{ on, attrs }\">\n                                <v-chip v-bind=\"attrs\" v-on=\"on\" small outlined color=\"red\">Failed</v-chip>\n                              </template>\n                              <span>{{ failedApp.error }}</span>\n                            </v-tooltip>\n                          </span>\n                        </p>\n                      </div>\n                    </v-col>\n                  </template>\n                </v-row>\n              </div>\n            </div>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-card-actions>\n        <v-btn\n          color=\"primary\"\n          @click=\"next\"\n          :loading=\"multiStepViewConfig[currentView].loader\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasForward\"\n        >\n          {{\n            typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n              ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n              : multiStepViewConfig[currentView].buttonLabel\n          }}\n        </v-btn>\n        <v-btn\n          color=\"pink\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasCancelInstallation\"\n          @click=\"cancelInstallation\"\n          text\n        >\n          Cancel Install\n        </v-btn>\n\n        <v-btn v-if=\"multiStepViewConfig[currentView].hasCancel\" @click=\"cancel\" text> Close </v-btn>\n      </v-card-actions>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip';\nimport _zipObject from 'lodash/zipObject';\nimport TextFieldDisplay from '../Common/TextFieldDisplay';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport TooltipTitle from './TooltipTitle';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  props: [\n    'selectedApps',\n    'slaveDevices',\n    'appVersions',\n    'clearSelectedApps',\n    'closeDialog',\n    'fetchDownloadAppState',\n    'currentDownloadState',\n    'slaveAppsDownloadStates',\n    'clearDownloadAppStateInterval',\n    'deleteDownloadState',\n  ],\n  components: {\n    AppStatusChip,\n    TextFieldDisplay,\n    TooltipTitle,\n  },\n  data() {\n    return {\n      versionForm: false,\n      renderReleaseCount: 0,\n      successInstalledApps: {},\n      failureInstallApps: {},\n      currentView: 1,\n      refreshTime: 10000,\n      versionRules: [value => !!value || 'Version No. is required.'],\n      multiStepViewConfig: {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n          loader: false,\n          disabled: true,\n          hasCancel: true,\n          cancelTitle: 'Close',\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n          hasCancel: false,\n        },\n      },\n    };\n  },\n  updated() {\n    if (!this.hasSelectedApps && !this.currentDownloadState && this.currentDownloadState !== DOWNLOAD_COMPLETE) {\n      this.currentView = 1;\n      this.multiStepViewConfig[1].disabled = true;\n    } else {\n      this.multiStepViewConfig[1].disabled = false;\n    }\n\n    if (this.currentDownloadState === DOWNLOAD_IN_PROGRESS || !this.currentDownloadState) {\n      this.multiStepViewConfig[3].disabled = true;\n    } else {\n      this.multiStepViewConfig[3].disabled = false;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  created() {\n    this.showDownloadStateView(this.currentDownloadState);\n  },\n  computed: {\n    currentBulkAppDownloadState() {\n      return this.$store.state.currentBulkAppDownloadState;\n    },\n    hasSelectedApps() {\n      return Object.keys(this.selectedApps).reduce((acc, curr) => {\n        const selectedService = this.selectedApps[curr];\n        const hasSelectedApps = selectedService && Array.isArray(selectedService) && selectedService.length > 0;\n        return acc || hasSelectedApps;\n      }, false);\n    },\n    apps() {\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          isListItem: true,\n          serviceName: app.service,\n          slaveClientName: app.slave_client_name,\n          slaveDeviceName: app.slave_device_name,\n          state: app.state,\n          version: app.version,\n          latestVersion: app.latest_version,\n          minVersion: app.min_support_version,\n          displayName: app.display_name,\n          loadingReleases: false,\n          releases: [],\n        }));\n      }\n      const selectedApps = Object.keys(this.selectedApps)\n        .reduce((acc, curr) => {\n          if (this.selectedApps[curr] && this.selectedApps[curr].length > 0) {\n            acc.push(this.getHeader(curr));\n            acc.push(...transformAppData(this.selectedApps[curr]));\n            acc.push(this.getVersionSelection(curr, this.selectedApps[curr]));\n            acc.push({ divider: true, isNonItem: true });\n          }\n          return acc;\n        }, [])\n        .filter(val => val);\n\n      return selectedApps;\n    },\n    downloadStates() {\n      const slaveDevices = this.slaveDevices;\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          isListItem: true,\n          serviceName: app.service,\n          slaveDeviceName: slaveDevices[app.slaveId].device_name,\n          version: app.version,\n          hasError: !!app.error,\n          errorMessage: app.error,\n          isDownloading: app.download,\n        }));\n      }\n      const downloadStatesApps = Object.keys(this.slaveAppsDownloadStates).reduce((acc, curr) => {\n        if (\n          this.slaveAppsDownloadStates[curr] &&\n          this.slaveAppsDownloadStates[curr].dataItems &&\n          this.slaveAppsDownloadStates[curr].dataItems.length > 0\n        ) {\n          acc.push({ ...this.getHeader(curr), version: this.slaveAppsDownloadStates[curr].dataItems[0].version });\n          acc.push(...transformAppData(this.slaveAppsDownloadStates[curr].dataItems));\n          acc.push({ divider: true, isNonItem: true });\n        }\n        return acc;\n      }, []);\n      return downloadStatesApps;\n    },\n    installationSuccessApps() {\n      const slaveDevices = this.slaveDevices;\n\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          slaveDeviceName: slaveDevices[app.slaveId].device_name,\n\n          isListItem: true,\n        }));\n      }\n      const successInstalledApps = Object.keys(this.successInstalledApps).reduce((acc, curr) => {\n        if (\n          this.successInstalledApps[curr] &&\n          this.successInstalledApps[curr].dataItems &&\n          this.successInstalledApps[curr].dataItems.length > 0\n        ) {\n          acc.push({ ...this.getHeader(curr), version: this.successInstalledApps[curr].dataItems[0].version });\n          acc.push(...transformAppData(this.successInstalledApps[curr].dataItems));\n          acc.push({ divider: true, isNonItem: true });\n        }\n        return acc;\n      }, []);\n      return successInstalledApps;\n    },\n    installationFailedApps() {\n      const slaveDevices = this.slaveDevices;\n\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          slaveDeviceName: slaveDevices[app.slaveId].site_name,\n          isListItem: true,\n        }));\n      }\n      const failureInstallApps = Object.keys(this.failureInstallApps).reduce((acc, curr) => {\n        if (\n          this.failureInstallApps[curr] &&\n          this.failureInstallApps[curr].dataItems &&\n          this.failureInstallApps[curr].dataItems.length > 0\n        ) {\n          acc.push({ ...this.getHeader(curr), version: this.failureInstallApps[curr].dataItems[0].version });\n          acc.push(...transformAppData(this.failureInstallApps[curr].dataItems));\n          acc.push({ divider: true, isNonItem: true });\n        }\n        return acc;\n      }, []);\n      return failureInstallApps;\n    },\n  },\n  methods: {\n    getHeader(name) {\n      let header = {\n        text: name,\n        name: name,\n        isHeader: true,\n        isNonItem: true,\n        isListItem: false,\n      };\n      return header;\n    },\n    getCommonAppMinVersion(apps) {\n      const appVersions = apps.map(app => app.min_support_version);\n      const uniqueAppVersions = appVersions.filter((curr, index, self) => self.indexOf(curr) === index);\n      if(uniqueAppVersions.length !== this.appVersions.length) {\n        return null;\n      }\n      const appMinVersionsCount = appVersions.reduce((acc, val) => {\n        let count = acc[val] || 0;\n        acc[val] = count + 1;\n        return acc;\n      }, {});\n      const appMinVersionsCounts = Object.keys(appMinVersionsCount).map(key => appMinVersionsCount[key]);\n      const indexOfCommonVersion = appMinVersionsCounts.indexOf(Math.max(...appMinVersionsCounts));\n      return indexOfCommonVersion > -1 ? appVersions[indexOfCommonVersion] : '';\n    },\n    getVersionSelection(name, selectedApps) {\n      let defaultValue = '';\n\n      const appVersions = selectedApps\n        .map(app => app.version)\n        .filter((curr, index, self) => self.indexOf(curr) === index);\n      const commonAppVersion = this.getCommonAppMinVersion(selectedApps);\n      if (appVersions.length === 1) {\n        defaultValue = appVersions[0];\n      } else {\n        defaultValue = commonAppVersion;\n      }\n      return {\n        text: name,\n        name: name,\n        model: defaultValue,\n        isListItem: false,\n        isVersionSelect: true,\n        versions: appVersions,\n      };\n    },\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case DOWNLOAD_IN_PROGRESS:\n          this.currentView = 3; // Download Waiting screen\n          break;\n        case DOWNLOAD_COMPLETE:\n          this.currentView = 3; // Show the download report page\n          this.clearDownloadAppStateInterval();\n          break;\n      }\n    },\n    disableInstallationButton() {\n      this.multiStepViewConfig[3].disabled = true;\n    },\n    bulkDownloadApps() {\n      this.currentView = 3;\n      this.disableInstallationButton();\n      const versionSelectMap = this.apps.reduce((acc, curr) => {\n        if (curr.isVersionSelect) {\n          acc[curr.name] = curr.model;\n        }\n        return acc;\n      }, {});\n      const payload = this.apps\n        .filter(item => item.isListItem)\n        .map(app => ({ version: versionSelectMap[app.service], service: app.serviceName, slaveId: app.slaveId }));\n      this.spinLoader(true);\n      const donwloadPromise = slaveAppsService\n        .bulkDownloadSlaveApps(payload)\n        .then(() => {\n          this.spinLoader(false);\n          this.fetchDownloadAppState();\n        })\n        .catch(err => {\n          this.spinLoader(false);\n        });\n\n      return donwloadPromise;\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      this.currentView++;\n    },\n    download() {\n      if (!this.$refs.versionForm.validate()) {\n        return;\n      }\n      this.bulkDownloadApps();\n    },\n    install() {\n      const installPayload = this.downloadStates\n        .filter(item => item.isListItem && !item.hasError)\n        .map(app => ({ version: app.version, service: app.serviceName, slaveId: app.slaveId }));\n      this.spinLoader(true);\n      return slaveAppsService\n        .bulkInstallSlaveApps(installPayload)\n        .then(({ successInstalledApps = {}, errorInstalledApps = {} }) => {\n          this.spinLoader(false);\n          this.currentView = 4; // Installation complete\n          this.successInstalledApps = { ...successInstalledApps };\n          this.failureInstallApps = { ...errorInstalledApps };\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          this.$toasted.show('Unexpected error occured while bulk installing apps. Please try again');\n        });\n    },\n    continue() {\n      this.resetDialog();\n    },\n    cancel() {\n      this.fetchDownloadAppState();\n      this.closeDialog();\n    },\n    cancelInstallation() {\n      this.resetDialog();\n    },\n    resetDialog() {\n      this.versionForm = false;\n      this.renderReleaseCount = 0;\n      this.currentView = 1;\n      this.multiStepViewConfig = {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n          loader: false,\n          disabled: true,\n          hasCancel: true,\n          cancelTitle: 'Close',\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n          hasCancel: false,\n        },\n      };\n      this.deleteDownloadState();\n      this.clearSelectedApps();\n      this.closeDialog(true, { unmount: true });\n    },\n  },\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SlaveAppsDownloadMultiStep.vue?vue&type=template&id=45d4b9ed&\"\nimport script from \"./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SlaveAppsDownloadMultiStep.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"white--text mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(\" Slave Apps | \"+_vm._s(_vm.multiStepViewConfig[_vm.currentView].title)+\" \")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"1\"}},[(!_vm.hasSelectedApps)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n            Please select apps from the grid to bulk download.\\n          \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"text-left pb-5\"},[_c('v-subheader',{staticClass:\"mb-n5\"},[_vm._v(\"Selected Apps\")]),_vm._v(\" \"),_c('v-row',{staticClass:\"pa-1\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.apps),function(app,i){return [(app.isHeader)?_c('v-col',{key:(\"selected_apps_header-\" + i),staticClass:\"pl-3 mt-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(app.name))])]):_vm._e(),_vm._v(\" \"),(app.isListItem)?_c('v-col',{key:(\"selected_apps-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"text-ellipses mb-0\"},[_c('tooltip-title',{attrs:{\"title\":((app.slaveDeviceName) + \" \" + (app.version ?  '('+app.version+')' : ''))}})],1),_vm._v(\" \"),_c('p',[_c('app-status-chip',{attrs:{\"chip-size\":\"small\",\"state\":app.state}})],1)])]):_vm._e()]})],2)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-2 pt-5\",attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"versionForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.versionForm),callback:function ($$v) {_vm.versionForm=$$v},expression:\"versionForm\"}},[_c('v-row',{staticClass:\"text-left\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.apps),function(app,i){return [(app.isHeader)?_c('v-col',{key:(\"version-form-header-\" + _vm.renderReleaseCount + \"-\" + i),attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(app.name))])]):_vm._e(),_vm._v(\" \"),(app.isListItem)?_c('v-col',{key:(\"version-form-field-\" + _vm.renderReleaseCount + \"-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"text-ellipses mb-0\"},[_c('tooltip-title',{attrs:{\"title\":((app.slaveDeviceName) + \" \" + (app.version ? '('+app.version+')' : ''))}})],1),_vm._v(\" \"),_c('p',[_c('app-status-chip',{attrs:{\"chip-size\":\"small\",\"state\":app.state}})],1)])]):_vm._e(),_vm._v(\" \"),(app.isVersionSelect)?_c('v-col',{key:(\"version-form-select-\" + _vm.renderReleaseCount + \"-\" + i),attrs:{\"cols\":\"12\"}},[_c('v-combobox',{staticClass:\"ml-5\",attrs:{\"items\":_vm.appVersions[app.name],\"label\":\"Select Release Version\",\"hideSelected\":\"\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(app.model),callback:function ($$v) {_vm.$set(app, \"model\", $$v)},expression:\"app.model\"}})],1):_vm._e()]})],2)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"3\"}},[_c('div',[(_vm.currentDownloadState === 'DOWNLOAD_IN_PROGRESS')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading App(s) \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('div',{staticClass:\"text-left pb-5\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',{staticClass:\"pa-2 mb-n4\"},[_vm._v(\"App Download Statuses\")]),_vm._v(\" \"),_c('v-row',{staticClass:\"text-left\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.downloadStates),function(app,i){return [(app.isHeader)?_c('v-col',{key:(\"download-statuses-header-\" + i),staticClass:\"pl-3 mt-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(app.name))]),_vm._v(\" \"),_c('span',{staticClass:\"white--text font-weight-bold\"},[_vm._v(\"(\"+_vm._s(app.version)+\")\")])]):_vm._e(),_vm._v(\" \"),(app.isListItem)?_c('v-col',{key:(\"download-statuses-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"mb-0 text-ellipses\"},[_c('tooltip-title',{attrs:{\"title\":app.slaveDeviceName}})],1),_vm._v(\" \"),_c('div',[(app.hasError)?_c('span',{staticClass:\"font-weight-medium\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-chip',_vm._g(_vm._b({attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"red\"}},'v-chip',attrs,false),on),[_vm._v(\"Failed\")])]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(app.error))])])],1):(!app.isDownloading && !app.hasError)?_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"yellow\"}},[_vm._v(\"Downloading\")])],1):(app.isDownloading && !app.hasError)?_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"green\"}},[_vm._v(\"Downloaded\")])],1):_vm._e()])])]):_vm._e()]})],2)],1):_vm._e()]),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"4\"}},[(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('div',{staticClass:\"text-left pb-5\"},[(_vm.installationSuccessApps.length > 0)?_c('div',{staticClass:\"text-left pb-5\"},[_c('v-subheader',{staticClass:\"pa-2 mb-n4\"},[_vm._v(\"Installation Completed Apps\")]),_vm._v(\" \"),_c('v-row',{attrs:{\"dense\":\"\"}},[_vm._l((_vm.installationSuccessApps),function(successApps,i){return [(successApps.isHeader)?_c('v-col',{key:(\"install-complete-header-\" + i),staticClass:\"pl-3 mt-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\",attrs:{\"title\":successApps.name}},[_vm._v(_vm._s(successApps.name))]),_vm._v(\" \"),_c('span',{staticClass:\"white--text font-weight-bold\"},[_vm._v(\"(\"+_vm._s(successApps.version)+\")\")])]):_vm._e(),_vm._v(\" \"),(successApps.isListItem)?_c('v-col',{key:(\"install-complete-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"mb-0 text-ellipses\"},[_c('tooltip-title',{attrs:{\"title\":successApps.slaveDeviceName}})],1),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"blue\"}},[_vm._v(\"Installed\")])],1)])])]):_vm._e()]})],2)],1):_vm._e(),_vm._v(\" \"),(_vm.installationFailedApps.length > 0)?_c('div',[_c('v-subheader',[_vm._v(\" Installation Failed Apps\")]),_vm._v(\" \"),_c('v-row',{attrs:{\"dense\":\"\"}},[_vm._l((_vm.installationFailedApps),function(failedApp,i){return [(failedApp.isHeader)?_c('v-col',{key:(\"installation-failed-header-\" + i),staticClass:\"pl-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(failedApp.name))]),_vm._v(\" \"),_c('span',{staticClass:\"white--text font-weight-bold\"},[_vm._v(\"(\"+_vm._s(failedApp.version)+\")\")])]):_vm._e(),_vm._v(\" \"),(failedApp.isListItem)?_c('v-col',{key:(\"install-complete-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"mb-0 text-ellipses\"},[_c('tooltip-title',{attrs:{\"title\":failedApp.slaveDeviceName}})],1),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-chip',_vm._g(_vm._b({attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"red\"}},'v-chip',attrs,false),on),[_vm._v(\"Failed\")])]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(failedApp.error))])])],1)])])]):_vm._e()]})],2)],1):_vm._e()]):_vm._e()])],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader,\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled},on:{\"click\":_vm.next}},[_vm._v(\"\\n        \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n            ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n            : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancelInstallation)?_c('v-btn',{attrs:{\"color\":\"pink\",\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled,\"text\":\"\"},on:{\"click\":_vm.cancelInstallation}},[_vm._v(\"\\n        Cancel Install\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancel)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Close \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"","<template>\n  <v-card>\n    <v-card-title>Control Actions Status Report</v-card-title>\n    <v-card-text>\n      <v-list flat subheader dense class=\"text-left\">\n        <v-subheader>Failed apps</v-subheader>\n        <template v-for=\"(app, i) in faliureApps\">\n          <v-list-item class=\"pl-5\" :key=\"`failed-app-${i}`\">\n            <v-list-item-content>\n              <v-list-item-title\n                class=\"subtitle-2 font-weight-medium\"\n                v-text=\"`${app.displayName} | ${app.device_name} | Action: ${app.action}`\"\n              ></v-list-item-title>\n              <p class=\"body-\">\n                <span>Message: </span> <span :title=\"app.error\" class=\"red--text\">{{ app.error }}</span>\n              </p>\n            </v-list-item-content>\n          </v-list-item>\n        </template>\n      </v-list>\n    </v-card-text>\n  </v-card>\n</template>\n<script>\nexport default {\n  name: 'slave-apps-control-action-report',\n  props: ['controlActionErrorReport', 'closeDialog', 'slaveDevices', 'slaveAppDisplayNameMap'],\n  computed: {\n    successApps() {\n      return this.controlActionErrorReport.success;\n    },\n    faliureApps() {\n      return Object.keys(this.controlActionErrorReport).reduce((acc, serviceKey) => {\n        let failureApps = this.controlActionErrorReport[serviceKey].failure;\n        failureApps = failureApps.map(app => ({\n          ...app,\n          action: (app.action || '').toUpperCase(),\n          displayName: this.slaveAppDisplayNameMap[app.service],\n          ...((this.slaveDevices && this.slaveDevices[app.slaveId]) || {}),\n        }));\n        acc.push(...failureApps);\n        return acc;\n      }, []);\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./SlaveAppsControlActionReport.vue?vue&type=template&id=3b2c2226&\"\nimport script from \"./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"Control Actions Status Report\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Failed apps\")]),_vm._v(\" \"),_vm._l((_vm.faliureApps),function(app,i){return [_c('v-list-item',{key:(\"failed-app-\" + i),staticClass:\"pl-5\"},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"subtitle-2 font-weight-medium\",domProps:{\"textContent\":_vm._s(((app.displayName) + \" | \" + (app.device_name) + \" | Action: \" + (app.action)))}}),_vm._v(\" \"),_c('p',{staticClass:\"body-\"},[_c('span',[_vm._v(\"Message: \")]),_vm._v(\" \"),_c('span',{staticClass:\"red--text\",attrs:{\"title\":app.error}},[_vm._v(_vm._s(app.error))])])],1)],1)]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isLoadingSlaveApps || isFetchingAppData\">\n    <v-toolbar flat>\n      <v-toolbar-title>\n        <span>Master Slave Apps</span>\n        <tooltip-icon-button\n          btnColor=\"default\"\n          btnIcon=\"mdi-sync\"\n          btnTooltip=\"Refresh master view\"\n          buttonSize=\"medium\"\n          :onClick=\"() => initialize()\"\n        >\n        </tooltip-icon-button>\n      </v-toolbar-title>\n      <v-text-field\n        v-model=\"searchText\"\n        class=\"pl-10\"\n        append-icon=\"mdi-magnify\"\n        label=\"Search using site or device name\"\n        single-line\n        hide-details\n      ></v-text-field>\n      <v-menu bottom left>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn dark icon v-bind=\"attrs\" v-on=\"on\">\n            <v-icon :color=\"appliedFilterCount > 0 ? 'blue' : 'white'\">mdi-filter</v-icon>\n          </v-btn>\n        </template>\n\n        <v-list dense>\n          <v-subheader>Filters</v-subheader>\n\n          <v-list-item>\n            <v-list-item-title>\n              <v-checkbox class=\"mt-0\" hide-details v-model=\"filters.isInstalled\" label=\"Installed Apps\"></v-checkbox>\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n\n      <v-spacer></v-spacer>\n      <v-btn\n        v-if=\"!!currentDownloadState\"\n        @click=\"() => (isClearDialog = true)\"\n        x-medium\n        color=\"default\"\n        class=\"white--text ml-3\"\n      >\n        <span>Clear Update</span>\n        <v-icon x-medium right dark> mdi-cellphone-erase </v-icon>\n      </v-btn>\n      <v-btn @click=\"onBulkUpdate\" x-medium color=\"pink\" class=\"white--text\">\n        <v-progress-circular\n          v-if=\"showDownloadProgressIcon\"\n          :width=\"2\"\n          :size=\"15\"\n          color=\"white\"\n          indeterminate\n        ></v-progress-circular>\n        <v-icon v-if=\"showCheckDownloadIcon\" x-medium dark> mdi-check</v-icon>\n        <span class=\"pl-2\">Bulk Update</span>\n        <v-icon x-medium right dark> mdi-cellphone-arrow-down </v-icon>\n      </v-btn>\n    </v-toolbar>\n    <v-spacer></v-spacer>\n    <v-card-text>\n      <v-container fluid>\n        <v-row no-gutter>\n          <v-col cols=\"3\">\n            <p class=\"mb-0 text-left\" v-if=\"selectedServicesCount > 0\">\n              <span class=\"grey-text font-weight-medium caption\">Selected Apps: </span>\n              <span class=\"font-weight-medium white--text\">{{ selectedServicesCount }}</span>\n            </p>\n          </v-col>\n          <v-col cols=\"6\">\n            <icon-button\n              :key=\"buttonConfig.name\"\n              v-for=\"buttonConfig in actionButtons\"\n              btn-size=\"small\"\n              :disabled=\"\n                selectedServicesCount == 0 || (currentControlAction && currentControlAction !== buttonConfig.action)\n              \"\n              :on-click=\"() => handleControlAction(buttonConfig.action)\"\n              :button-title=\"buttonConfig.title\"\n              :loading=\"currentControlAction && currentControlAction == buttonConfig.action && isControlActionPending\"\n              :icon-key=\"buttonConfig.iconKey\"\n              :color=\"buttonConfig.color\"\n            ></icon-button>\n          </v-col>\n          <v-col cols=\"3\"></v-col>\n        </v-row>\n        <v-row no-gutter>\n          <v-col cols=\"12\" lg=\"12\" xl=\"12\" md=\"12\" sm=\"12\" xs=\"12\" v-for=\"slaveApps in slaveAppsDetail\" :key=\"slaveApps.name\">\n            <slave-app-grid\n              :slave-devices=\"slaveDevices\"\n              :search-text=\"searchText\"\n              :filters=\"filters\"\n              :app-versions=\"selectedAppVersion\"\n              :onSelectItem=\"onSelectItem\"\n              :key=\"`${recompute}-${slaveApps.name}`\"\n              :selected-item=\"selectedItems[slaveApps.name]\"\n              :slave-apps=\"slaveApps\"\n            ></slave-app-grid>\n          </v-col>\n        </v-row>\n      </v-container>\n      <v-row v-if=\"isLoadingSlaveApps\">\n        <v-col cols=\"12\" v-if=\"isLoadingSlaveApps\">\n          <v-skeleton-loader type=\"table-heading, list-item-one-line, image\"></v-skeleton-loader>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"isLoadingSlaveApps\">\n          <v-skeleton-loader type=\"table-heading, list-item-one-line, image\"></v-skeleton-loader>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"isLoadingSlaveApps\">\n          <v-skeleton-loader type=\"table-heading, list-item-one-line, image\"></v-skeleton-loader>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"isLoadingSlaveApps\">\n          <v-skeleton-loader type=\"table-heading, list-item-one-line, image\"></v-skeleton-loader>\n        </v-col>\n      </v-row>\n\n      <v-col cols=\"12\" class=\"text-left\" v-if=\"isFetchAppfailure\">\n        <v-alert v-if=\"fetchErrorMessage\" class=\"mb-0 text-left\" dense outlined type=\"error\">\n          {{ fetchErrorMessage }}\n        </v-alert>\n        <v-btn color=\"primary\" class=\"mt-10\" @click=\"retryFetchApps\">Click here to retry</v-btn>\n      </v-col>\n    </v-card-text>\n    <v-dialog persistent v-model=\"dialog[dialogNames.bulkUpdate]\" max-width=\"600px\">\n      <slave-apps-download-multi-step\n        :app-versions=\"selectedAppVersion\"\n        :slave-devices=\"slaveDevices\"\n        :close-dialog=\"() => closeDialog(dialogNames.bulkUpdate)\"\n        :selected-apps=\"selectedItems\"\n        :clear-selected-apps=\"clearSelectedApps\"\n        :delete-download-state=\"deleteDownloadState\"\n        :current-download-state=\"currentDownloadState\"\n        :slave-apps-download-states=\"slaveAppsDownloadStates\"\n        :fetch-download-app-state=\"fetchDownloadAppState\"\n        :clear-download-app-state-interval=\"clearDownloadAppStateInterval\"\n      ></slave-apps-download-multi-step>\n    </v-dialog>\n    <v-dialog v-model=\"dialog[dialogNames.controlActionErrorReport]\" max-width=\"600px\">\n      <slave-apps-control-action-report\n        :slave-devices=\"slaveDevices\"\n        :slave-app-display-name-map=\"slaveAppDisplayNameMap\"\n        :close-dialog=\"\n          () => {\n            dialog[dialogNames.controlActionErrorReport] = false;\n          }\n        \"\n        :control-action-error-report=\"controlActionErrorReport\"\n      ></slave-apps-control-action-report>\n    </v-dialog>\n    <confirm-dialog\n      :is-open=\"isClearDialog\"\n      :on-close=\"() => (isClearDialog = false)\"\n      :on-confirm=\"onClearDownload\"\n      dialog-text=\"All progress will be lost. Are you sure?\"\n    ></confirm-dialog>\n  </v-card>\n</template>\n<script>\nimport PageTitle from '../Common/PageTitle';\nimport SlaveAppGrid from './SlaveAppGrid';\nimport ConfirmDialog from '../Common/ConfirmDialog';\nimport * as slaveAppsUiService from '../../services/slaveAppsUiService';\nimport SlaveAppsDownloadMultiStep from './SlaveAppsDownloadMultiStep';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport SlaveAppsControlActionReport from './SlaveAppsControlActionReport';\nimport * as slaveDeviceService from '../../services/slaveDevicesService';\nimport IconButton from '../Services/IconButton';\nimport TooltipIconButton from './TooltipIconButton.vue';\n\nimport { APP_DOWNLOAD_STATUSES, RUBIX_APP_STATUS_CONTROL_ACTIONS } from '../../constants/appConstant';\n\nconst controlActionErrorStates = {\n  success: 'success',\n  failure: 'failure',\n  partial: 'partial',\n};\nconst controlMessageStatesMap = {\n  success: {\n    type: 'success',\n    duration: 1000,\n    message: action => `Sucessfully applied action '${action}' all apps.`,\n  },\n  failure: {\n    type: 'error',\n    duration: 10000,\n    message: action => `Failed to apply action '${action}' to all apps.`,\n  },\n  partial: {\n    type: 'info',\n    duration: 10000,\n    message: action => `Partially applied action '${action}' to all apps.`,\n  },\n};\nexport default {\n  name: 'slave-apps',\n  components: {\n    PageTitle,\n    IconButton,\n    SlaveAppGrid,\n    SlaveAppsDownloadMultiStep,\n    ConfirmDialog,\n    SlaveAppsControlActionReport,\n    TooltipIconButton,\n  },\n  data() {\n    const dialogNames = {\n      bulkUpdate: 'bulkUpdate',\n      controlActionErrorReport: 'controlActionErrorReport',\n    };\n    const btnNames = {\n      controlErrorState: null,\n      startBtn: 'startBtn',\n      restartBtn: 'restartBtn',\n      stopBtn: 'stopBtn',\n      enableBtn: 'enableBtn',\n      disableBtn: 'disableBtn',\n    };\n    const btnConfig = {\n      [btnNames.startBtn]: {\n        name: btnNames.startBtn,\n        title: 'Start',\n        color: 'light-blue darken-2',\n        iconKey: 'mdi-play-circle-outline',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.START,\n      },\n      [btnNames.restartBtn]: {\n        name: btnNames.restartBtn,\n        title: 'Restart',\n        color: 'light-green darken-2',\n        iconKey: 'mdi-restart',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART,\n      },\n      [btnNames.stopBtn]: {\n        name: btnNames.stopBtn,\n        title: 'Stop',\n        iconKey: 'mdi-stop-circle-outline',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP,\n      },\n      [btnNames.enableBtn]: {\n        name: btnNames.enableBtn,\n        title: 'Enable',\n        color: 'teal darken-2',\n        iconKey: 'mdi-check-circle-outline',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.ENABLE,\n      },\n      [btnNames.disableBtn]: {\n        name: btnNames.disableBtn,\n        title: 'Disable',\n        color: 'orange darken-2',\n        iconKey: 'mdi-close-octagon',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.DISABLE,\n      },\n    };\n    const actionBtnKeys = [\n      btnNames.startBtn,\n      btnNames.stopBtn,\n      btnNames.restartBtn,\n      btnNames.enableBtn,\n      btnNames.disableBtn,\n    ];\n\n    return {\n      recompute: 0,\n      filters: {\n        isInstalled: false,\n      },\n      slaveAppDisplayNameMap: {},\n      currentControlAction: null,\n      isControlActionPending: false,\n      statusControlErrors: [],\n      isFetchAppfailure: false,\n      isClearDialog: false,\n      isLoadingSlaveApps: false,\n      slaveAppsOnceLoaded: false,\n      controlActionState: null,\n      controlActionErrorReport: {},\n      slaveReleaseList: null,\n      fetchErrorMessage: '',\n      searchText: '',\n      isFetchingAppData: false,\n      refreshTime: 5000,\n      isDeletingDownloadState: false,\n      currentDownloadState: null,\n      slaveAppsDetailMap: {},\n      slaveAppsDetail: [],\n      selectedItems: {},\n      appVersions: {},\n      selectedAppVersion: {},\n      slaveAppReleases: {},\n      fetchDownloadAppStateInterval: null,\n      slaveDevices: {},\n      slaveAppsDownloadStates: {},\n      dialogNames,\n      dialog: {\n        [dialogNames.bulkUpdate]: false,\n        [dialogNames.controlActionErrorReport]: false,\n      },\n      actionButtons: actionBtnKeys.map(key => btnConfig[key]),\n      remountDialog: {\n        [dialogNames.bulkUpdate]: true,\n      },\n    };\n  },\n  mounted() {\n    this.initialize();\n  },\n  destroyed() {\n    this.fetchDownloadAppStateInterval = null;\n  },\n  computed: {\n    showCheckDownloadIcon() {\n      return this.currentDownloadState === APP_DOWNLOAD_STATUSES.DOWNLOAD_COMPLETE;\n    },\n    showDownloadProgressIcon() {\n      return this.currentDownloadState === APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS;\n    },\n    selectedServicesCount() {\n      return Object.keys(this.selectedItems).reduce((acc, curr) => {\n        acc += this.selectedItems[curr].length;\n        return acc;\n      }, 0);\n    },\n    appliedFilterCount() {\n      return Object.keys(this.filters).reduce((acc, filterKey) => {\n        if (this.filters[filterKey]) {\n          acc++;\n        }\n        return acc;\n      }, 0);\n    },\n  },\n  methods: {\n    retryFetchApps() {\n      this.fetchErrorMessage = '';\n      this.isFetchAppfailure = false;\n      this.initialize();\n    },\n    async initialize() {\n      this.isFetchingAppData = true;\n      await Promise.all([this.fetchSlaveApps(true), this.fetchSlaveDevices()]).finally(() => {\n        this.isFetchingAppData = false;\n        this.recompute++;\n      });\n    },\n    openDialog(dialogName) {\n      this.dialog[dialogName] = true;\n    },\n    toggleDialog(dialogName, item) {\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    fetchSlaveApps(fetchAppReleases = false) {\n      if (!this.slaveAppsOnceLoaded) {\n        this.isLoadingSlaveApps = true;\n      }\n      return slaveAppsService\n        .fetch()\n        .then(({ data = {} }) => {\n          this.slaveAppsDetailMap = data;\n          this.slaveAppDisplayNameMap = Object.keys(data).reduce((acc, key) => {\n            acc[key] = data[key] ? data[key].display_name : key;\n            return acc;\n          }, {});\n          this.slaveAppsDetail = Object.keys(data).map(slaveAppKey => data[slaveAppKey]);\n          this.selectedItems = Object.keys(data).reduce((acc, curr) => {\n            acc[curr] = [];\n            return acc;\n          }, {});\n          this.slaveAppsOnceLoaded = true;\n          if (fetchAppReleases) {\n            this.fetchSlaveAppReleases();\n          }\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.$toasted.show(err.message, { type: 'error' });\n            this.fetchErrorMessage = err.message;\n          }\n          this.isFetchAppfailure = true;\n        })\n        .finally(() => {\n          this.isLoadingSlaveApps = false;\n        });\n    },\n    onSelectItem(serviceName, items) {\n      this.selectedItems[serviceName] = items;\n      // Recompute here\n      this.selectedAppVersion = slaveAppsUiService.slaveReleaseList({\n        releaseMap: this.appVersions,\n        selectedItems: this.selectedItems,\n      });\n    },\n    fetchSlaveDevices() {\n      return slaveDeviceService\n        .fetch()\n        .then(slaveDevices => {\n          this.slaveDevices = slaveDevices;\n          this.fetchDownloadAppState();\n        })\n        .catch(err => {\n          // this.$toasted.show('Error fetching slave devices', { type: 'error' });\n        });\n    },\n    fetchSlaveAppReleases() {\n      const serviceNames = Object.keys(this.slaveAppsDetailMap);\n\n      if (!serviceNames.length) {\n        return null;\n      }\n\n      return slaveAppsService\n        .fetchAppsReleases(serviceNames)\n        .then(appVersions => {\n          this.appVersions = serviceNames.reduce((acc, serviceName, index) => {\n            acc[serviceName] = appVersions[index];\n            return acc;\n          }, {});\n        })\n        .catch(err => {\n          this.$toasted.show('Error fetching app releases');\n        });\n    },\n    onBulkUpdate() {\n      this.dialog[this.dialogNames.bulkUpdate] = true;\n    },\n    closeDialog(dialogName) {\n      this.dialog[dialogName] = false;\n    },\n    startDownloadStateInterval() {\n      if (!this.fetchDownloadAppStateInterval) {\n        this.fetchDownloadAppStateInterval = setInterval(() => {\n          this.fetchDownloadAppState();\n        }, this.refreshTime);\n      }\n    },\n    clearDownloadAppStateInterval() {\n      clearInterval(this.fetchDownloadAppStateInterval);\n      this.fetchDownloadAppStateInterval = null;\n    },\n    deleteDownloadState() {\n      this.isDeletingDownloadState = true;\n      const slaveUUIDs = Object.keys(this.slaveDevices);\n      if (!(slaveUUIDs && slaveUUIDs.length > 0)) {\n        return null;\n      }\n      return slaveAppsService.clearDownloadState(slaveUUIDs).finally(() => {\n        this.fetchDownloadAppState();\n        this.clearDownloadAppStateInterval();\n        this.isDeletingDownloadState = false;\n      });\n    },\n    fetchDownloadAppState() {\n      const slaveUUIDs = Object.keys(this.slaveDevices);\n      if (!(slaveUUIDs && slaveUUIDs.length > 0)) {\n        return null;\n      }\n      return slaveAppsService\n        .fetchDownloadState()\n        .then(({ data: slaveAppsDownloadStates, globalState: downloadState }) => {\n          switch (downloadState) {\n            case 'DOWNLOADING':\n              this.currentDownloadState = APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS;\n              // this.isBulkDownloadAppPersistent = false;\n            if (!this.fetchDownloadAppStateInterval) {\n                this.startDownloadStateInterval();\n              }\n              break;\n            case 'CLEARED':\n              this.currentDownloadState = null;\n              this.clearDownloadAppStateInterval();\n              break;\n            case 'DOWNLOADED':\n              this.currentDownloadState = APP_DOWNLOAD_STATUSES.DOWNLOAD_COMPLETE;\n              // this.isBulkDownloadAppPersistent = true;\n              this.clearDownloadAppStateInterval();\n              break;\n          }\n          this.slaveAppsDownloadStates = slaveAppsDownloadStates;\n          Object.keys(this.slaveAppsDownloadStates).forEach(serviceName => {\n            this.slaveAppsDownloadStates[serviceName].dataItems = this.slaveAppsDownloadStates[\n              serviceName\n            ].dataItems.map(data => this.appendSlaveDevice(data));\n          });\n          return slaveAppsDownloadStates;\n        })\n        .catch(err => {});\n    },\n    clearSelectedApps() {\n      this.slaveAppsDownloadStates = {};\n      this.selectedItems = {};\n      this.recompute++;\n      this.fetchSlaveApps();\n    },\n    appendSlaveDevice(data) {\n      let newData = { ...data };\n      const slaveDevice = this.slaveDevices[data.slaveId];\n      if (slaveDevice) {\n        newData = {\n          ...newData,\n          ...Object.keys(slaveDevice).reduce((acc, curr) => {\n            const key = 'slave_' + curr;\n            acc[key] = slaveDevice[curr];\n            return acc;\n          }, {}),\n        };\n      }\n      return newData;\n    },\n    onClearDownload() {\n      this.clearSelectedApps();\n      this.deleteDownloadState().finally(() => {\n        this.isClearDialog = false;\n      });\n    },\n    getControlErrorReport(data) {\n      return Object.keys(data).reduce((acc, key) => {\n        if (!acc[key]) {\n          acc[key] = {\n            success: [],\n            failure: [],\n          };\n        }\n        const dataItems = data[key].dataItems;\n        acc[key].success = dataItems.filter(item => !item.error);\n        acc[key].failure = dataItems.filter(item => item.error);\n        return acc;\n      }, {});\n    },\n    getControlActionState(errReport) {\n      const errStates = Object.keys(errReport).reduce((acc, serviceKey) => {\n        const success = errReport[serviceKey].success;\n        const failure = errReport[serviceKey].failure;\n        if (failure.length == 0) {\n          acc.push(controlActionErrorStates.success);\n        } else if (failure.length > 0 && success.length !== 0) {\n          acc.push(controlActionErrorStates.partial);\n        } else {\n          acc.push(controlActionErrorStates.failure);\n        }\n        return acc;\n      }, []);\n\n      if (errStates.every(item => item === controlActionErrorStates.success)) {\n        return controlActionErrorStates.success;\n      } else if (errStates.every(item => item === controlActionErrorStates.failure)) {\n        return controlActionErrorStates.failure;\n      } else {\n        return controlActionErrorStates.partial;\n      }\n    },\n    openErrorReportDialog() {\n      this.dialog[this.dialogNames.controlActionErrorReport] = true;\n    },\n    getToastMessageAction(status) {\n      const actions = [];\n      if (status === controlActionErrorStates.failure || status === controlActionErrorStates.partial) {\n        actions.push({\n          text: 'Click here to see Error Report.',\n          onClick: (e, toastObject) => this.openErrorReportDialog(e, toastObject, status),\n        });\n      }\n      return actions;\n    },\n    handleControlAction(action) {\n      this.currentControlAction = action;\n      this.isControlActionPending = true;\n      const apps = Object.keys(this.selectedItems).reduce((acc, serviceKey) => {\n        if (this.selectedItems[serviceKey] && this.selectedItems[serviceKey].length > 0) {\n          acc.push(...this.selectedItems[serviceKey]);\n        }\n        return acc;\n      }, []);\n      return slaveAppsService\n        .bulkControlApps(apps, action)\n        .then(({ data }) => {\n          const errorReport = this.getControlErrorReport(data);\n          const controlActionState = this.getControlActionState(errorReport);\n          const controlActionMessage = controlMessageStatesMap[controlActionState];\n          this.$toasted.show(controlActionMessage.message(action), {\n            type: controlActionMessage.type,\n            duration: controlActionMessage.duration,\n            action: this.getToastMessageAction(controlActionState),\n          });\n          this.controlActionErrorReport = errorReport;\n          this.clearSelectedApps();\n        })\n        .catch(err => {})\n        .finally(() => {\n          this.currentControlAction = null;\n          this.isControlActionPending = false;\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveApps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveApps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SlaveApps.vue?vue&type=template&id=82ae7bc8&\"\nimport script from \"./SlaveApps.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveApps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isLoadingSlaveApps || _vm.isFetchingAppData}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_c('span',[_vm._v(\"Master Slave Apps\")]),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"default\",\"btnIcon\":\"mdi-sync\",\"btnTooltip\":\"Refresh master view\",\"buttonSize\":\"medium\",\"onClick\":function () { return _vm.initialize(); }}})],1),_vm._v(\" \"),_c('v-text-field',{staticClass:\"pl-10\",attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search using site or device name\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_vm._v(\" \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"color\":_vm.appliedFilterCount > 0 ? 'blue' : 'white'}},[_vm._v(\"mdi-filter\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Filters\")]),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-title',[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Installed Apps\"},model:{value:(_vm.filters.isInstalled),callback:function ($$v) {_vm.$set(_vm.filters, \"isInstalled\", $$v)},expression:\"filters.isInstalled\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),(!!_vm.currentDownloadState)?_c('v-btn',{staticClass:\"white--text ml-3\",attrs:{\"x-medium\":\"\",\"color\":\"default\"},on:{\"click\":function () { return (_vm.isClearDialog = true); }}},[_c('span',[_vm._v(\"Clear Update\")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"x-medium\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-cellphone-erase \")])],1):_vm._e(),_vm._v(\" \"),_c('v-btn',{staticClass:\"white--text\",attrs:{\"x-medium\":\"\",\"color\":\"pink\"},on:{\"click\":_vm.onBulkUpdate}},[(_vm.showDownloadProgressIcon)?_c('v-progress-circular',{attrs:{\"width\":2,\"size\":15,\"color\":\"white\",\"indeterminate\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.showCheckDownloadIcon)?_c('v-icon',{attrs:{\"x-medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-check\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"pl-2\"},[_vm._v(\"Bulk Update\")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"x-medium\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-cellphone-arrow-down \")])],1)],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-card-text',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"no-gutter\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"3\"}},[(_vm.selectedServicesCount > 0)?_c('p',{staticClass:\"mb-0 text-left\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Selected Apps: \")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium white--text\"},[_vm._v(_vm._s(_vm.selectedServicesCount))])]):_vm._e()]),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"6\"}},_vm._l((_vm.actionButtons),function(buttonConfig){return _c('icon-button',{key:buttonConfig.name,attrs:{\"btn-size\":\"small\",\"disabled\":_vm.selectedServicesCount == 0 || (_vm.currentControlAction && _vm.currentControlAction !== buttonConfig.action),\"on-click\":function () { return _vm.handleControlAction(buttonConfig.action); },\"button-title\":buttonConfig.title,\"loading\":_vm.currentControlAction && _vm.currentControlAction == buttonConfig.action && _vm.isControlActionPending,\"icon-key\":buttonConfig.iconKey,\"color\":buttonConfig.color}})}),1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"3\"}})],1),_vm._v(\" \"),_c('v-row',{attrs:{\"no-gutter\":\"\"}},_vm._l((_vm.slaveAppsDetail),function(slaveApps){return _c('v-col',{key:slaveApps.name,attrs:{\"cols\":\"12\",\"lg\":\"12\",\"xl\":\"12\",\"md\":\"12\",\"sm\":\"12\",\"xs\":\"12\"}},[_c('slave-app-grid',{key:(_vm.recompute + \"-\" + (slaveApps.name)),attrs:{\"slave-devices\":_vm.slaveDevices,\"search-text\":_vm.searchText,\"filters\":_vm.filters,\"app-versions\":_vm.selectedAppVersion,\"onSelectItem\":_vm.onSelectItem,\"selected-item\":_vm.selectedItems[slaveApps.name],\"slave-apps\":slaveApps}})],1)}),1)],1),_vm._v(\" \"),(_vm.isLoadingSlaveApps)?_c('v-row',[(_vm.isLoadingSlaveApps)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, list-item-one-line, image\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.isLoadingSlaveApps)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, list-item-one-line, image\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.isLoadingSlaveApps)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, list-item-one-line, image\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.isLoadingSlaveApps)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, list-item-one-line, image\"}})],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.isFetchAppfailure)?_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[(_vm.fetchErrorMessage)?_c('v-alert',{staticClass:\"mb-0 text-left\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.fetchErrorMessage)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{staticClass:\"mt-10\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.retryFetchApps}},[_vm._v(\"Click here to retry\")])],1):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog[_vm.dialogNames.bulkUpdate]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.bulkUpdate, $$v)},expression:\"dialog[dialogNames.bulkUpdate]\"}},[_c('slave-apps-download-multi-step',{attrs:{\"app-versions\":_vm.selectedAppVersion,\"slave-devices\":_vm.slaveDevices,\"close-dialog\":function () { return _vm.closeDialog(_vm.dialogNames.bulkUpdate); },\"selected-apps\":_vm.selectedItems,\"clear-selected-apps\":_vm.clearSelectedApps,\"delete-download-state\":_vm.deleteDownloadState,\"current-download-state\":_vm.currentDownloadState,\"slave-apps-download-states\":_vm.slaveAppsDownloadStates,\"fetch-download-app-state\":_vm.fetchDownloadAppState,\"clear-download-app-state-interval\":_vm.clearDownloadAppStateInterval}})],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"600px\"},model:{value:(_vm.dialog[_vm.dialogNames.controlActionErrorReport]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.controlActionErrorReport, $$v)},expression:\"dialog[dialogNames.controlActionErrorReport]\"}},[_c('slave-apps-control-action-report',{attrs:{\"slave-devices\":_vm.slaveDevices,\"slave-app-display-name-map\":_vm.slaveAppDisplayNameMap,\"close-dialog\":function () {\n          _vm.dialog[_vm.dialogNames.controlActionErrorReport] = false;\n        },\"control-action-error-report\":_vm.controlActionErrorReport}})],1),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.isClearDialog,\"on-close\":function () { return (_vm.isClearDialog = false); },\"on-confirm\":_vm.onClearDownload,\"dialog-text\":\"All progress will be lost. Are you sure?\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RubixApps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RubixApps.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <page-title title=\"Rubix Apps\"></page-title>\n    <div v-if=\"isMaster\">\n      <v-row align=\"center\" justify=\"center\">\n        <v-btn-toggle v-model=\"toggleMasterSlave\" rounded>\n          <v-btn small :value=\"1\"> Master View </v-btn>\n          <v-btn small :value=\"2\"> Slave View </v-btn>\n        </v-btn-toggle>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\" v-if=\"!isMqttRestBridgeConfigLoaded && isFetchingMRBConfig\">\n          <v-skeleton-loader type=\"table-heading, list-item-two-line, image, table-tfoot\"></v-skeleton-loader>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"!isFetchingMRBConfig && isMqttRestBridgeConfigLoaded && toggleMasterSlave == 2\">\n          <apps-grid></apps-grid>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"!isFetchingMRBConfig && isMqttRestBridgeConfigLoaded && toggleMasterSlave == 1\">\n          <slave-apps></slave-apps>\n        </v-col>\n      </v-row>\n    </div>\n    <div v-else>\n      <v-col cols=\"12\" v-if=\"isFetchingMRBConfig\">\n        <v-skeleton-loader type=\"table-heading, image, image, image, table-tfoot\"></v-skeleton-loader>\n      </v-col>\n      <v-col cols=\"12\" v-if=\"!isFetchingMRBConfig && isMqttRestBridgeConfigLoaded\">\n        <apps-grid></apps-grid>\n      </v-col>\n    </div>\n  </div>\n</template>\n<script>\nimport AppsGrid from './AppsGrid';\nimport SlaveApps from './SlaveApps';\nimport * as mqttRestBridgeService from '../../services/mqttRestBridgeService';\nimport PageTitle from '../Common/PageTitle.vue';\nconst MASTER_VIEW = 1;\nconst SLAVE_VIEW = 2;\nexport default {\n  name: 'rubix-apps',\n  data() {\n    return {\n      toggleMasterSlave: MASTER_VIEW,\n      isFetchingMRBConfig: false,\n    };\n  },\n  components: {\n    AppsGrid,\n    PageTitle,\n    SlaveApps,\n  },\n  mounted() {\n    this.isFetchingMRBConfig = true;\n    mqttRestBridgeService\n      .fetchMRBListener()\n      .then(data => {\n        this.$store.commit('changeMqttRestBridgeConfig', data);\n      })\n      .finally(() => {\n        this.isFetchingMRBConfig = false;\n      });\n  },\n  computed: {\n    isMqttRestBridgeConfigLoaded() {\n      return Object.keys(this.$store.state.mqttRestBridgeConfig || {}).length > 0;\n    },\n    isMaster() {\n      return this.$store.state.isMaster;\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./RubixApps.vue?vue&type=template&id=6ddbc21a&\"\nimport script from \"./RubixApps.vue?vue&type=script&lang=js&\"\nexport * from \"./RubixApps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\n\nconst endpoint = '/slave-devices';\n\nexport const create = slave => {\n  const body = {\n    global_uuid: slave.global_uuid,\n  };\n  return http.post(endpoint, body);\n};\n\nexport const bulkCreate = slaves => {\n  return Promise.all(slaves.map(slave => create(slave)));\n};\n\nexport const fetch = () => {\n  return http.get(endpoint);\n};\n\nexport const discoverDevices = () => {\n  return http.get(`${endpoint}/discover`);\n};\n\nexport const remove = slave => {\n  const globalUUID = slave.global_uuid\n  return http.delete(`${endpoint}/${globalUUID}`);\n};\n\nexport const bulkRemove = slaves => {\n  return Promise.all(slaves.map(slave => remove(slave)));\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{ref:\"copyClipboard\"},[_c('v-btn',{staticClass:\"white-text\",attrs:{\"x-small\":\"\",\"color\":\"#009688\"},on:{\"click\":function () { return _vm.onCopy(_vm.copyToClipboard); }}},[_c('span',[_vm._v(\"Copy  \")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-export\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"","<template>\n  <span ref=\"copyClipboard\">\n    <v-btn @click=\"() => onCopy(copyToClipboard)\" x-small color=\"#009688\" class=\"white-text\">\n      <span>Copy &nbsp;</span>\n      <v-icon small>mdi-export</v-icon>\n    </v-btn>\n  </span>\n</template>\n<script>\nexport default {\n  props: ['on-copy'],\n  methods: {\n    copyToClipboard(message) {\n      this.$copyText(message, this.$refs.copyClipboard).then(\n        () => {\n          this.$toasted.show('Copied to clipboard!', { type: 'success' });\n        },\n        () => {\n          this.$toasted.show('Cannot copy to clipboard.', { type: 'error' });\n        },\n      );\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./CopyClipboard.vue?vue&type=template&id=16b1a201&\"\nimport script from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\nexport * from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.btnSize == 'small')?_c('v-btn',{staticClass:\"pa-2\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.disabled,\"color\":_vm.color,\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.onClick}},[_c('v-icon',[_vm._v(_vm._s(_vm.iconKey))]),_vm._v(\" \"),(_vm.buttonTitle)?_c('span',[_vm._v(\" \"+_vm._s(_vm.buttonTitle))]):_vm._e()],1):_c('v-btn',{staticClass:\"pa-2\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.disabled,\"color\":_vm.color,\"x-small\":\"\",\"text\":\"\"},on:{\"click\":_vm.onClick}},[_c('v-icon',[_vm._v(_vm._s(_vm.iconKey))]),_vm._v(\" \"),(_vm.buttonTitle)?_c('span',[_vm._v(\" \"+_vm._s(_vm.buttonTitle))]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconButton.vue?vue&type=script&lang=js&\"","<template>\n  <span>\n    <v-btn :loading=\"loading\" v-if=\"btnSize == 'small'\" :disabled=\"disabled\" @click=\"onClick\" :color=\"color\" small class=\"pa-2\" text>\n      <v-icon>{{ iconKey }}</v-icon>\n      <span v-if=\"buttonTitle\">&nbsp;{{ buttonTitle }}</span>\n    </v-btn>\n    <v-btn :loading=\"loading\" v-else @click=\"onClick\" :disabled=\"disabled\" :color=\"color\" x-small class=\"pa-2\" text>\n      <v-icon>{{ iconKey }}</v-icon>\n      <span v-if=\"buttonTitle\">&nbsp;{{ buttonTitle }}</span>\n    </v-btn>\n  </span>\n</template>\n<script>\nexport default {\n  name: 'icon-button',\n  props: ['icon-key', 'on-click', 'button-title', 'color', 'btnSize', 'disabled', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./IconButton.vue?vue&type=template&id=1f24e004&\"\nimport script from \"./IconButton.vue?vue&type=script&lang=js&\"\nexport * from \"./IconButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"mr-6\"},[_vm._v(_vm._s(_vm.toolbarTitle))]),_vm._v(\" \"),(_vm.onCopy)?_c('copy-clipboard',{staticClass:\"mr-2\",attrs:{\"on-copy\":_vm.onCopy}}):_vm._e(),_vm._v(\" \"),(_vm.items && _vm.items.length > 0 && !_vm.hideExportData)?_c('export-data',{attrs:{\"data\":_vm.items,\"file-name\":_vm.fileName,\"format-data-service\":_vm.formatDataService}}):_vm._e(),_vm._v(\" \"),(!!_vm.receiveDataRows)?_c('import-dialog',{attrs:{\"receiveDataRows\":_vm.receiveDataRows}}):_vm._e(),_vm._v(\" \"),(!!_vm.onDelete)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"disabled\":!_vm.isDeleteEnabled,\"x-small\":\"\",\"color\":\"error\"},on:{\"click\":_vm.onDelete}},[_vm._v(\"\\n    Delete\\n    \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e(),_vm._v(\" \"),_vm._t(\"customAction\"),_vm._v(\" \"),_vm._t(\"search\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <v-menu offset-y>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn x-small color=\"primary\" class=\"white--text mr-2\" v-bind=\"attrs\" v-on=\"on\"\n          >Import<v-icon x-small right dark>mdi-import</v-icon></v-btn\n        >\n      </template>\n      <v-list>\n        <v-list-item link>\n          <v-list-item-title\n            @click=\"\n              dialogImportJSON = true;\n              dataImport = '';\n            \"\n            >Json</v-list-item-title\n          >\n        </v-list-item>\n        <v-list-item link>\n          <v-list-item-title\n            @click=\"\n              dialogImportExcel = true;\n              file = null;\n            \"\n            >Excel</v-list-item-title\n          >\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <v-dialog v-model=\"dialogImportExcel\" width=\"500px\">\n      <v-card>\n        <v-card-title>Choose excel file</v-card-title>\n        <v-card-text>\n          <v-file-input outlined dense label=\"File input\" v-model=\"file\" accept=\".xls,.xlsx\"></v-file-input>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"darken-1\" text @click=\"dialogImportExcel = false\">Close</v-btn>\n          <v-btn color=\"primary darken-1\" text @click=\"importFile\" :disabled=\"!file\">Import</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"dialogImportJSON\" width=\"500px\">\n      <v-card>\n        <v-card-title>Import via JSON</v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-textarea outlined name=\"input-7-4\" label=\"import data\" v-model=\"dataImport\"></v-textarea>\n          </v-container>\n        </v-card-text>\n      </v-card>\n      <v-card-actions>\n        <v-btn color=\"primary darken-1\" text @click=\"importJson\" :disabled=\"!dataImport\">Import</v-btn>\n      </v-card-actions>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport * as xlsx from 'xlsx';\nexport default {\n  name: 'import-dialog',\n  props: ['receiveDataRows'],\n  data() {\n    return {\n      file: null,\n      dialogImportExcel: false,\n      dialogImportJSON: false,\n      dataImport: '',\n    };\n  },\n  methods: {\n    importFile() {\n      let fileReader = new FileReader();\n      fileReader.readAsBinaryString(this.file);\n      fileReader.onload = this.handleFileLoad;\n    },\n    handleFileLoad(e) {\n      let data = e.target.result;\n      let workbook = xlsx.read(data, { type: 'binary' });\n      const firstSheet = Array.isArray(workbook.SheetNames) && workbook.SheetNames.length > 0 && workbook.SheetNames[0];\n      if (!firstSheet) {\n        return this.$toasted.show('Invalid Excel File. Please reupload.', { type: 'error' });\n      }\n      const rowObject = xlsx.utils.sheet_to_row_object_array(workbook.Sheets[firstSheet]);\n      this.receiveDataRows(rowObject);\n      this.dialogImportExcel = false;\n    },\n    importJson() {\n      try {\n        const dataItems = JSON.parse(this.dataImport);\n        this.receiveDataRows(dataItems);\n        this.dialogImportJSON = false;\n      } catch (err) {\n        return this.$toasted.show('Invalid JSON', { type: 'error' });\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ImportDialog.vue?vue&type=template&id=afd0ffe6&\"\nimport script from \"./ImportDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text mr-2\",attrs:{\"x-small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\"Import\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-import\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){_vm.dialogImportJSON = true;\n            _vm.dataImport = '';}}},[_vm._v(\"Json\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){_vm.dialogImportExcel = true;\n            _vm.file = null;}}},[_vm._v(\"Excel\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportExcel),callback:function ($$v) {_vm.dialogImportExcel=$$v},expression:\"dialogImportExcel\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Choose excel file\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-file-input',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"File input\",\"accept\":\".xls,.xlsx\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogImportExcel = false}}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary darken-1\",\"text\":\"\",\"disabled\":!_vm.file},on:{\"click\":_vm.importFile}},[_vm._v(\"Import\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportJSON),callback:function ($$v) {_vm.dialogImportJSON=$$v},expression:\"dialogImportJSON\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Import via JSON\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"import data\"},model:{value:(_vm.dataImport),callback:function ($$v) {_vm.dataImport=$$v},expression:\"dataImport\"}})],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary darken-1\",\"text\":\"\",\"disabled\":!_vm.dataImport},on:{\"click\":_vm.importJson}},[_vm._v(\"Import\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"","<template>\n  <v-toolbar flat>\n    <v-toolbar-title class=\"mr-6\">{{ toolbarTitle }}</v-toolbar-title>\n    <copy-clipboard v-if=\"onCopy\" class=\"mr-2\" :on-copy=\"onCopy\"></copy-clipboard>\n    <export-data\n      v-if=\"items && items.length > 0 && !hideExportData\"\n      :data=\"items\"\n      :file-name=\"fileName\"\n      :format-data-service=\"formatDataService\"\n    ></export-data>\n    <import-dialog v-if=\"!!receiveDataRows\" :receiveDataRows=\"receiveDataRows\"></import-dialog>\n    <v-btn :disabled=\"!isDeleteEnabled\" @click=\"onDelete\" v-if=\"!!onDelete\" x-small color=\"error\" class=\"white--text\">\n      Delete\n      <v-icon x-small right dark> mdi-delete </v-icon>\n    </v-btn>\n    <slot name=\"customAction\"></slot>\n    <slot name=\"search\"></slot>\n  </v-toolbar>\n</template>\n<script>\nimport ExportData from './ExportData';\nimport CopyClipboard from '../Sidebar/CopyClipboard';\nimport ImportDialog from './ImportDialog.vue';\nexport default {\n  name: 'grid-toolbar',\n  props: [\n    'toolbarTitle',\n    'onCopy',\n    'items',\n    'fileName',\n    'formatDataService',\n    'receiveDataRows',\n    'onDelete',\n    'isDeleteEnabled',\n    'onSearch',\n    'hideExportData',\n  ],\n  components: { ExportData, CopyClipboard, ImportDialog },\n};\n</script>\n","import { render, staticRenderFns } from \"./GridToolbar.vue?vue&type=template&id=54c95a08&\"\nimport script from \"./GridToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./GridToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.label)?_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(_vm._s(_vm.label))])]):_vm._e(),_vm._v(\" \"),(_vm.value)?_c('div',{staticClass:\"font-weight-medium text-ellipses\"},[_c('span',{staticClass:\"field-display-value\",attrs:{\"title\":_vm.value}},[_vm._v(_vm._s(_vm.value))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextFieldDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextFieldDisplay.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div v-if=\"label\" class=\"grey--text caption mb-2\">\n      <span>{{ label }}</span>\n    </div>\n    <div v-if=\"value\" class=\"font-weight-medium text-ellipses\">\n      <span :title=\"value\" class=\"field-display-value\">{{ value }}</span>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'text-field-display',\n  props: ['label', 'value'],\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.field-display-value {\n  color: #fff;\n}\n</style>\n","import { render, staticRenderFns } from \"./TextFieldDisplay.vue?vue&type=template&id=23115561&\"\nimport script from \"./TextFieldDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./TextFieldDisplay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextFieldDisplay.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.state)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[(_vm.chipSize && _vm.chipSize === 'small')?_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":_vm.currentStatus.color}},[_vm._v(_vm._s(_vm.currentStatus.displayName))]):_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":_vm.currentStatus.color}},[_vm._v(_vm._s(_vm.currentStatus.displayName))])],1)]):_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[(_vm.chipSize && _vm.chipSize === 'small')?_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"yellow\"}},[_vm._v(_vm._s(_vm.defaultStatus))]):_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"yellow\"}},[_vm._v(_vm._s(_vm.defaultStatus))])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"state\">\n      <span class=\"font-weight-medium\">\n        <v-chip v-if=\"chipSize && chipSize === 'small'\" small outlined :color=\"currentStatus.color\">{{ currentStatus.displayName }}</v-chip>\n        <v-chip v-else outlined :color=\"currentStatus.color\">{{ currentStatus.displayName }}</v-chip>\n      </span>\n    </div>\n    <div v-else>\n      <span class=\"font-weight-medium\">\n        <v-chip v-if=\"chipSize && chipSize === 'small'\" small outlined color=\"yellow\">{{ defaultStatus }}</v-chip>\n        <v-chip v-else outlined color=\"yellow\">{{ defaultStatus }}</v-chip>\n      </span>\n    </div>\n  </div>\n</template>\n<script>\nconst appStatusStates = {\n  active: {\n    name: 'active',\n    displayName: 'Running',\n    color: 'success',\n  },\n  reloading: {\n    name: 'reloading',\n    displayName: 'Reloading',\n    color: 'yellow',\n  },\n  failed: {\n    name: 'failed',\n    displayName: 'Failed',\n    color: 'red',\n  },\n  activating: {\n    name: 'activating',\n    displayName: 'Activating',\n    color: 'yellow',\n  },\n  deactivating: {\n    name: 'deactivating',\n    displayName: 'Deactivating',\n    color: 'yellow',\n  },\n  maintenance: {\n    name: 'maintenance',\n    displayName: 'Maintenance',\n    color: 'yellow',\n  },\n};\nexport default {\n  name: 'app-status-chip',\n  props: ['status', 'state', 'chipSize'],\n  computed: {\n    currentStatus() {\n      const appStatus = appStatusStates[this.state];\n      if (!appStatus) {\n        return {\n          name: 'default',\n          displayName: this.capitalize(this.state),\n          color: 'yellow',\n        };\n      }\n      return appStatus;\n    },\n    defaultStatus() {\n      return this.capitalize(this.state);\n    },\n  },\n  methods: {\n    capitalize(str) {\n      if (!str) {\n        str = '';\n      }\n      str = String(str);\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppStatusChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppStatusChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppStatusChip.vue?vue&type=template&id=1b4b9e5c&\"\nimport script from \"./AppStatusChip.vue?vue&type=script&lang=js&\"\nexport * from \"./AppStatusChip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\n\nconst endpoint = '/rubix-service';\n\nexport const fetchStatus = () => {\n  return http.get(`${endpoint}/status`);\n};\n\nexport const upgradeLatest = () => {\n  return http.put(`${endpoint}/upgrade`, { version: 'latest' });\n};\n\nexport const upgrade = version => {\n  return http.put(`${endpoint}/upgrade`, { version });\n};\n\nexport const fetchReleases = () => {\n  return http.get(`${endpoint}/releases`);\n};\n\nexport const updateToken = token => {\n  return http.post(`${endpoint}/token`, { token });\n};\n\nexport const upgradeViaFile = (version, file) => {\n  let formData = new FormData();\n  formData.append('upgradeFile', file);\n  formData.append('version', version);\n  return http.post(`${endpoint}/upload-upgrade`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const fetchAppUrl = () => {\n  return http.get(`${endpoint}/app-url`);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{class:_vm.className,attrs:{\"loading\":_vm.loading,\"x-small\":_vm.isSmall,\"disabled\":_vm.disabled,\"color\":_vm.color,\"block\":_vm.block},on:{\"click\":_vm.click}},[_c('span',[_vm._v(_vm._s(_vm.title)+\" \")]),_vm._v(\" \"),(_vm.afterIcon)?_c('v-icon',{attrs:{\"small\":_vm.isSmall}},[_vm._v(_vm._s(_vm.afterIcon))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxButton.vue?vue&type=script&lang=js&\"","<template>\n  <v-btn\n    :loading=\"loading\"\n    :x-small=\"isSmall\"\n    :disabled=\"disabled\"\n    :color=\"color\"\n    v-on:click=\"click\"\n    :class=\"className\"\n    :block=\"block\"\n  >\n    <span>{{ title }}&nbsp;</span>\n    <v-icon :small=\"isSmall\" v-if=\"afterIcon\">{{ afterIcon }}</v-icon>\n  </v-btn>\n</template>\n<script>\nexport default {\n  name: 'rbx-button',\n  props: ['title', 'after-icon', 'color', 'click', 'is-small', 'class-name', 'disabled', 'block', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./RbxButton.vue?vue&type=template&id=63acb41e&\"\nimport script from \"./RbxButton.vue?vue&type=script&lang=js&\"\nexport * from \"./RbxButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text mr-2\",attrs:{\"x-small\":\"\",\"color\":\"#009688\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_c('span',[_vm._v(\"Download\")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-download\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'json')}}},[_vm._v(\"Json\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'excel')}}},[_vm._v(\"Excel\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'csv')}}},[_vm._v(\"CSV\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"","<template>\n  <v-menu offset-y>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn x-small color=\"#009688\" class=\"white--text mr-2\" dark v-bind=\"attrs\" v-on=\"on\">\n        <span>Download</span>\n        <v-icon x-small right dark>mdi-download</v-icon>\n      </v-btn>\n    </template>\n    <v-list>\n      <v-list-item link>\n        <v-list-item-title @click=\"clickDownload(data, 'json')\">Json</v-list-item-title>\n      </v-list-item>\n      <v-list-item link>\n        <v-list-item-title @click=\"clickDownload(data, 'excel')\">Excel</v-list-item-title>\n      </v-list-item>\n      <v-list-item link>\n        <v-list-item-title @click=\"clickDownload(data, 'csv')\">CSV</v-list-item-title>\n      </v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n<script>\nimport { exportJSON, exportCSV, exportExcel } from '../../utils/utils';\n\nexport default {\n  name: 'export-data',\n  props: ['data', 'fileName', 'formatDataService'],\n  methods: {\n    clickDownload(data, type) {\n      let formattedData = data;\n      if (typeof this.formatDataService === 'function') {\n        formattedData = this.formatDataService(data);\n      }\n      switch (type) {\n        case 'csv':\n          return exportCSV(this.fileName, formattedData);\n        case 'excel':\n          return exportExcel(this.fileName, formattedData);\n        case 'json':\n          return exportJSON(this.fileName, JSON.stringify(formattedData));\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ExportData.vue?vue&type=template&id=783ad752&\"\nimport script from \"./ExportData.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\n\nconst endpoint = '/system-service';\n\nexport const fetchSystemServices = () => {\n  return http.get(endpoint);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const fetchSystemStatByServiceName = serviceName => {\n  return http.get(`${endpoint}/${serviceName}`);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"color\":\"warning\"}},[_vm._v(\" mdi-alert-outline \")]),_vm._v(\" Confirm \")],1),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[_c('v-row',[_vm._v(_vm._s(_vm.dialogText))])],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onClose}},[_vm._v(\" No \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"loading\":_vm.loading,\"text\":\"\"},on:{\"click\":_vm.onConfirm}},[_vm._v(\" Yes \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","<template>\n  <v-dialog v-model=\"isOpen\" persistent max-width=\"290\">\n    <v-card>\n      <v-card-title><v-icon color=\"warning\"> mdi-alert-outline </v-icon>&nbsp;Confirm </v-card-title>\n      <v-card-text>\n        <v-container>\n          <v-row>{{ dialogText }}</v-row>\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"onClose\"> No </v-btn>\n        <v-btn color=\"red darken-1\" :loading=\"loading\" text @click=\"onConfirm\"> Yes </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: 'confirm-dialog',\n  props: ['on-close', 'on-confirm', 'dialog-text', 'is-open', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=0c0ea35a&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\nimport qs from 'query-string';\nimport * as rubixService from './rubixService';\nimport { RUBIX_APP_TYPES } from '../constants/appConstant';\nimport * as systemSettingService from './systemSettingService';\nimport { exportENV, exportCSV, exportJSON } from '../utils/utils';\n\nconst endpoint = '/rubix-app';\n\nexport const fetchApps = () => {\n  const queryParams = qs.stringify({\n    browser_download_url: true,\n    latest_version: true,\n  });\n  return http.get(`${endpoint}?${queryParams}`);\n};\n\nexport const fetchAllApps = () => {\n  return systemSettingService.fetchSystemServices();\n};\n\nexport const fetchAllInstalledApps = () => {\n  return http.get(`${endpoint}`).then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchSystemDefaultApps = () => {\n  return systemSettingService\n    .fetchSystemServices()\n    .then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchAppReleases = appName => {\n  return http.get(`${endpoint}/releases/${appName}`);\n};\n\nexport const fetchAppsReleases = services => {\n  return Promise.all(services.map(service => fetchAppReleases(service).catch(err => [])));\n};\n\nexport const fetchAppStatus = (appName, options = {}) => {\n  return http.get(`${endpoint}/stats/${appName}`, options);\n};\n\nexport const uninstallApp = appName => {\n  return http.post(`${endpoint}/uninstall`, { service: appName });\n};\n\nexport const installApp = body => {\n  return http.post(`${endpoint}/install`, [body]);\n};\n\nexport const downloadApp = body => {\n  return http.post(`${endpoint}/download`, [body]);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const uploadApp = (file, serviceName, version) => {\n  let formData = new FormData();\n  formData.append('file', file);\n  formData.append('service', serviceName);\n  formData.append('version', version);\n  return http.post(`${endpoint}/app-upload`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const deleteAppData = serviceName => {\n  return http.post(`${endpoint}/delete-app-data`, [{ service: serviceName }]);\n};\n\nexport const deleteAppDataService = serviceName => {\n  return deleteAppData(serviceName);\n};\n\nexport const downloadAppData = async (serviceName) => {\n  const data = await rubixService.fetchAppUrl();\n  const url = `${data.data}api/app/download_data?service=${serviceName}`;\n  return http.get(url, {\n    headers: {\n      'Content-Type': 'application/zip',\n    },\n    responseType: 'arraybuffer',\n  });\n};\n\nexport const fetchJSONConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/json-config/${serviceName}`, config);\n};\n\nexport const fetchEnvConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/env/${serviceName}`, config);\n};\n\nexport const fetchAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config).then(({ data }) => data);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config).then(({ data }) => data);\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const saveJSONConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/json-config`, { service: serviceName, data: config });\n};\n\nexport const saveENVConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/env`, { service: serviceName, data: config });\n};\n\nexport const saveAppConfig = (serviceName, appType, config) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return saveJSONConfig(serviceName, config || {});\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return saveENVConfig(serviceName, config || '');\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const deleteJSONConfig = serviceName => {\n  return http.delete(`${endpoint}/json-config`, { data: { service: serviceName } });\n};\n\nexport const deleteENVConfig = serviceName => {\n  return http.delete(`${endpoint}/env`, { data: { service: serviceName } });\n};\n\nexport const deleteAppConfig = (serviceName, appType) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return deleteJSONConfig(serviceName);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return deleteENVConfig(serviceName);\n  }\n  throw new Error('App type not supported for deletion');\n};\n\nexport const downloadAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config).then(({ data }) => {\n      exportJSON(`${serviceName}-config`, JSON.stringify(data));\n    });\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config).then(({ data }) => {\n      exportENV(`${serviceName}`, data);\n    });\n  }\n  throw new Error('App type not supported for download config');\n};\n\nexport const bulkAppControl = actions => http.post(`${endpoint}/control`, actions);\n\nexport const bulkInstallApps = services => http.post(`${endpoint}/install`, services);\n\nexport const bulkDownloadApps = services => http.post(`${endpoint}/download`, services);\n\nexport const fetchDownloadState = () => http.get(`${endpoint}/download-state`, { restrictToast: true });\n\nexport const deleteDownloadState = () => http.delete(`${endpoint}/download-state`);\n","import http from '../axios';\n\nconst endpoint = '/mqtt-rest-bridge/listener';\n\nexport const fetchMRBListener = () => {\n  return http.get(endpoint);\n};\n\nexport const pathMRBListener = (mrb) => {\n  return http.patch(endpoint, mrb)\n}\n"],"sourceRoot":""}