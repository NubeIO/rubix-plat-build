(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+SqX":function(t,e,n){"use strict";var r={name:"page-title",props:["title"]},o=n("psIG"),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"text-h5 text-left py-3"},[n("span",[t._v(t._s(t.title))]),t._v(" "),t._t("refreshIcon"),t._v(" "),t._t("titleActions"),t._v(" "),t._t("spinner")],2)}),[],!1,null,null,null);e.a=a.exports},"8XWa":function(t,e,n){"use strict";n.r(e),n.d(e,"fetch",(function(){return h})),n.d(e,"deleteSlaveAppsDownloadState",(function(){return b})),n.d(e,"bulkControlApps",(function(){return y})),n.d(e,"bulkDownloadSlaveApps",(function(){return N})),n.d(e,"bulkInstallSlaveApps",(function(){return S})),n.d(e,"fetchDownloadState",(function(){return A})),n.d(e,"clearDownloadState",(function(){return C})),n.d(e,"fetchAppReleases",(function(){return P})),n.d(e,"fetchAppsReleases",(function(){return T})),n.d(e,"downloadAppData",(function(){return I})),n.d(e,"deleteAppData",(function(){return k})),n.d(e,"fetchJSONConfig",(function(){return R})),n.d(e,"fetchOpenVPNConfig",(function(){return E})),n.d(e,"fetchEnvConfig",(function(){return w})),n.d(e,"saveJSONConfig",(function(){return O})),n.d(e,"saveENVConfig",(function(){return D})),n.d(e,"saveOpenVPNConfig",(function(){return x})),n.d(e,"downloadAppConfig",(function(){return z})),n.d(e,"deleteJSONConfig",(function(){return j})),n.d(e,"deleteENVConfig",(function(){return F})),n.d(e,"deleteOpenVPNConfig",(function(){return M})),n.d(e,"uninstallApp",(function(){return Y})),n.d(e,"changeServiceStatus",(function(){return G})),n.d(e,"createRestartJob",(function(){return J})),n.d(e,"deleteRestartJob",(function(){return V})),n.d(e,"uploadApp",(function(){return U})),n.d(e,"installApp",(function(){return H})),n.d(e,"fetchAppStatus",(function(){return B})),n.d(e,"fetchLatestAppVersion",(function(){return $})),n.d(e,"fetchYmlConfig",(function(){return X})),n.d(e,"saveYmlConfig",(function(){return K})),n.d(e,"deleteYmlConfig",(function(){return W})),n.d(e,"resolveConfigFile",(function(){return q})),n.d(e,"fetchAppConfig",(function(){return L})),n.d(e,"saveAppConfig",(function(){return Q})),n.d(e,"deleteAppConfig",(function(){return Z})),n.d(e,"fetchSystemRebootJob",(function(){return tt})),n.d(e,"updateSystemRebootJob",(function(){return et})),n.d(e,"deleteSystemRebootJob",(function(){return nt})),n.d(e,"bulkUpdateSystemRebootJob",(function(){return rt})),n.d(e,"bulkDeleteSystemRebootJob",(function(){return ot}));var r=n("/9Wh"),o=n.n(r),a=n("06Hw"),i=n.n(a),u=n("YYXh"),s=n.n(u),c=n("OBCi"),l=n.n(c),d=n("uzYq"),f=n("N4QW"),p=n("A5Vd"),v=n("+n12"),m="/slave-apps",h=function(){return d.a.get(""+m,{restrictToast:!0})},b=function(){};function g(t){return t.reduce((function(t,e){return t[e.slaveId]||(t[e.slaveId]=[]),t[e.slaveId].push({service:e.service,version:e.version}),t}),{})}var _,y=function(t,e){return d.a.post(m+"/control",function(t,e){return t.reduce((function(t,n){return t[n.slaveId]||(t[n.slaveId]=[]),t[n.slaveId].push({service:n.service,action:e}),t}),{})}(t,e))},N=function(t){return d.a.post(m+"/download",g(t))},S=function(t){return d.a.post(m+"/install",g(t))},A=function(){return d.a.get(m+"/download-state",{restrictToast:!0})},C=function(t){return d.a.post(m+"/remove-download-state",t)},P=function(t){return d.a.get(m+"/releases/"+t+"?all=true")},T=function(t){return l.a.all(t.map((function(t){return P(t).catch((function(t){return[]}))})))},I=(_=s()(i.a.mark((function t(e,n){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.fetchAppUrl();case 2:return r=t.sent,o=r.data+"slave/"+n+"/api/app/download_data?service="+e,t.abrupt("return",d.a.get(o,{headers:{"Content-Type":"application/zip"},responseType:"blob"}));case 5:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return _.apply(this,arguments)}),k=function(t,e){return d.a.post(m+"/delete-app-data",{service:t,slaveId:e})},R=function(t,e,n){return d.a.get(m+"/slaves/"+e+"/json-config/"+t,n)},E=function(t,e,n){return d.a.get(m+"/slaves/"+e+"/open-vpn-config/"+t,n)},w=function(t,e,n){return d.a.get(m+"/slaves/"+e+"/env/"+t,n)},O=function(t,e,n){return d.a.put(m+"/slaves/"+n+"/json-config",{service:t,data:e})},D=function(t,e,n){return d.a.put(m+"/slaves/"+n+"/env",{service:t,data:e})},x=function(t,e,n){return d.a.put(m+"/slaves/"+n+"/open-vpn-config",{service:t,data:e})},z=function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return r===p.m.PYTHON_APP?R(t,e,a).then((function(e){var r=e.data;Object(v.h)(t+"-"+n+"-config",o()(r))})):r===p.m.FRONTEND_APP?w(t,e,a).then((function(e){var r=e.data;Object(v.f)(t+"-"+n,r)})):r===p.m.APT_APP?E(t,e,a).then((function(e){var r=e.data;Object(v.i)(t+"-"+n,r)})):X(t,e).then((function(e){var r=e.data;Object(v.h)(t+"-"+n+"-config",o()(r))}))},j=function(t,e){return d.a.delete(m+"/slaves/"+t+"/json-config",{data:{service:e}})},F=function(t,e){return d.a.delete(m+"/slaves/"+t+"/env",{data:{service:e}})},M=function(t,e){return d.a.delete(m+"/slaves/"+t+"/open-vpn-config",{data:{service:e}})},Y=function(t,e){return d.a.post(m+"/uninstall",{service:e,slaveId:t})},G=function(t,e,n){return d.a.post(m+"/slaves/"+n+"/control",[{action:t,service:e}],{restrictToast:!0})},J=function(t,e){return d.a.post(m+"/slaves/"+e+"/restart-job",[t])},V=function(t,e){return d.a.delete(m+"/slaves/"+e+"/restart-job",{data:[t]})},U=function(t,e,n,r){var o=new FormData;return o.append("file",t),o.append("service",e),o.append("version",n),d.a.post(m+"/slaves/"+r+"/app-upload",o,{headers:{"Content-Type":"multipart/form-data"}})},H=function(t,e){return d.a.post(m+"/slaves/"+e+"/install",[t])},B=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return d.a.get(m+"/slaves/"+n+"/stats/"+t,e)},$=function(){return d.a.get(m+"/latest-version")},X=function(t,e,n){return d.a.get(m+"/slaves/"+e+"/yml-config/"+t,n)},K=function(t,e,n){return d.a.put(m+"/slaves/"+n+"/yml-config",{service:t,data:e})},W=function(t,e){return d.a.delete(m+"/slaves/"+t+"/yml-config/"+e)};function q(t,e){return e===p.n.RUBIX_FLOW_FRAMEWORK||e===p.n.RUBIX_BROKER?p.q:t===p.m.PYTHON_APP?p.g:t===p.m.APT_APP?p.o:t===p.m.FRONTEND_APP?p.e:p.q}var L=function(t,e,n){var r=n.slaveId;return e===p.m.PYTHON_APP?R(t,r,n).then((function(t){return t.data})):e===p.m.FRONTEND_APP?w(t,r,n).then((function(t){return t.data})):e===p.m.APT_APP?E(t,r,n).then((function(t){return t.data})):X(t,r,n).then((function(t){return t.data||""}))},Q=function(t,e,n,r){return e===p.m.PYTHON_APP?O(t,n||{},r):e===p.m.FRONTEND_APP?D(t,n||"",r):e===p.m.APT_APP?x(t,n||"",r):K(t,n||"",r)},Z=function(t,e,n){return n===p.m.PYTHON_APP?j(t,e):n===p.m.FRONTEND_APP?F(t,e):n===p.m.APT_APP?M(t,e):W(t,e)},tt=function(t){return d.a.get(m+"/slaves/"+t+"/system-reboot")},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return d.a.put(m+"/slaves/"+e+"/system-reboot",t)},nt=function(t){return d.a.delete(m+"/slaves/"+t+"/system-reboot")},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return l.a.all(e.map((function(e){return et(t,e)})))},ot=function(t){return l.a.all(t.map((function(t){return nt(t)})))}},KRMY:function(t,e,n){"use strict";var r={name:"configure-cron-btn",props:["service","handleClick","btnSize"],components:{TooltipIconButton:n("Ui9F").a},data:function(){return{btnIcon:"fa-clock-o"}},computed:{buttonSize:function(){return this.btnSize?this.btnSize:"small"},isTimerConfigure:function(){return this.service&&this.service.reboot_job?!!(this.service&&this.service.reboot_job&&this.service.reboot_job.timer):!!(this.service&&this.service.restart_job&&this.service.restart_job.timer)},timerBtnColor:function(){return this.isTimerConfigure?"yellow darken-2":"nubeGreen"},timerBtnText:function(){return this.isTimerConfigure?"SET | Configure restart schedule":"UNSET | Configure restart schedule"}}},o=n("psIG"),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("tooltip-icon-button",{attrs:{buttonSize:t.buttonSize,btnIcon:t.btnIcon,onClick:t.handleClick,btnColor:t.timerBtnColor,btnTooltip:t.timerBtnText}})}),[],!1,null,null,null);e.a=a.exports},MKDl:function(t,e,n){"use strict";var r={active:{name:"active",displayName:"Running",outlined:!0,color:"exportColor"},reloading:{name:"reloading",outlined:!0,displayName:"Reloading",color:"nubeYellow"},failed:{name:"failed",outlined:!0,displayName:"Failed",color:"red"},activating:{name:"activating",outlined:!0,displayName:"Activating",color:"nubeYellow"},deactivating:{outlined:!0,name:"deactivating",displayName:"Deactivating",color:"nubeYellow"},maintenance:{name:"maintenance",outlined:!0,displayName:"Maintenance",color:"nubeYellow"},STARTED:{name:"STARTED",outlined:!0,displayName:"Started",color:"blue"},RUNNING:{name:"RUNNING",outlined:!0,displayName:"Running",color:"nubeYellow"},FINISHED:{name:"FINISHED",outlined:!0,displayName:"Finished",color:"nubeGreen"},BROKEN:{name:"BROKEN",outlined:!0,displayName:"Broken",color:"red"},MAPPED:{name:"MAPPED",outlined:!0,displayName:"Mapped",color:"nubeGreen"},INTEGRATED:{name:"INTEGRATED",outlined:!1,displayName:"Integrated",color:"nubeGreen"},UNINTEGRATED:{name:"UNINTEGRATED",outlined:!1,displayName:"Not Integrated",color:"red"}},o={name:"app-status-chip",props:["status","state","chipSize"],computed:{currentStatus:function(){var t=r[this.state];return t||{name:"default",displayName:this.capitalize(this.state),color:"nubeYellow"}},defaultStatus:function(){return this.capitalize(this.state)}},methods:{capitalize:function(t){return t||(t=""),(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}}},a=n("psIG"),i=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.state?n("div",[n("span",{staticClass:"font-weight-medium"},[t.chipSize&&"small"===t.chipSize?n("v-chip",{attrs:{small:"",outlined:"",color:t.currentStatus.color}},[t._v(t._s(t.currentStatus.displayName))]):n("v-chip",{attrs:{outlined:"",color:t.currentStatus.color}},[t._v(t._s(t.currentStatus.displayName))])],1)]):n("div",[n("span",{staticClass:"font-weight-medium"},[t.chipSize&&"small"===t.chipSize?n("v-chip",{attrs:{small:"",outlined:"",color:t.currentStatus.color}},[t._v(t._s(t.defaultStatus))]):n("v-chip",{attrs:{outlined:"",color:t.currentStatus.color}},[t._v(t._s(t.defaultStatus))])],1)])])}),[],!1,null,null,null);e.a=i.exports},N4QW:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchPlatInfo",(function(){return a})),n.d(e,"fetchStatus",(function(){return i})),n.d(e,"upgradeLatest",(function(){return u})),n.d(e,"upgrade",(function(){return s})),n.d(e,"fetchReleases",(function(){return c})),n.d(e,"updateToken",(function(){return l})),n.d(e,"fetchTokenHint",(function(){return d})),n.d(e,"upgradeViaFile",(function(){return f})),n.d(e,"fetchAppUrl",(function(){return p})),n.d(e,"createRestartJob",(function(){return v})),n.d(e,"deleteRestartJob",(function(){return m})),n.d(e,"pingSystemService",(function(){return h})),n.d(e,"fetchSystemRebootJob",(function(){return b})),n.d(e,"updateSystemRebootJob",(function(){return g})),n.d(e,"deleteSystemRebootJob",(function(){return _}));var r=n("uzYq"),o="/rubix-service",a=function(){return r.a.get(o+"/plat")},i=function(){return r.a.get(o+"/status")},u=function(){return r.a.put(o+"/upgrade",{version:"latest"})},s=function(t){return r.a.put(o+"/upgrade",{version:t})},c=function(){return r.a.get(o+"/releases")},l=function(t){return r.a.post(o+"/token",{token:t})},d=function(){return r.a.get(o+"/token-hint")},f=function(t,e){var n=new FormData;return n.append("upgradeFile",e),n.append("version",t),r.a.post(o+"/upload-upgrade",n,{headers:{"Content-Type":"multipart/form-data"}})},p=function(){return r.a.get(o+"/app-url")},v=function(t){return r.a.post(o+"/restart-job",[t])},m=function(t){return r.a.delete(o+"/restart-job",{data:[t]})},h=function(){return r.a.get(o+"/system/ping")},b=function(){return r.a.get(o+"/system-reboot")},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.a.put(o+"/system-reboot",t)},_=function(){return r.a.delete(o+"/system-reboot")}},Ui9F:function(t,e,n){"use strict";var r={name:"tooltip-icon-button",props:["btnIcon","btnTooltip","onClick","btnColor","buttonSize","disabled"]},o=n("psIG"),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return["medium"==t.buttonSize?n("v-btn",t._g(t._b({attrs:{disabled:t.disabled,icon:"",medium:"",color:t.btnColor},on:{click:t.onClick}},"v-btn",o,!1),r),[n("v-icon",{attrs:{medium:"",dark:""}},[t._v(" "+t._s(t.btnIcon)+" ")])],1):n("v-btn",t._g(t._b({attrs:{disabled:t.disabled,icon:"",small:"",color:t.btnColor},on:{click:t.onClick}},"v-btn",o,!1),r),[n("v-icon",{attrs:{small:"",dark:""}},[t._v(" "+t._s(t.btnIcon)+" ")])],1)]}}])},[t._v(" "),n("span",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s(t.btnTooltip)}})])}),[],!1,null,null,null);e.a=a.exports},sUdf:function(t,e,n){"use strict";var r=1440,o={name:"service-cron-picker-field",props:["value"],data:function(){return{day:0,hour:0,minute:0}},computed:{_value:{get:function(){return this.value},set:function(t){return t}}},mounted:function(){this.updateModel(this.value)},methods:{updateModel:function(t){var e=this.splitMinutes(t),n=e.day,r=e.hour,o=e.minute;this.day=n,this.hour=r,this.minute=o},splitMinutes:function(t){return{day:this.getDay(t),hour:this.getHour(t),minute:this.getMinutes(t)}},getDay:function(t){return t=+t||0,Math.floor(+t/r)||0},getHour:function(t){return t=+t||0,t-=this.getDay(t)*r,Math.floor(t/60)||0},getMinutes:function(t){return t=+t||0,t-=this.getDay(t)*r,t-=60*this.getHour(t)},convertToMinutes:function(){var t=+this.day,e=+this.hour,n=+this.minute;return t*r+60*e+n},onInput:function(){this.$emit("input",this.convertToMinutes())}}},a=n("psIG"),i=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"service-cron-picker-wrapper"},[n("v-subheader",{staticClass:"pl-0 pb-5",attrs:{dense:""}},[t._v(" Day(s) ")]),t._v(" "),n("v-slider",{attrs:{dense:"",min:"0",max:"30","thumb-size":20,"thumb-label":"always","track-color":"grey"},on:{input:function(){return t.onInput()}},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}}),t._v(" "),n("v-subheader",{staticClass:"pl-0 pb-5",attrs:{dense:""}},[t._v(" Hour(s) ")]),t._v(" "),n("v-slider",{attrs:{dense:"",min:"0","thumb-size":20,max:"23","thumb-label":"always","track-color":"grey"},on:{input:function(){return t.onInput()}},model:{value:t.hour,callback:function(e){t.hour=e},expression:"hour"}}),t._v(" "),n("v-subheader",{staticClass:"pl-0 pb-5",attrs:{dense:""}},[t._v(" Minute(s) ")]),t._v(" "),n("v-slider",{attrs:{dense:"",min:"0",max:"59","thumb-size":20,"thumb-label":"always","track-color":"grey"},on:{input:function(){return t.onInput()}},model:{value:t.minute,callback:function(e){t.minute=e},expression:"minute"}})],1)}),[],!1,null,null,null);e.a=i.exports},v4FG:function(t,e,n){"use strict";var r=n("zEfX"),o=n("sUdf"),a={name:"configure-cron-form",props:["displayName","valid","isInitialized","minutes","error","onSave","onCancel","onDelete","isFetching"],components:{FormError:r.a,ServiceCronPicker:o.a},computed:{minutesValue:{get:function(){return this.minutes},set:function(t){this.$emit("updateMinutes",t)}},formValid:{get:function(){return this.valid},set:function(t){this.$emit("updateValid",t)}}}},i=n("psIG"),u=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{loading:t.isFetching}},[n("v-card-title",{staticClass:"mb-5"},[n("span",[t._v(t._s(t.displayName))]),t._v(" "),n("span",[t._v(" | ")]),t._v(" "),n("span",{staticClass:"subtitle-2"},[t._v("Timer Configure")])]),t._v(" "),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[n("v-row",{attrs:{dense:""}},[t.isInitialized?n("service-cron-picker",{model:{value:t.minutesValue,callback:function(e){t.minutesValue=e},expression:"minutesValue"}}):t._e()],1)],1)],1),t._v(" "),n("v-card-actions",[n("form-error",{attrs:{error:t.error}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:t.onCancel}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:t.onSave}},[t._v("Save")]),t._v(" "),n("v-btn",{attrs:{color:"red",text:""},on:{click:t.onDelete}},[t._v("Delete")])],1)],1)}),[],!1,null,null,null);e.a=u.exports},zEfX:function(t,e,n){"use strict";var r={name:"form-error",props:["errors","error"],computed:{isArray:function(){return Array.isArray(this.errors)&&this.errors.length>0||!1},isObject:function(){return this.error&&this.error.hasOwnProperty("message")}}},o=n("psIG"),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-left ma-5"},[t.isArray?n("div",t._l(t.errors,(function(e){return n("v-alert",{key:e.index,attrs:{dense:"",outlined:"",type:"error"}},[n("span",[t._v(t._s(e.message))])])})),1):t._e(),t._v(" "),t.isObject&&t.error.message?n("div",[n("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[n("span",[t._v(t._s(t.error.message))])])],1):t._e()])}),[],!1,null,null,null);e.a=a.exports}}]);
//# sourceMappingURL=4.f1cf681989d704b980ed.js.map