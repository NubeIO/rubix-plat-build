(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+SqX":function(t,e,a){"use strict";var n={name:"page-title",props:["title"]},r=a("psIG"),i=Object(r.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("h1",{staticClass:"text-h5 text-left py-3"},[t._v(t._s(t.title))])}),[],!1,null,null,null);e.a=i.exports},"7Vew":function(t,e,a){"use strict";var n={name:"text-field-display",props:["label","value"]},r=a("psIG"),i=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.label?a("div",{staticClass:"grey--text caption mb-2"},[a("span",[t._v(t._s(t.label))])]):t._e(),t._v(" "),t.value?a("div",{staticClass:"font-weight-medium text-ellipses"},[a("span",{staticClass:"field-display-value",attrs:{title:t.value}},[t._v(t._s(t.value))])]):t._e()])}),[],!1,null,null,null);e.a=i.exports},E8PC:function(t,e,a){"use strict";e.a=a.p+"static/img/nube-frog-green.489e567.png"},MKDl:function(t,e,a){"use strict";var n={active:{name:"active",displayName:"Running",color:"success"},reloading:{name:"reloading",displayName:"Reloading",color:"yellow"},failed:{name:"failed",displayName:"Failed",color:"red"},activating:{name:"activating",displayName:"Activating",color:"yellow"},deactivating:{name:"deactivating",displayName:"Deactivating",color:"yellow"},maintenance:{name:"maintenance",displayName:"Maintenance",color:"yellow"}},r={name:"app-status-chip",props:["status","state"],computed:{currentStatus:function(){var t=n[this.state];return t||{name:"default",displayName:this.capitalize(this.state),color:"yellow"}},defaultStatus:function(){return this.capitalize(this.state)}},methods:{capitalize:function(t){return t||(t=""),(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}}},i=a("psIG"),s=Object(i.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.state?a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:t.currentStatus.color}},[t._v(t._s(t.currentStatus.displayName))])],1)]):a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:"yellow"}},[t._v(t._s(t.defaultStatus))])],1)])])}),[],!1,null,null,null);e.a=s.exports},"Wgf/":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return s}));var n=a("uzYq"),r="/system-service",i=function(){return n.a.get(r)},s=function(t,e){return n.a.post(r+"/control",[{action:t,service:e}])}},lkCm:function(t,e,a){"use strict";var n={name:"confirm-dialog",props:["on-close","on-confirm","dialog-text","is-open","loading"]},r=a("psIG"),i=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("v-card",[a("v-card-title",[a("v-icon",{attrs:{color:"warning"}},[t._v(" mdi-alert-outline ")]),t._v(" Confirm ")],1),t._v(" "),a("v-card-text",[a("v-container",[a("v-row",[t._v(t._s(t.dialogText))])],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:t.onClose}},[t._v(" No ")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",loading:t.loading,text:""},on:{click:t.onConfirm}},[t._v(" Yes ")])],1)],1)],1)}),[],!1,null,null,null);e.a=i.exports},nz6T:function(t,e,a){"use strict";a.d(e,"o",(function(){return p})),a.d(e,"k",(function(){return m})),a.d(e,"r",(function(){return g})),a.d(e,"m",(function(){return h})),a.d(e,"p",(function(){return _})),a.d(e,"n",(function(){return b})),a.d(e,"u",(function(){return y})),a.d(e,"s",(function(){return x})),a.d(e,"h",(function(){return w})),a.d(e,"c",(function(){return D})),a.d(e,"v",(function(){return k})),a.d(e,"e",(function(){return S})),a.d(e,"f",(function(){return C})),a.d(e,"j",(function(){return T})),a.d(e,"l",(function(){return N})),a.d(e,"t",(function(){return z})),a.d(e,"d",(function(){return $})),a.d(e,"i",(function(){return O})),a.d(e,"b",(function(){return P})),a.d(e,"a",(function(){return R})),a.d(e,"q",(function(){return j})),a.d(e,"g",(function(){return B}));var n=a("/9Wh"),r=a.n(n),i=a("OBCi"),s=a.n(i),o=a("uzYq"),c=a("NWgQ"),l=a.n(c),u=a("A5Vd"),v=a("Wgf/"),d=a("+n12"),f="/rubix-app",p=function(){var t=l.a.stringify({browser_download_url:!0,latest_version:!0});return o.a.get(f+"?"+t)},m=function(){return o.a.get(""+f).then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},g=function(){return v.b().then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},h=function(t){return o.a.get(f+"/releases/"+t)},_=function(t){return s.a.all(t.map(h))},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.a.get(f+"/stats/"+t,e)},y=function(t){return o.a.post(f+"/uninstall",{service:t})},x=function(t){return o.a.post(f+"/install",[t])},w=function(t){return o.a.post(f+"/download",[t])},D=function(t,e){return o.a.post(f+"/control",[{action:t,service:e}])},k=function(t,e,a){var n=new FormData;return n.append("file",t),n.append("service",e),n.append("version",a),o.a.post(f+"/app-upload",n,{headers:{"Content-Type":"multipart/form-data"}})},S=function(t){return o.a.post(f+"/delete-app-data",[{service:t}])},C=function(t){return S(t)},T=function(t,e){var a="http://"+e.globalIp+":"+e.rubixServicePort+"/api/app/download_data?service="+t;return o.a.get(a,{headers:{"Content-Type":"application/zip"},responseType:"arraybuffer"})},A=function(t,e){return o.a.get(f+"/json-config/"+t,e)},E=function(t,e){return o.a.get(f+"/env/"+t,e)},N=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return A(t,a);if(e===u.g.FRONTEND_APP)return E(t,a);throw new Error("App type not supported for editing config")},z=function(t,e,a){if(e===u.g.PYTHON_APP)return function(t,e){return o.a.put(f+"/json-config",{service:t,data:e})}(t,a||{});if(e===u.g.FRONTEND_APP)return function(t,e){return o.a.put(f+"/env",{service:t,data:e})}(t,a||"");throw new Error("App type not supported for editing config")},$=function(t,e){if(e===u.g.PYTHON_APP)return function(t){return o.a.delete(f+"/json-config",{data:{service:t}})}(t);if(e===u.g.FRONTEND_APP)return function(t){return o.a.delete(f+"/env",{data:{service:t}})}(t);throw new Error("App type not supported for deletion")},O=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return A(t,a).then((function(e){Object(d.f)(t+"-config",r()(e))}));if(e===u.g.FRONTEND_APP)return E(t,a).then((function(e){Object(d.d)(""+t,e)}));throw new Error("App type not supported for download config")},P=function(t){return o.a.post(f+"/install",t)},R=function(t){return o.a.post(f+"/download",t)},j=function(){return o.a.get(f+"/download-state",{restrictToast:!0})},B=function(){return o.a.delete(f+"/download-state")}},vQiG:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r})),a.d(e,"f",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"g",(function(){return o})),a.d(e,"d",(function(){return c})),a.d(e,"e",(function(){return l}));var n={success:"Successfully updated status change.",error:"Status change unsuccessful."},r={success:"Successfully updated setting.",error:"Status change unsucessful."},i={success:"Upgrade successful.",error:"Upgrade unsuccessful."},s={success:"Successfully created mapping.",error:"Mapping could not be created."},o={success:"Successfully updated mapping.",error:"Mapping could not be updated."},c={success:"Successfully deleted mapping",error:"Mapping could not be deleted"},l={success:"Successfully deleted mapping(s)",error:"Mapping(s) could not be deleted"}},"yu+2":function(t,e,a){"use strict";a.r(e);var n,r=a("TcPG"),i=a.n(r),s=a("+SqX"),o=a("Kz1y"),c=a.n(o),l={name:"icon-button",props:["icon-key","on-click","button-title","color"]},u=a("psIG"),v=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{staticClass:"pa-2",attrs:{color:t.color,"x-small":"",text:""},on:{click:t.onClick}},[a("v-icon",[t._v(t._s(t.iconKey))]),t._v(" "),t.buttonTitle?a("span",[t._v(" "+t._s(t.buttonTitle))]):t._e()],1)}),[],!1,null,null,null).exports,d=a("lkCm"),f=a("MKDl"),p=a("7Vew"),m=a("A5Vd"),g=a("vQiG"),h={name:"app-details-view",props:["app-detail","sync-app-details","change-service-status"],components:{AppStatusChip:f.a,IconButton:v,ConfirmDialog:d.a,TextFieldDisplay:p.a},data:function(){var t,e,a={startBtn:"startBtn",restartBtn:"restartBtn",stopBtn:"stopBtn",enableBtn:"enableBtn",disableBtn:"disableBtn"},n=(t={},i()(t,a.startBtn,{name:a.startBtn,title:"Start",color:"blue darken-2",iconKey:"mdi-play-circle-outline",action:m.f.START}),i()(t,a.restartBtn,{name:a.restartBtn,title:"Restart",color:"green darken-2",iconKey:"mdi-restart",action:m.f.RESTART}),i()(t,a.stopBtn,{name:a.stopBtn,title:"Stop",onClick:this.onStart,iconKey:"mdi-stop-circle-outline",action:m.f.STOP}),t),r={enable:m.f.ENABLE,disable:m.f.DISABLE},s=[a.startBtn,a.stopBtn,a.restartBtn];return{appActions:c()({},m.f),cardLoading:!1,dialog:(e={},i()(e,m.f.STOP,!1),i()(e,m.f.RESTART,!1),e),btnNames:a,toggleConfig:r,status:this.appDetail.status,isEnabled:this.appDetail.is_enabled,state:this.appDetail.state,version:this.appDetail.version||"-",serviceName:this.appDetail.service||"-",message:this.appDetail.msg||"",displayName:this.appDetail.display_name,activeSince:this.appDetail.time_since||"N/A",actionButtons:s.map((function(t){return n[t]}))}},methods:{handleControlAction:function(t){switch(t){case m.f.START:case m.f.ENABLE:case m.f.DISABLE:this.updateServiceStatus(t);break;case m.f.STOP:case m.f.RESTART:this.dialog[t]=!0}},closeDialog:function(t){this.dialog[t]=!1},handleDialogConfirm:function(t){var e=this;this.updateServiceStatus(t,(function(){return e.closeDialog(t)}))},updateServiceStatus:function(t,e){var a=this;this.cardLoading=!0;var n=t===this.toggleConfig.enable||t===this.toggleConfig.disable;this.changeServiceStatus(t,this.appDetail.service).then((function(t){n||"function"==typeof a.syncAppDetails&&a.syncAppDetails(),a.$toasted.show(g.a.success)})).catch((function(t){console.error(t),a.$toasted.show(g.a.error,{type:"error"})})).finally((function(){a.cardLoading=!1,n&&a.$store.commit("changeAppDetailsStatus",{service:a.appDetail.service,isEnabled:a.isEnabled}),"function"==typeof e&&e()}))}}},_=Object(u.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{elevation:"2",outlined:"",loading:t.cardLoading}},[a("v-card-text",[a("v-row",{staticClass:"mb-n2",attrs:{dense:""}},[a("v-col",{staticClass:"text-left",attrs:{cols:"12"}},[a("text-field-display",{attrs:{value:t.displayName}})],1)],1),t._v(" "),a("v-row",{staticClass:"mb-n2",attrs:{dense:""}},[a("v-col",{staticClass:"text-left justify-flex-start app-status-chip-wrapper",attrs:{cols:"6"}},[a("app-status-chip",{attrs:{state:t.state}})],1),t._v(" "),a("v-col",{staticClass:"app-detail-switch-wrapper",attrs:{cols:"6"}},[a("div",{staticClass:"mr-n3"},[a("span",{staticClass:"grey--text caption"},[t._v("Enable")]),t._v(" "),a("v-switch",{attrs:{inset:"",disabled:t.cardLoading,color:"success"},on:{change:function(e){return t.handleControlAction(t.isEnabled?t.toggleConfig.enable:t.toggleConfig.disable)}},model:{value:t.isEnabled,callback:function(e){t.isEnabled=e},expression:"isEnabled"}})],1)])],1),t._v(" "),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"text-left",attrs:{cols:"5"}},[a("text-field-display",{attrs:{label:"Service Name",value:t.serviceName}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[a("text-field-display",{attrs:{label:"Version",value:t.version}})],1),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Active",value:t.activeSince}})],1)],1)],1),t._v(" "),t.appDetail.service?a("div",{staticClass:"mb-3"},[a("span",{staticClass:"flex-box justify-space-between px-2"},t._l(t.actionButtons,(function(e){return a("icon-button",{key:e.name,attrs:{"on-click":function(){return t.handleControlAction(e.action)},"button-title":e.title,"icon-key":e.iconKey,color:e.color}})})),1)]):t._e()],1),t._v(" "),a("confirm-dialog",{attrs:{"is-open":t.dialog.stop,loading:t.cardLoading,"on-close":function(){return t.closeDialog(t.appActions.STOP)},"on-confirm":function(){return t.handleDialogConfirm(t.appActions.STOP)},"dialog-text":"Do you want to stop the app?"}}),t._v(" "),a("confirm-dialog",{attrs:{"is-open":t.dialog.restart,loading:t.cardLoading,"on-close":function(){return t.closeDialog(t.appActions.RESTART)},"on-confirm":function(){return t.handleDialogConfirm(t.appActions.RESTART)},"dialog-text":"Do you want to restart the app?"}})],1)}),[],!1,null,null,null).exports,b=a("nz6T"),y=a("EwjG"),x=a("Wgf/"),w={components:{AppDetailsView:_,PageTitle:s.a},data:function(){return{isLoadingData:!1,recompute:0}},computed:{systemDefaultApps:function(){return this.$store.state.systemDefaultApps}},methods:{fetchSystemDefaultApps:function(){var t=this;return b.r().then((function(e){t.$store.commit(y.b,e),t.recompute++})).catch((function(t){console.error(t)})).finally((function(){t.isLoadingData=!1}))},changeServiceStatus:x.a}},D=Object(u.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-text",{attrs:{loading:t.isLoadingData}},[a("page-title",{attrs:{title:"Services"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{"no-gutter":""}},t._l(t.systemDefaultApps,(function(e){return a("v-col",{key:e.service,attrs:{cols:"12",lg:"4",md:"6",sm:"12",xs:"12"}},[a("app-details-view",{key:t.recompute+"-"+e.service,attrs:{"app-detail":e,"sync-app-details":t.fetchSystemDefaultApps,"change-service-status":t.changeServiceStatus}})],1)})),1)],1)],1)}),[],!1,null,null,null).exports,k=a("E8PC"),S={components:{AppDetailsView:_,PageTitle:s.a},data:function(){return{logo:k.a,action:"",valid:!1,isLoadingData:!1,recompute:0}},computed:{services:function(){return this.$store.state.installedServices}},mounted:function(){this.fetchAllServices()},methods:{fetchAllServices:function(){var t=this;return this.isLoadingData=!0,b.k().then((function(e){t.$store.commit("changeInstalledServices",e),t.recompute++})).catch((function(t){console.error(t)})).finally((function(){t.isLoadingData=!1}))},changeServiceStatus:b.c}},C=Object(u.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-text",[a("page-title",{attrs:{title:"Installed Apps"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{"no-gutter":""}},t._l(t.services,(function(e){return a("v-col",{key:e.service,attrs:{cols:"12",lg:"4",md:"6",sm:"12",xs:"12"}},[a("app-details-view",{key:t.recompute+"-"+e.service,attrs:{"app-detail":e,"sync-app-details":t.fetchAllServices,"change-service-status":t.changeServiceStatus}})],1)})),1)],1)],1)}),[],!1,null,"6174c768",null).exports,T=a("tZmG"),A=a.n(T),E=a("06Hw"),N=a.n(E),z=a("YYXh"),$=a.n(z),O=a("uzYq"),P={props:["item","cancel","save"],data:function(){return{rules:{required:function(t){return!!t||"Required."}},confirmDialog:!1}},computed:{formData:function(){return this.item}},methods:{onConfirm:function(){this.confirmDialog=!1,this.save(this.formData)}}},R={name:"networking",components:{UpdateNetworking:Object(u.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-switch",{attrs:{label:"DHCP?"},model:{value:t.formData.isDhcp,callback:function(e){t.$set(t.formData,"isDhcp",e)},expression:"formData.isDhcp"}}),t._v(" "),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Interface",required:""},model:{value:t.formData.interface,callback:function(e){t.$set(t.formData,"interface",e)},expression:"formData.interface"}})],1),t._v(" "),a("v-col",[a("v-switch",{attrs:{label:"Reset Network?",rules:[t.rules.required]},model:{value:t.formData.network_reset,callback:function(e){t.$set(t.formData,"network_reset",e)},expression:"formData.network_reset"}})],1)],1),t._v(" "),a("v-row",[a("v-col",[t.formData.isDhcp?t._e():a("v-text-field",{attrs:{label:"IP Address",required:"",rules:[t.rules.required]},model:{value:t.formData.ip_address,callback:function(e){t.$set(t.formData,"ip_address",e)},expression:"formData.ip_address"}})],1),t._v(" "),a("v-col",[t.formData.isDhcp?t._e():a("v-text-field",{attrs:{label:"Routers",required:"",rules:[t.rules.required]},model:{value:t.formData.routers,callback:function(e){t.$set(t.formData,"routers",e)},expression:"formData.routers"}})],1)],1),t._v(" "),a("v-row",[a("v-col",[t.formData.isDhcp?t._e():a("v-text-field",{attrs:{label:"Domain Name",required:"",rules:[t.rules.required]},model:{value:t.formData.domain_name_server,callback:function(e){t.$set(t.formData,"domain_name_server",e)},expression:"formData.domain_name_server"}})],1),t._v(" "),a("v-col",[t.formData.isDhcp?t._e():a("v-text-field",{attrs:{label:"Netmask",required:"",rules:[t.rules.required]},model:{value:t.formData.netmask,callback:function(e){t.$set(t.formData,"netmask",e)},expression:"formData.netmask"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:t.cancel}},[t._v(" Cancel ")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.confirmDialog=!0}}},[t._v(" Save ")])],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n        Confirm?\n      ")]),t._v(" "),a("v-card-text",[t._v("Are you sure?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.confirmDialog=!1}}},[t._v("\n          No\n        ")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:t.onConfirm}},[t._v("\n          Yes\n        ")])],1)],1)],1)],1)}),[],!1,null,"1f9575bc",null).exports},data:function(){return{logo:k.a,dialog:!1,portRules:[],fireWallStatus:!1,headers:[],currentItem:{},data:[]}},mounted:function(){this.getData(),this.getFirewallData(),this.getPortRules()},methods:{getPortRules:function(){var t=this;O.a.get("rubix-service/networking/ufw/rules").then((function(e){t.portRules=e}))},enableFirewall:function(t){var e=this;return $()(N.a.mark((function a(){var n;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t?"enable":"disable",a.next=3,O.a.post("rubix-service/networking/ufw/enable",{enable:n}).then((function(t){e.$toasted.show(t.toString()),e.getFirewallData()}));case 3:case"end":return a.stop()}}),a,e)})))()},getFirewallData:function(){var t=this;O.a.get("rubix-service/networking/ufw/status").then((function(e){t.fireWallStatus=e}))},onCancelUpdate:function(){this.dialog=!1},onSave:function(t){var e=this;return $()(N.a.mark((function a(){var n;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=void 0,n=t.isDhcp?{interface:t.interface,network_reset:!!t.network_reset}:{interface:t.interface,network_reset:!!t.network_reset,ip_address:t.ip_address,routers:t.routers,domain_name_server:t.domain_name_server,netmask:t.netmask},O.a.post("rubix-service/networking/"+(t.isDhcp?"dhcp":"static"),n).then((function(t){e.$toasted.show("Success!"),e.dialog=!1,e.getData()})).catch((function(t){var a=t.message;e.$toasted.show(a,{type:"error"})}));case 3:case"end":return a.stop()}}),a,e)})))()},onClickEdit:function(t){this.dialog=!0,this.currentItem=c()({},t)},getData:function(){var t=this;return $()(N.a.mark((function e(){var a,n,r,i,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("rubix-service/networking");case 2:for(i in a=e.sent,n=[],r=[{text:"",value:"name"}],a)n.push(c()({},a[i],{name:i}));for(s in a[A()(a)[0]])r.push({text:s,value:s});r.push({text:"Tools",value:"tools"}),t.headers=r,t.data=n;case 11:case"end":return e.stop()}}),e,t)})))()}}},j=Object(u.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("H3",{attrs:{align:"left"}},[t._v(" Network Inferface ")]),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.data,"item-key":"uuid","show-select":"","disable-sort":""},scopedSlots:t._u([{key:"no-data",fn:function(){return[t._v(" No data ")]},proxy:!0},{key:"item.tools",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"white--text",attrs:{icon:"",small:""}},[a("v-icon",{attrs:{small:"",dark:""},on:{click:function(){return t.onClickEdit(n)}}},[t._v("\n          mdi-square-edit-outline\n        ")])],1)]}}])}),t._v(" "),a("H3",{attrs:{align:"left"}},[t._v(" Firewall ")]),t._v(" "),a("v-row",{staticStyle:{"margin-bottom":"20px"}},[a("v-col",[a("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[a("v-card-title",[a("h5",[t._v("Firewall")]),t._v(" "),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-avatar",{attrs:{size:"35"}},[a("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),a("v-card-text",{staticClass:"card-text-height text-left"},[a("div",[a("span",{staticClass:"value-style"},[t._v("Firewall status: "+t._s(t.fireWallStatus))])]),t._v(" "),a("div",[a("span",{staticClass:"value-style"},[a("v-switch",{attrs:{label:"Enable Firewall"},on:{change:t.enableFirewall},model:{value:t.fireWallStatus,callback:function(e){t.fireWallStatus=e},expression:"fireWallStatus"}})],1)])])],1)],1),t._v(" "),a("v-col",[a("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[a("v-card-title",[a("h5",[t._v("Rule list")]),t._v(" "),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-avatar",{attrs:{size:"35"}},[a("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),a("v-card-text",{staticClass:"card-text-height"},t._l(t.portRules,(function(e){return a("div",{staticClass:"text-left"},[a("span",{staticClass:"value-style"},[t._v(t._s(e.index)+" | "+t._s(e.port)+" | "+t._s(e.action))])])})),0)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Update")])]),t._v(" "),a("v-card-text",[a("update-networking",{attrs:{save:t.onSave,cancel:t.onCancelUpdate,item:t.currentItem}})],1)],1)],1)],1)}),[],!1,null,"381780dc",null).exports,B=a("+n12"),q={components:{PageTitle:s.a},data:function(){return{logo:k.a,freeDisc:{},action:"",timezone:"",timezones:[],time:{},memory:{},confirmDialog:!1,objectKey:A.a}},mounted:function(){var t=this;return $()(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.freeDiscFunc(),t.getSystemTime(),t.getSystemMemory(),t.getTimezones();case 4:case"end":return e.stop()}}),e,t)})))()},computed:{setting:function(){return this.$store.state.setting}},methods:{onChangeTimezone:function(){this.confirmDialog=!0,this.action="changeTimezone"},changeTimezone:function(){var t=this;O.a.post("timezones",{timezone:this.timezone}).then((function(e){t.$toasted.show("success")})).catch((function(e){var a=e.message;t.$toasted.show(a,{type:"error"})}))},getTimezones:function(){var t=this;O.a.get("timezones").then((function(e){t.timezones=e}))},onCancelConfirm:function(){this.confirmDialog=!1,this.timezone="",this.action=""},restartHost:function(){var t=this;return $()(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("rubix-service/system/host/restart",{action:"restart"});case 2:a=e.sent,t.$toasted.show(a.toString());case 4:case"end":return e.stop()}}),e,t)})))()},onConfirm:function(){this.confirmDialog=!1,this[this.action]()},switchReboot:function(t){t&&(this.action="restartHost",this.confirmDialog=!0)},freeDiscFunc:function(){var t=this;O.a.get("rubix-service/disc").then((function(e){t.freeDisc=e}))},getSystemTime:function(){var t=this;O.a.get("rubix-service/time").then((function(e){e.tz_local&&(e.tz_local.forEach((function(t,a){var n="tz_local_["+a+"]";e=c()({},e,i()({},n,t))})),delete e.tz_local),t.time=e}))},getSystemMemory:function(){var t=this;O.a.get("rubix-service/memory").then((function(e){t.memory=e}))},toUpperTextKey:function(t){return Object(B.o)(t)}}},I=(n={name:"services",components:{SystemDefaultServices:D,Networking:j,InstalledServices:C,HostInfo:Object(u.a)(q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card-text",[a("page-title",{attrs:{title:"Host Info"}}),t._v(" "),a("div",{staticStyle:{"text-align":"start"}},[a("v-row",[a("v-col",[a("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[a("v-card-title",[a("h5",[t._v("Reboot Host")]),t._v(" "),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-avatar",{attrs:{size:"35"}},[a("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),a("v-card-text",{staticClass:"card-text-height"},[a("v-switch",{attrs:{label:"Reboot"},on:{change:t.switchReboot}})],1)],1)],1),t._v(" "),a("v-col",[a("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[a("v-card-title",[a("h5",[t._v("SYSTEM DISC USAGE")]),t._v(" "),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-avatar",{attrs:{size:"35"}},[a("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),a("v-card-text",{staticClass:"card-text-height"},t._l(t.objectKey(t.freeDisc),(function(e,n){return a("div",{key:n},[t._v("\n                "+t._s(t.toUpperTextKey(e))+": "),a("span",{staticClass:"value-style"},[t._v(t._s(t.freeDisc[e]))])])})),0),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{"x-small":"",color:"pink darken-2",text:""},on:{click:function(e){return t.freeDiscFunc()}}},[a("v-icon",[t._v("mdi-refresh")]),t._v(" Refresh")],1)],1)],1)],1),t._v(" "),a("v-col",[a("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[a("v-card-title",[a("h5",[t._v("SYSTEM TIME")]),t._v(" "),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-avatar",{attrs:{size:"35"}},[a("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),a("v-card-text",{staticClass:"card-text-height"},[t._l(t.objectKey(t.time),(function(e,n){return a("div",{key:n},[t._v("\n                "+t._s(t.toUpperTextKey(e))+": \n                "),"time_utc"==e||"time_local"==e?a("span",{staticClass:"value-style"},[t._v(t._s(t.time[e]))]):t._e(),t._v(" "),"time_utc"!=e&&"time_local"!=e?a("span",{staticClass:"value-style"},[t._v(t._s(t.time[e]))]):t._e()])})),t._v(" "),a("v-autocomplete",{attrs:{items:t.timezones,label:"Timezones","persistent-hint":""},on:{change:t.onChangeTimezone},model:{value:t.timezone,callback:function(e){t.timezone=e},expression:"timezone"}})],2),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{"x-small":"",color:"pink darken-2",text:""},on:{click:function(e){return t.getSystemTime()}}},[a("v-icon",[t._v("mdi-refresh")]),t._v(" Refresh")],1)],1)],1)],1),t._v(" "),a("v-col",[a("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[a("v-card-title",[a("h5",[t._v("SYSTEM MEMORY")]),t._v(" "),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-avatar",{attrs:{size:"35"}},[a("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),a("v-card-text",{staticClass:"card-text-height"},t._l(t.objectKey(t.memory),(function(e,n){return a("div",{key:n},[t._v("\n                "+t._s(t.toUpperTextKey(e))+": "),a("span",{staticClass:"value-style"},[t._v(t._s(t.memory[e]))])])})),0),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{"x-small":"",color:"pink darken-2",text:""},on:{click:function(e){return t.getSystemMemory()}}},[a("v-icon",[t._v("mdi-refresh")]),t._v(" Refresh")],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("\n        Confirm?\n      ")]),t._v(" "),a("v-card-text",[t._v("Are you sure?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.onCancelConfirm}},[t._v("\n          No\n        ")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.onConfirm()}}},[t._v("\n          Yes\n        ")])],1)],1)],1)],1)}),[],!1,null,"6711c4e4",null).exports},data:function(){return{tab:0,tabs:["installed-services","items","networking","host-info"],isDisabled:!1}},mounted:function(){this.setTab()},watch:{"$route.query.tab":function(t){this.tab=this.tabs.indexOf(t)},tab:function(t,e){var a=this.$route.query.tab;if(a!==this.tabs[t]){var n=this.tabs[t];this.$router.push({path:"services",query:{tab:n}})}}}},i()(n,"mounted",(function(){var t=this.$route.query.tab;this.tab=this.tabs.indexOf(t)})),i()(n,"methods",{setTab:function(){var t=this.$route.query.tab;this.tab=t?this.tabs.indexOf(t):0}}),i()(n,"computed",{setting:function(){return this.$store.state.setting}}),n),F=Object(u.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{attrs:{"fixed-tabs":"",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{key:0},[t._v(" Installed Apps ")]),t._v(" "),a("v-tab",{key:1},[t._v(" Services ")]),t._v(" "),a("v-tab",{key:2},[t._v(" Networking ")]),t._v(" "),a("v-tab",{key:3},[t._v(" Host Info ")])],1),t._v(" "),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:0},[a("installed-services")],1),t._v(" "),a("v-tab-item",{key:1},[a("system-default-services")],1),t._v(" "),a("v-tab-item",{key:2},[a("networking")],1),t._v(" "),a("v-tab-item",{key:3},[a("host-info")],1)],1)],1)}),[],!1,null,null,null);e.default=F.exports}}]);
//# sourceMappingURL=8.a3f15638c67268da8cf0.js.map