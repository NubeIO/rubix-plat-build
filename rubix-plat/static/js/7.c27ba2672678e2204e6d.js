(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+SqX":function(t,e,a){"use strict";var n={name:"page-title",props:["title"]},i=a("psIG"),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("h1",{staticClass:"text-h5 text-left py-3"},[t._v(t._s(t.title))])}),[],!1,null,null,null);e.a=s.exports},"/NG7":function(t,e,a){"use strict";a.r(e);var n=a("06Hw"),i=a.n(n),s=a("YYXh"),o=a.n(s),r=a("Kz1y"),l=a.n(r),c=a("TcPG"),u=a.n(c),p=a("mQ3e"),d=a.n(p),v=a("7Ipj"),f=a("nz6T"),h=a("A5Vd"),m={name:"app-edit-config",props:["appDetail","closeDialog"],data:function(){return{config:null,isFetchingConfig:!1,isSavingConfig:!1,isConfigJSON:!1}},mounted:function(){this.fetchAppConfig(),this.isConfigJSON=this.isJSON(this.appDetail.app_type)},methods:{isJSON:function(t){return h.b[t]===h.d},fetchAppConfig:function(){var t=this,e=this.appDetail.service,a=this.appDetail.app_type;this.isFetchingConfig=!0,f.l(e,a,{restrictToast:!0}).then((function(e){t.config=e})).catch((function(t){})).finally((function(){t.isFetchingConfig=!1}))},saveConfig:function(){var t=this,e=this.appDetail.service,a=this.appDetail.app_type;this.isSavingConfig=!0,f.t(e,a,this.config).then((function(e){t.$toasted.show("Successfully updated config for "+t.appDetail.display_name),t.closeDialog()})).catch((function(e){t.$toasted.show("Failed to update config for "+t.appDetail.display_name,{type:"error"})})).finally((function(){t.isSavingConfig=!1}))}}},g=a("psIG"),_=Object(g.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.isFetchingConfig}},[a("v-card-title",[t._v(t._s(t.appDetail.display_name)+" | Edit Config")]),t._v(" "),a("v-card-text",[a("v-container",[t.isConfigJSON?a("v-jsoneditor",{attrs:{options:{mode:"code"},plus:!1,height:"400px"},model:{value:t.config,callback:function(e){t.config=e},expression:"config"}}):t._e(),t._v(" "),t.isConfigJSON?t._e():a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Enter ENV config"},model:{value:t.config,callback:function(e){t.config=e},expression:"config"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",loading:t.isSavingConfig},on:{click:t.saveConfig}},[t._v(" Save ")]),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:t.closeDialog}},[t._v(" Cancel ")])],1)],1)}),[],!1,null,"235af619",null).exports,w=a("MKDl"),b=a("7Vew");function D(t){return t.status&&h.a.RUBIX_PLAT!==t.service}var S={name:"apps-download-multi-step",props:["app-details","close-dialog","deleteDownloadState","currentDownloadState","fetchDownloadAppState","clearDownloadAppStateInterval"],components:{AppStatusChip:w.a,TextFieldDisplay:b.a},data:function(){return{valid:!1,currentView:1,appReleases:[],serviceStatus:{},isFetchingAppStatus:!1,selectedVersion:null,multiStepViewConfig:{1:{back:1,forward:2,title:"App Status",hasBack:!1,disabled:!1,hasForward:!0,buttonLabel:function(t){return D(t)?"Stop":"Continue"},loader:!1},2:{back:1,forward:3,title:"Download App",hasBack:!0,disabled:!1,hasForward:!0,buttonLabel:"Download",loader:!1},3:{back:2,forward:4,title:"Install App",hasBack:!0,hasForward:!0,buttonLabel:"Install",loader:!1,disabled:!1},4:{back:3,forward:4,title:"Installation Complete",hasBack:!0,hasForward:!0,buttonLabel:"Ok",loader:!1,disabled:!1}},loading:!0,rules:{required:function(t){return!!t||"Required."}},versionRules:[function(t){return!!t||"Version No. is required."}]}},mounted:function(){var t=this;return o()(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.appDetails.service,t.loading=!0,e.next=4,t.fetchAppStatus();case 4:return e.next=6,f.m(a).then((function(e){t.appReleases=e,t.loading=!1})).catch((function(t){console.error(t)})).finally((function(){t.loading=!1}));case 6:case"end":return e.stop()}}),e,t)})))()},updated:function(){this.currentDownloadState!==h.c.DOWNLOAD_IN_PROGRESS&&this.currentDownloadState?this.multiStepViewConfig[3].disabled=!1:this.multiStepViewConfig[3].disabled=!0},watch:{currentDownloadState:function(t,e){this.showDownloadStateView(t)}},methods:{showDownloadStateView:function(t){switch(t){case h.c.DOWNLOAD_IN_PROGRESS:this.currentView=3;break;case h.c.DOWNLOAD_COMPLETE:this.currentView=3,this.clearDownloadAppStateInterval()}},back:function(){this.currentView=this.currentView-1},cancel:function(){3!==this.currentView&&2!==this.currentView||this.deleteDownloadState(),this.closeDialog(!0)},next:function(t){var e=this;return o()(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.currentView,t.t0=a,t.next=1===t.t0?4:2===t.t0?6:3===t.t0?8:4===t.t0?10:12;break;case 4:return e.stopAndContinue(),t.abrupt("break",14);case 6:return e.download(),t.abrupt("break",14);case 8:return e.install(),t.abrupt("break",14);case 10:return e.continue(),t.abrupt("break",14);case 12:return e.currentView++,t.abrupt("break",14);case 14:case"end":return t.stop()}}),t,e)})))()},stopAndContinue:function(){var t=this,e=(this.serviceStatus.status,this.serviceStatus.service);D(this.serviceStatus)?(this.spinLoader(!0),f.c(h.f.STOP,e).then((function(e){return t.spinLoader(!1),t.currentView++,t.fetchAppStatus()})).catch((function(e){t.spinLoader(!1)}))):this.currentView++},continue:function(){this.closeDialog(!0)},spinLoader:function(t){this.multiStepViewConfig[this.currentView].loader=t},download:function(){var t=this;return o()(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.downloadForm.validate()){e.next=3;break}return e.abrupt("return");case 3:t.spinLoader(!0),a={service:t.appDetails.service,version:t.selectedVersion},f.h(a).then((function(e){t.currentView=3,t.fetchDownloadAppState(),t.spinLoader(!1)})).catch((function(e){e&&e.message&&(t.versionRules.push((function(){return e.message})),t.$refs.downloadForm.validate(),t.versionRules.pop()),t.spinLoader(!1)}));case 6:case"end":return e.stop()}}),e,t)})))()},install:function(){var t=this;this.spinLoader(!0);var e={service:this.appDetails.service,version:this.selectedVersion};f.s(e).then((function(e){t.spinLoader(!1),t.fetchAppStatus(),t.currentView++})).catch((function(e){t.spinLoader(!1),t.currentView--,e&&e.message&&(t.versionRules.push((function(){return e.message})),t.$refs.downloadForm.validate(),t.versionRules.pop())})).finally((function(){t.deleteDownloadState()}))},fetchAppStatus:function(){var t=this;return this.isFetchingAppStatus=!0,f.n(this.appDetails.service,{restrictToast:!0}).then((function(e){t.selectedVersion=e.version,t.serviceStatus=e})).catch((function(e){t.selectedVersion=null,t.serviceStatus={}})).finally((function(){t.isFetchingAppStatus=!1}))}}},C=Object(g.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.isFetchingAppStatus}},[a("v-card-title",[t.multiStepViewConfig[t.currentView].hasBack?a("v-btn",{staticClass:"white--text mr-1",attrs:{icon:"",medium:""},on:{click:t.back}},[a("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-arrow-left ")])],1):t._e(),t._v(" "),a("span",{staticClass:"headline"},[t._v(t._s(t.multiStepViewConfig[t.currentView].title))])],1),t._v(" "),a("v-card-text",[a("v-stepper",{model:{value:t.currentView,callback:function(e){t.currentView=e},expression:"currentView"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.currentView>1,step:"1"}},[t._v(" 1 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.currentView>2,step:"2"}},[t._v(" 2 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.currentView>3,step:"3"}},[t._v(" 3 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{step:"4"}},[t._v(" 4 ")])],1),t._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Name",value:t.appDetails.display_name}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[a("text-field-display",{attrs:{label:"Active",value:(!t.isFetchingAppStatus&&t.serviceStatus.time_since?t.serviceStatus.time_since:"-")||"N/A"}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[a("app-status-chip",{attrs:{state:t.serviceStatus.state}})],1),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"1"}},[a("v-btn",{staticClass:"white--text",attrs:{icon:"",medium:"",color:"success"},on:{click:t.fetchAppStatus}},[a("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-refresh ")])],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Version",value:!t.isFetchingAppStatus&&t.serviceStatus.version?t.serviceStatus.version:"-"}})],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"downloadForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Name",value:t.appDetails.display_name}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[a("text-field-display",{attrs:{label:"Active",value:(!t.isFetchingAppStatus&&t.serviceStatus.time_since?t.serviceStatus.time_since:"-")||"N/A"}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[a("app-status-chip",{attrs:{state:t.serviceStatus.state}})],1),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"1"}},[a("v-btn",{staticClass:"white--text",attrs:{icon:"",medium:"",color:"success"},on:{click:t.fetchAppStatus}},[a("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-refresh ")])],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Version",value:!t.isFetchingAppStatus&&t.serviceStatus.version?t.serviceStatus.version:"-"}})],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{attrs:{loading:t.loading,items:t.appReleases,label:"Select Release Version",hideSelected:"",clearable:"","item-text":"name","item-value":"tag_name",rules:t.versionRules},model:{value:t.selectedVersion,callback:function(e){t.selectedVersion=e},expression:"selectedVersion"}})],1)],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[a("div",{staticClass:"text-left"},[t.currentDownloadState?t._e():a("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"info"}},[t._v("\n              Fetching download status "),a("strong",[t._v("Please Wait!")])]),t._v(" "),"DOWNLOAD_IN_PROGRESS"===t.currentDownloadState?a("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"info"}},[t._v("\n              Downloading Selected App "),a("strong",[t._v("Please Wait!")])]):t._e(),t._v(" "),"DOWNLOAD_COMPLETE"===t.currentDownloadState?a("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"success"}},[t._v("\n              Downloading Completed\n            ")]):t._e()],1),t._v(" "),"DOWNLOAD_COMPLETE"===t.currentDownloadState?a("div",{staticClass:"pt-3"},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("div",{staticClass:"grey--text mb-2 caption"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                  "+t._s(t.appDetails.display_name+" - "+t.appDetails.service)+"\n                ")])]),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("div",{staticClass:"grey--text mb-2 caption"},[t._v("Version")]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                  "+t._s(t.isFetchingAppStatus?"-":t.selectedVersion)+"\n                ")])])],1)],1):t._e()]),t._v(" "),a("v-stepper-content",{attrs:{step:"4"}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"12"}},[a("div",{staticClass:"font-weight-large"},[t._v("Successfully installed "+t._s(t.appDetails.display_name)+" app.")])])],1),t._v(" "),a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("div",{staticClass:"grey--text caption mb-2"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(t.appDetails.display_name)+"\n              ")])]),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("div",{staticClass:"grey--text caption mb-2"},[a("span",[t._v("Version")])]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(t.selectedVersion)+"\n              ")])])],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[t.multiStepViewConfig[t.currentView].hasForward?a("v-btn",{attrs:{color:"primary",disabled:t.multiStepViewConfig[t.currentView].disabled,loading:t.multiStepViewConfig[t.currentView].loader},on:{click:t.next}},[t._v("\n      "+t._s("function"==typeof t.multiStepViewConfig[t.currentView].buttonLabel?t.multiStepViewConfig[t.currentView].buttonLabel(t.serviceStatus):t.multiStepViewConfig[t.currentView].buttonLabel)+"\n    ")]):t._e(),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" Cancel ")])],1)],1)}),[],!1,null,null,null).exports,x=a("OKta");function A(t){return t.status&&h.a.RUBIX_PLAT!==t.service}var k,y={name:"apps-upload-multi-step",props:["app-details","close-dialog"],components:{AppStatusChip:w.a,TextFieldDisplay:b.a,RbxButton:x.a},data:function(){return{isDeleteAppData:!1,isDeletingAppData:!1,valid:!1,currentView:1,version:null,serviceStatus:{},isFetchingAppStatus:!1,isStartingApp:!1,errorMessage:"",file:null,rubixAppTypes:h.g,multiStepViewConfig:{1:{back:1,forward:2,title:function(t){return t+" | App Status"},hasBack:!1,hasForward:!0,buttonLabel:function(t){return A(t)?"Stop":"Continue"},loader:!1},2:{back:1,forward:3,title:function(t){return t+" | Upload App"},hasBack:!0,hasForward:!0,buttonLabel:"Upload",loader:!1},3:{back:2,forward:4,title:function(t){return t+" | Install App"},hasBack:!0,hasForward:!0,buttonLabel:"Install",loader:!1},4:{back:3,forward:4,title:function(t){return t+" | Installation Complete"},hasBack:!0,hasForward:!0,buttonLabel:"Ok",loader:!1}},loading:!0,rules:{required:function(t){return!!t||"Required."}},versionRules:[function(t){return!!t||"Version No. is required."}]}},mounted:function(){var t=this;return o()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAppStatus();case 2:case"end":return e.stop()}}),e,t)})))()},methods:{back:function(){this.currentView=this.currentView-1},cancel:function(){this.closeDialog(!0)},next:function(t){var e=this;return o()(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.currentView,t.t0=a,t.next=1===t.t0?4:2===t.t0?6:3===t.t0?8:4===t.t0?10:12;break;case 4:return e.stopAndContinue(),t.abrupt("break",14);case 6:return e.upload(),t.abrupt("break",14);case 8:return e.install(),t.abrupt("break",14);case 10:return e.continue(),t.abrupt("break",14);case 12:return e.currentView++,t.abrupt("break",14);case 14:case"end":return t.stop()}}),t,e)})))()},stopAndContinue:function(){var t=this,e=(this.serviceStatus.status,this.serviceStatus.service);A(this.serviceStatus)?(this.spinLoader(!0),f.c(h.f.STOP,e).then((function(e){return t.spinLoader(!1),t.currentView++,t.fetchAppStatus()})).catch((function(e){t.spinLoader(!1)}))):this.currentView++},startApp:function(){var t=this,e=this.serviceStatus.service;this.isStartingApp=!0,f.c(h.f.START,e).then((function(a){return t.$toasted.show("Successfully started "+e),t.continue(),t.fetchAppStatus()})).catch((function(a){t.$toasted.show("Could not start "+e,{type:"error"})})).finally((function(){t.isStartingApp=!1}))},continue:function(){this.closeDialog(!0)},spinLoader:function(t){this.multiStepViewConfig[this.currentView].loader=t},upload:function(){var t=this;this.$refs.uploadForm.validate()&&(this.spinLoader(!0),f.v(this.file,this.appDetails.service,this.version).then((function(e){t.currentView++})).catch((function(e){e&&e.message&&(t.errorMessage=e.message)})).finally((function(){t.spinLoader(!1)})))},install:function(){var t=this;this.spinLoader(!0);var e={service:this.appDetails.service,version:this.version};f.s(e).then((function(e){t.spinLoader(!1),t.fetchAppStatus(),t.currentView++,t.errorMessage=""})).catch((function(e){t.spinLoader(!1),A(t.serviceStatus)?t.currentView--:t.currentView++,e&&e.message&&A(t.serviceStatus)&&(t.errorMessage=e.message)}))},fetchAppStatus:function(){var t=this;return this.isFetchingAppStatus=!0,f.n(this.appDetails.service,{restrictToast:!0}).then((function(e){t.serviceStatus=e})).catch((function(e){t.serviceStatus={}})).finally((function(){t.isFetchingAppStatus=!1}))},onFileSelect:function(){if(this.file&&this.file.name){var t=this.file.name,e=new RegExp("[0-9].[0-9].[0-9]"),a=t.match(e,"");a&&Array.isArray(a)&&(a=a[0],this.version="v"+a)}},deleteAppData:function(){var t=this;this.isDeletingAppData=!0,f.e(this.serviceStatus.service).then((function(){t.$toasted.show("Successfully deleted app data"),t.isDeleteAppData=!1})).catch((function(){t.$toasted.show("Cannot deleted app data",{type:"error"})})).finally((function(){t.isDeletingAppData=!1}))},toggleDeleteAppData:function(){this.isDeleteAppData=!this.isDeleteAppData}}},V=Object(g.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.isFetchingAppStatus}},[a("v-card-title",[t.multiStepViewConfig[t.currentView].hasBack?a("v-btn",{staticClass:"white--text mr-1",attrs:{icon:"",medium:""},on:{click:t.back}},[a("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-arrow-left ")])],1):t._e(),t._v(" "),a("span",{staticClass:"sub-headline"},[t._v(t._s(t.multiStepViewConfig[t.currentView].title(t.appDetails.display_name)))])],1),t._v(" "),a("v-card-text",[a("v-stepper",{model:{value:t.currentView,callback:function(e){t.currentView=e},expression:"currentView"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.currentView>1,step:"1"}},[t._v(" 1 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.currentView>2,step:"2"}},[t._v(" 2 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.currentView>3,step:"3"}},[t._v(" 3 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{step:"4"}},[t._v(" 4 ")])],1),t._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Name",value:t.appDetails.display_name}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"2"}},[a("text-field-display",{attrs:{label:"Active",value:(!t.isFetchingAppStatus&&t.serviceStatus.time_since?t.serviceStatus.time_since:"-")||"N/A"}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[t.isFetchingAppStatus?t._e():a("app-status-chip",{attrs:{state:t.serviceStatus.state}})],1),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"1"}},[a("v-btn",{staticClass:"white--text",attrs:{icon:"",medium:"",color:"success"},on:{click:t.fetchAppStatus}},[a("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-refresh ")])],1)],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"uploadForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Name",value:t.appDetails.display_name}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"2"}},[a("text-field-display",{attrs:{label:"Active",value:(!t.isFetchingAppStatus&&t.serviceStatus.time_since?t.serviceStatus.time_since:"-")||"N/A"}})],1),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[t.isFetchingAppStatus?t._e():a("app-status-chip",{attrs:{state:t.serviceStatus.state}})],1),t._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"1"}},[a("v-btn",{staticClass:"white--text",attrs:{icon:"",medium:"",color:"success"},on:{click:t.fetchAppStatus}},[a("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-refresh ")])],1)],1)],1),t._v(" "),a("v-row",{staticClass:"pa-3",attrs:{cols:"8"}},[a("v-file-input",{attrs:{rules:[t.rules.required],counter:"","show-size":"","truncate-length":"15"},on:{change:t.onFileSelect},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),t._v(" "),a("v-row",[a("v-col",{staticClass:"text-left ml-8",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Version",type:"text","single-line":"",rules:[t.rules.required]},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}})],1)],1),t._v(" "),t.errorMessage?a("v-alert",{staticClass:"text-left",attrs:{dense:"",outlined:"",type:"error"}},[t._v("\n              "+t._s(t.errorMessage)+"\n            ")]):t._e()],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("div",{staticClass:"grey--text mb-2 caption"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(t.appDetails.display_name+" - "+t.appDetails.service)+"\n              ")])]),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("div",{staticClass:"grey--text mb-2 caption"},[t._v("Version")]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(t.version)+"\n              ")])]),t._v(" "),t.serviceStatus.app_type===t.rubixAppTypes.PYTHON_APP?a("v-col",{staticClass:"text-left",attrs:{cols:"12"}},[t.isDeleteAppData?t._e():a("rbx-button",{attrs:{color:"pink",click:t.toggleDeleteAppData,title:"Delete App Data"}}),t._v(" "),t.isDeleteAppData?a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Confirm? ")]),t._v(" "),a("v-card-text",[t._v("Do you want to delete app data?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.isDeleteAppData=!1}}},[t._v(" Cancel ")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",loading:t.isDeletingAppData,text:""},on:{click:t.deleteAppData}},[t._v(" Yes ")])],1)],1):t._e()],1):t._e()],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"4"}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"12"}},[a("div",{staticClass:"font-weight-large"},[t._v("Successfully installed "+t._s(t.appDetails.display_name)+" app.")])])],1),t._v(" "),a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("div",{staticClass:"grey--text caption mb-2"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(t.appDetails.display_name)+"\n              ")])]),t._v(" "),a("v-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("div",{staticClass:"grey--text caption mb-2"},[a("span",[t._v("Version")])]),t._v(" "),a("div",{staticClass:"font-weight-medium"},[t._v("\n                "+t._s(t.serviceStatus.version)+"\n              ")])]),t._v(" "),a("v-col",{attrs:{cols:"4"}},[a("rbx-button",{attrs:{color:"success",click:t.startApp,loading:t.isStartingApp,title:"Start App"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[t.multiStepViewConfig[t.currentView].hasForward?a("v-btn",{attrs:{color:"primary",loading:t.multiStepViewConfig[t.currentView].loader},on:{click:t.next}},[t._v("\n      "+t._s("function"==typeof t.multiStepViewConfig[t.currentView].buttonLabel?t.multiStepViewConfig[t.currentView].buttonLabel(t.serviceStatus):t.multiStepViewConfig[t.currentView].buttonLabel)+"\n    ")]):t._e(),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" Cancel ")])],1)],1)}),[],!1,null,null,null).exports,N=(a("KSAc"),"DOWNLOAD_IN_PROGRESS"),I="DOWNLOAD_COMPLETE",O=(k={props:["selectedApps","clearSelectedApps","closeDialog","fetchDownloadAppState","currentDownloadState","appDownloadStates","clearDownloadAppStateInterval","deleteDownloadState"],components:{AppStatusChip:w.a,TextFieldDisplay:b.a},data:function(){return{versionForm:!1,renderReleaseCount:0,isFetchingAppStatuses:!1,successInstallApps:[],failureInstallApps:[],currentView:1,refreshTime:1e4,versionRules:[function(t){return!!t||"Version No. is required."}],multiStepViewConfig:{1:{hasBack:!1,hasForward:!0,title:"Selected Apps",buttonLabel:"Continue",loader:!1,disabled:!1,hasCancel:!0},2:{hasBack:!0,hasForward:!0,title:"Download",buttonLabel:"Download App",loader:!1,disabled:!1,hasCancel:!0},3:{hasBack:!1,hasForward:!0,title:"Download",buttonLabel:"Install",hasCancelInstallation:!0,loader:!1,disabled:!0,hasCancel:!0,cancelTitle:"Close"},4:{hasBack:!1,hasForward:!0,title:"Installation Complete",buttonLabel:"Ok",loader:!1,disabled:!1,hasCancel:!1}}}},updated:function(){this.hasSelectedApps||this.currentDownloadState||this.currentDownloadState===I?this.multiStepViewConfig[1].disabled=!1:(this.currentView=1,this.multiStepViewConfig[1].disabled=!0),this.currentDownloadState!==N&&this.currentDownloadState?this.multiStepViewConfig[3].disabled=!1:this.multiStepViewConfig[3].disabled=!0},watch:{currentDownloadState:function(t,e){this.showDownloadStateView(t)}},created:function(){this.showDownloadStateView(this.currentDownloadState)},computed:{currentBulkAppDownloadState:function(){return this.$store.state.currentBulkAppDownloadState},hasSelectedApps:function(){return this.selectedApps.length>0},apps:function(){return this.selectedApps.map((function(t){return{serviceName:t.service,state:t.state,version:t.version,latestVersion:t.latest_version,minVersion:t.min_support_version,displayName:t.display_name,loadingReleases:!1,releases:[]}}))},downloadStates:function(){return Array.isArray(this.appDownloadStates)&&this.appDownloadStates.length>0&&(this.currentView=3),(this.appDownloadStates||[]).map((function(t){return{isDownloading:!t.download,version:t.version,serviceName:t.service,hasError:!!t.error,errorMessage:t.error}}))}}},u()(k,"created",(function(){this.fetchAppsReleases()})),u()(k,"methods",{back:function(){this.currentView=this.currentView-1},spinLoader:function(t){this.multiStepViewConfig[this.currentView].loader=t},showDownloadStateView:function(t){switch(t){case N:this.currentView=3;break;case I:this.currentView=3,this.clearDownloadAppStateInterval()}},fetchAppsReleases:function(){var t=this,e=this.selectedApps.map((function(t){return t.service}));return this.apps.forEach((function(t){t.loadingReleases=!0})),f.p(e).then((function(e){t.apps.forEach((function(t,a){t.releases=e[a]}))})).catch((function(){t.$toasted.show("Error fetching available releases")})).finally((function(){t.apps.forEach((function(t){t.loadingReleases=!1})),t.renderReleaseCount++}))},disableInstallationButton:function(){this.multiStepViewConfig[3].disabled=!0},bulkDownloadApps:function(){var t=this;this.currentView=3,this.disableInstallationButton();var e=this.apps.map((function(t){return{version:t.version,service:t.serviceName}}));return this.spinLoader(!0),f.a(e).then((function(){t.spinLoader(!1),t.fetchDownloadAppState()})).catch((function(e){t.spinLoader(!1)}))},next:function(t){var e=this;return o()(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.currentView,t.t0=a,t.next=1===t.t0?4:2===t.t0?6:3===t.t0?8:4===t.t0?10:12;break;case 4:return e.stopAndContinue(),t.abrupt("break",14);case 6:return e.download(),t.abrupt("break",14);case 8:return e.install(),t.abrupt("break",14);case 10:return e.continue(),t.abrupt("break",14);case 12:return e.currentView++,t.abrupt("break",14);case 14:case"end":return t.stop()}}),t,e)})))()},stopAndContinue:function(){this.currentView++},download:function(){this.$refs.versionForm.validate()&&this.bulkDownloadApps()},install:function(){var t=this,e=this.downloadStates.filter((function(t){return!t.hasError})).map((function(t){return{service:t.serviceName,version:t.version}}));return this.spinLoader(!0),f.b(e).then((function(e){t.spinLoader(!1),t.currentView=4,t.successInstallApps=e.filter((function(t){return t.installation})),t.failureInstallApps=e.filter((function(t){return!t.installation}))})).catch((function(e){t.spinLoader(!1),t.deleteDownloadState(),t.$toasted.show("Unexpected error occured while bulk installing apps. Please try again")}))},continue:function(){this.resetDialog()},cancel:function(){this.fetchDownloadAppState(),this.closeDialog()},cancelInstallation:function(){this.resetDialog()},resetDialog:function(){this.versionForm=!1,this.renderReleaseCount=0,this.isFetchingAppStatuses=!1,this.currentView=1,this.multiStepViewConfig={1:{hasBack:!1,hasForward:!0,title:"Selected Apps",buttonLabel:"Continue",loader:!1},2:{hasBack:!0,hasForward:!0,title:"Download",buttonLabel:"Download App",loader:!1},3:{hasBack:!1,hasForward:!0,title:"Download",buttonLabel:"Install",loader:!1},4:{hasBack:!1,hasForward:!0,title:"Installation Complete",buttonLabel:"Ok",loader:!1}},this.deleteDownloadState(),this.fetchAppsReleases(),this.clearSelectedApps(),this.closeDialog(!0,{unmount:!0})}}),k),F=Object(g.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{loading:t.isFetchingAppStatuses}},[a("v-card-title",[t.multiStepViewConfig[t.currentView].hasBack?a("v-btn",{staticClass:"white--text mr-1",attrs:{icon:"",medium:""},on:{click:t.back}},[a("v-icon",{attrs:{medium:"",dark:""}},[t._v(" mdi-arrow-left ")])],1):t._e(),t._v(" "),a("span",{staticClass:"sub-headline"},[t._v(" Bulk Apps | "+t._s(t.multiStepViewConfig[t.currentView].title)+" ")])],1),t._v(" "),a("v-card-text",[a("v-stepper",{model:{value:t.currentView,callback:function(e){t.currentView=e},expression:"currentView"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.currentView>1,step:"1"}},[t._v(" 1 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.currentView>2,step:"2"}},[t._v(" 2 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.currentView>3,step:"3"}},[t._v(" 3 ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{step:"4"}},[t._v(" 4 ")])],1),t._v(" "),a("v-stepper-items",[a("v-stepper-content",{staticClass:"pa-0",attrs:{step:"1"}},[t.hasSelectedApps?t._e():a("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"info"}},[t._v("\n            Please select apps from the grid to bulk download.\n          ")]),t._v(" "),a("v-list",{staticClass:"text-left",attrs:{flat:"",subheader:"",dense:""}},[a("v-subheader",[t._v("Selected Apps")]),t._v(" "),t._l(t.apps,(function(e,n){return a("v-list-item",{key:"selected_apps-"+n},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.displayName)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.version)}})],1),t._v(" "),a("v-list-item-icon",[a("app-status-chip",{attrs:{state:e.state}})],1)],1)}))],2)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"versionForm",attrs:{"lazy-validation":""},model:{value:t.versionForm,callback:function(e){t.versionForm=e},expression:"versionForm"}},[a("v-row",{staticClass:"text-left",attrs:{dense:""}},t._l(t.apps,(function(e,n){return a("v-col",{key:"version-form-"+t.renderReleaseCount+"-"+n,attrs:{cols:"12"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"4"}},[a("text-field-display",{attrs:{label:"Name",value:e.displayName}})],1),t._v(" "),a("v-col",{attrs:{cols:"8"}},[a("v-combobox",{attrs:{loading:e.loadingReleases,items:e.releases,label:"Select Release Version",hideSelected:"",clearable:"","item-text":"name","item-value":"tag_name",rules:t.versionRules},model:{value:e.version,callback:function(a){t.$set(e,"version",a)},expression:"app.version"}})],1)],1)],1)})),1)],1)],1),t._v(" "),a("v-stepper-content",{staticClass:"pa-0",attrs:{step:"3"}},[a("div",["DOWNLOAD_IN_PROGRESS"===t.currentDownloadState?a("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"info"}},[t._v("\n              Downloading Selected App(s) "),a("strong",[t._v("Please Wait!")])]):t._e(),t._v(" "),"DOWNLOAD_COMPLETE"===t.currentDownloadState?a("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"success"}},[t._v("\n              Downloading Completed\n            ")]):t._e()],1),t._v(" "),"DOWNLOAD_COMPLETE"===t.currentDownloadState?a("v-list",{staticClass:"text-left",attrs:{flat:"",subheader:"",dense:""}},[a("v-subheader",[t._v("App Download Statuses")]),t._v(" "),t._l(t.downloadStates,(function(e,n){return a("v-list-item",{key:"download-statuses-"+n},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.serviceName)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.version)}})],1),t._v(" "),a("v-list-item-icon",[e.isDownloading?a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:"yellow"}},[t._v("Downloading")])],1)]):e.hasError?a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:"red"}},[t._v("Failed")])],1)]):e.isDownloading||e.hasError?t._e():a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:"green"}},[t._v("Downloaded")])],1)])])],1)}))],2):t._e()],1),t._v(" "),a("v-stepper-content",{staticClass:"pa-0",attrs:{step:"4"}},["DOWNLOAD_COMPLETE"===t.currentDownloadState?a("v-list",{staticClass:"text-left",attrs:{flat:"",subheader:"",dense:""}},[t.successInstallApps.length>0?a("v-list-item-group",[a("v-subheader",[t._v("Installation Completed Apps")]),t._v(" "),t._l(t.successInstallApps,(function(e,n){return a("v-list-item",{key:"install-complete-"+n},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.service)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.version)}})],1),t._v(" "),a("v-list-item-icon",[a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:"blue"}},[t._v("Installed")])],1)])])],1)}))],2):t._e(),t._v(" "),t.failureInstallApps.length>0?a("v-list-item-group",[a("v-subheader",[t._v(" Installation Failed Apps")]),t._v(" "),t._l(t.failureInstallApps,(function(e,n){return a("v-list-item",{key:"installation-failed-"+n},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.service)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.version)}}),t._v(" "),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.error)}})],1),t._v(" "),a("v-list-item-icon",[a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:"red"}},[t._v("Failed")])],1)])])],1)}))],2):t._e()],1):t._e()],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-card-actions",[t.multiStepViewConfig[t.currentView].hasForward?a("v-btn",{attrs:{color:"primary",loading:t.multiStepViewConfig[t.currentView].loader,disabled:t.multiStepViewConfig[t.currentView].disabled},on:{click:t.next}},[t._v("\n        "+t._s("function"==typeof t.multiStepViewConfig[t.currentView].buttonLabel?t.multiStepViewConfig[t.currentView].buttonLabel(t.serviceStatus):t.multiStepViewConfig[t.currentView].buttonLabel)+"\n      ")]):t._e(),t._v(" "),t.multiStepViewConfig[t.currentView].hasCancelInstallation?a("v-btn",{attrs:{color:"pink",disabled:t.multiStepViewConfig[t.currentView].disabled,text:""},on:{click:t.cancelInstallation}},[t._v("\n        Cancel Install\n      ")]):t._e(),t._v(" "),t.multiStepViewConfig[t.currentView].hasCancel?a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v(" Close ")]):t._e()],1)],1)],1)}),[],!1,null,null,null).exports,L=a("lkCm"),E="DOWNLOAD_IN_PROGRESS",P="DOWNLOAD_COMPLETE",R={name:"systemServices",components:{AppsEditConfig:_,GridToolbar:v.a,AppsDownloadMultiStepView:C,ConfirmDialog:L.a,AppStatusChip:w.a,AppsUploadMultiStepView:V,AppsBulkDownloadMultiStepView:F},data:function(){var t,e={install:"install",uninstall:"uninstall",upload:"upload",deleteDatabase:"deleteDatabase",editConfig:"editConfig",deleteAppConfig:"deleteAppConfig",bulkDownload:"bulkDownload"};return{selectedItems:[],refreshTime:5e3,singleDownloadRefreshTIme:1e3,appDownloadStates:[],selectedApp:null,dialogNames:e,isFetchingAppDetails:!1,isBulkDownloadAppPersistent:!0,isDeletingConfig:!1,isDeletingDatabase:!1,isUninstallingApp:!1,currentDownloadState:null,fetchDownloadStateInterval:null,isDeletingDownloadState:!1,dialog:(t={},u()(t,e.install,!1),u()(t,e.upload,!1),u()(t,e.uninstall,!1),u()(t,e.deleteDatabase,!1),u()(t,e.editConfig,!1),u()(t,e.deleteAppConfig,!1),u()(t,e.bulkDownload,!1),t),remountDialog:u()({},e.bulkDownload,!0),headers:[{text:"Label",align:"start",value:"display_name"},{text:"Name",align:"start",value:"service"},{text:"Status",align:"center",value:"state"},{text:"Restart",align:"center",value:"restart"},{text:"Installed Version",align:"center",value:"installedVersion"},{text:"Latest Available Version",align:"center",value:"latest_version"},{text:"Actions",align:"center",value:"actions"},{text:"Config File",align:"center",value:"configFile"},{text:"Database",align:"end",value:"databaseOperations"}]}},computed:{appDetails:function(){return this.formatAppDetails(this.$store.state.appDetails)},setting:function(){return this.$store.state.setting},showCheckDownloadIcon:function(){return this.currentDownloadState===P},showDownloadProgressIcon:function(){return this.currentDownloadState===E}},mounted:function(){this.fetchDownloadAppState()},created:function(){this.fetchAppDetails()},methods:{closeDialog:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.dialog[t]=!1,n.unmount&&this.remountDialog[t]&&(this.remountDialog[t]=!1,setTimeout((function(){a.remountDialog[t]=!0}),500)),e&&this.fetchAppDetails(!0)},openDialog:function(t){this.dialog[t]=!0},toggleDialog:function(t,e){if(!this.dialog[t])switch(t){case this.dialogNames.install:if(this.currentDownloadState)return this.$toasted.show("Please resolve bulk download apps in the top left first.",{type:"info"})}this.dialog[t]=!this.dialog[t],this.dialog[t]?this.selectedApp=e:this.selectedApp=null},formatAppDetails:function(t){return t.map((function(t){return l()({},t,{activeLabel:t.status?"Running":"Stopped",isUninstallable:t.is_installed,installedVersion:t.version?t.version:"-",downloadUrl:t.browser_download_url?t.browser_download_url:null,updatedAt:t.date_since?new Date(t.date_since).toLocaleDateString():"-"})}))},fetchAppDetails:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isFetchingAppDetails=!0,f.o().then((function(a){t.$store.commit("changeAppDetails",a),e&&t.fetchAllInstalledApps()})).finally((function(){t.isFetchingAppDetails=!1}))},fetchAllInstalledApps:function(){var t=this;f.k().then((function(e){t.$store.commit("changeInstalledServices",e)})).catch((function(t){}))},deleteDatabase:function(){var t=this;this.isDeletingDatabase=!0,f.f(this.selectedApp.service).then((function(){t.closeDialog(t.dialogNames.deleteDatabase,!0)})).catch((function(){t.closeDialog(t.dialogNames.deleteDatabase)})).finally((function(){t.isDeletingDatabase=!1}))},uninstall:function(t){var e=this;this.isUninstallingApp=!0,f.u(this.selectedApp.service).then((function(){e.fetchAppDetails(!0),e.closeDialog(e.dialogNames.uninstall,!0)})).catch((function(){e.closeDialog(e.dialogNames.uninstall)})).finally((function(){e.isUninstallingApp=!1}))},getFileName:function(t){var e=new Date;return t+"_"+(e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()+"T"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds())},downloadAppData:function(t){var e,a=this,n=t.service;f.j(n,this.setting).then((e=o()(i.a.mark((function e(s){var o,r,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new d.a,e.next=3,o.loadAsync(s);case 3:return e.next=5,o.generateAsync({type:"blob"});case 5:r=e.sent,new Date,l=a.getFileName(n),(c=document.createElement("a")).href=window.URL.createObjectURL(r),c.setAttribute("download",l+".zip"),c.click(),a.$toasted.show(t.service+" app data is exported.");case 13:case"end":return e.stop()}}),e,a)}))),function(t){return e.apply(this,arguments)})).catch((function(e){a.$toasted.show("Failed to export "+t.service+" app data",{type:"error"})}))},deleteAppConfigFile:function(){var t=this;this.isDeletingConfig=!0;var e=this.selectedApp.service,a=this.selectedApp.app_type;f.d(e,a).then((function(a){t.$toasted.show(e+" app config file is deleted"),t.closeDialog(t.dialogNames.deleteAppConfig)})).catch((function(a){t.$toasted.show("Failed to delete app config for "+e,{type:"error"})})).finally((function(){t.isDeletingConfig=!1}))},downloadConfig:function(t){f.i(t.service,t.app_type)},restartService:function(t){var e=this;f.c(h.f.RESTART,t.service).then((function(){e.$toasted.show("App restarted sucessfully.")})).catch((function(){e.$toasted.show("Failed to restart the app.",{type:"error"})}))},bulkDownloadApps:function(){this.openDialog(this.dialogNames.bulkDownload)},clearDownloadAppStateInterval:function(){clearInterval(this.fetchDownloadStateInterval),this.fetchDownloadStateInterval=null},downloadStateInterval:function(){var t=this,e=this.dialog[this.dialogNames.install]?this.singleDownloadRefreshTIme:this.refreshTime;this.fetchDownloadStateInterval||(this.fetchDownloadStateInterval=setInterval((function(){t.fetchDownloadAppState()}),e))},fetchDownloadAppState:function(){var t=this;return f.q().then((function(e){var a=e.state,n=e.services;switch(a){case"DOWNLOADING":t.currentDownloadState=E,t.isBulkDownloadAppPersistent=!1,t.fetchDownloadStateInterval||t.downloadStateInterval();break;case"CLEARED":t.currentDownloadState=null,t.clearDownloadAppStateInterval();break;case"DOWNLOADED":t.currentDownloadState=P,t.isBulkDownloadAppPersistent=!0}return Array.isArray(n)&&(t.appDownloadStates=n),n})).catch((function(e){return e&&e.message&&(t.currentDownloadState=null),e}))},clearSelectedApps:function(){this.appDownloadStates=[],this.selectedItems=[]},deleteDownloadState:function(){var t=this;return this.isDeletingDownloadState=!0,f.g().then((function(t){return t})).catch((function(t){return t})).finally((function(){t.fetchDownloadAppState(),t.clearDownloadAppStateInterval(),t.isDeletingDownloadState=!1}))}}},T={name:"rubix-apps",components:{AppsGrid:Object(g.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{flat:""}},[a("grid-toolbar",{attrs:{"hide-export-data":!0,items:t.selectedItems,toolbarTitle:"Rubix Apps"},scopedSlots:t._u([{key:"customAction",fn:function(){return[a("span",[a("v-btn",{staticClass:"white--text",attrs:{disabled:t.isDeletingDownloadState,"x-small":"",color:"green"},on:{click:function(){return t.bulkDownloadApps(t.selectedItems)}}},[t._v("\n            Download Apps\n            "),a("v-icon",{attrs:{"x-small":"",right:"",dark:""}},[t._v(" mdi-download ")])],1),t._v(" "),t.showDownloadProgressIcon?a("v-progress-circular",{attrs:{width:2,size:15,color:"white",indeterminate:""}}):t._e(),t._v(" "),t.showCheckDownloadIcon?a("v-icon",{attrs:{"x-medium":"",dark:""}},[t._v(" mdi-check")]):t._e()],1)]},proxy:!0}])})],1),t._v(" "),a("v-data-table",{attrs:{"show-select":"","item-key":"service",headers:t.headers,items:t.appDetails,"single-select":!1,loading:t.isFetchingAppDetails,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right"}},scopedSlots:t._u([{key:"item.state",fn:function(t){var e=t.item;return[a("app-status-chip",{attrs:{state:e.state}})]}},{key:"item.restart",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"success"},on:{click:function(){return t.restartService(n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-restart ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Restart Service")])])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("span",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"success"},on:{click:function(){return t.toggleDialog(t.dialogNames.install,n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-download ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Download")])]),t._v(" "),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"yellow"},on:{click:function(){return t.toggleDialog(t.dialogNames.upload,n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-upload ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Upload")])]),t._v(" "),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[n.isUninstallable?a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"error"},on:{click:function(){return t.toggleDialog(t.dialogNames.uninstall,n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-delete ")])],1):t._e()]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete App")])]),t._v(" "),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[n.downloadUrl?a("v-btn",t._g(t._b({attrs:{href:n.downloadUrl,target:"_blank",tar:"",icon:"",small:""}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-zip-box")])],1):t._e()]}}],null,!0)},[t._v(" "),a("span",[t._v("Download ZIP")])])],1)]}},{key:"item.configFile",fn:function(e){var n=e.item;return["PythonApp"==n.app_type||"FrontendApp"==n.app_type?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"blue"},on:{click:function(){return t.toggleDialog(t.dialogNames.editConfig,n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-pencil ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Edit Config File")])]):t._e(),t._v(" "),"PythonApp"==n.app_type||"FrontendApp"==n.app_type?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"success"},on:{click:function(){return t.downloadConfig(n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-download ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Download Config File")])]):t._e(),t._v(" "),"PythonApp"==n.app_type||"FrontendApp"==n.app_type?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[n.isUninstallable?a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"error"},on:{click:function(){return t.toggleDialog(t.dialogNames.deleteAppConfig,n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-delete ")])],1):t._e()]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete Configuration")])]):t._e()]}},{key:"item.databaseOperations",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"success"},on:{click:function(){return t.downloadAppData(n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-download ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("Download Database")])]),t._v(" "),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[n.isUninstallable?a("v-btn",t._g(t._b({staticClass:"white--text",attrs:{icon:"",small:"",color:"error"},on:{click:function(){return t.toggleDialog(t.dialogNames.deleteDatabase,n)}}},"v-btn",s,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[t._v(" mdi-delete ")])],1):t._e()]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete Database")])])]}}]),model:{value:t.selectedItems,callback:function(e){t.selectedItems=e},expression:"selectedItems"}}),t._v(" "),a("confirm-dialog",{attrs:{"is-open":t.dialog[t.dialogNames.uninstall],"on-close":function(){return t.closeDialog(t.dialogNames.uninstall)},"on-confirm":function(){return t.uninstall(t.dialogNames.uninstall)},loading:t.isUninstallingApp,"dialog-text":"Do you want to uninstall the app?"}}),t._v(" "),a("confirm-dialog",{attrs:{"is-open":t.dialog[t.dialogNames.deleteDatabase],"on-close":function(){return t.closeDialog(t.dialogNames.deleteDatabase)},"on-confirm":function(){return t.deleteDatabase(t.dialogNames.deleteDatabase)},loading:t.isDeletingDatabase,"dialog-text":"Do you want to delete the app's database?"}}),t._v(" "),a("confirm-dialog",{attrs:{"is-open":t.dialog[t.dialogNames.deleteAppConfig],"on-close":function(){return t.closeDialog(t.dialogNames.deleteAppConfig)},"on-confirm":function(){return t.deleteAppConfigFile()},loading:t.isDeletingConfig,"dialog-text":"Do you want to delete the app's config file?"}}),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog[t.dialogNames.upload],callback:function(e){t.$set(t.dialog,t.dialogNames.upload,e)},expression:"dialog[dialogNames.upload]"}},[t.dialog[t.dialogNames.upload]?a("apps-upload-multi-step-view",{attrs:{"app-details":t.selectedApp,"close-dialog":function(e){return t.closeDialog(t.dialogNames.upload,e)}}}):t._e()],1),t._v(" "),a("v-dialog",{attrs:{presistent:"","max-width":"500px"},model:{value:t.dialog[t.dialogNames.editConfig],callback:function(e){t.$set(t.dialog,t.dialogNames.editConfig,e)},expression:"dialog[dialogNames.editConfig]"}},[t.dialog[t.dialogNames.editConfig]?a("apps-edit-config",{attrs:{"close-dialog":function(e){return t.closeDialog(t.dialogNames.editConfig,e)},"app-detail":t.selectedApp}}):t._e()],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog[t.dialogNames.install],callback:function(e){t.$set(t.dialog,t.dialogNames.install,e)},expression:"dialog[dialogNames.install]"}},[t.dialog[t.dialogNames.install]?a("apps-download-multi-step-view",{attrs:{"delete-download-state":t.deleteDownloadState,"current-download-state":t.currentDownloadState,"fetch-download-app-state":t.fetchDownloadAppState,"clear-download-app-state-interval":t.clearDownloadAppStateInterval,"app-details":t.selectedApp,"close-dialog":function(e){return t.closeDialog(t.dialogNames.install,e)}}}):t._e()],1),t._v(" "),a("v-dialog",{attrs:{persistent:t.isBulkDownloadAppPersistent,"max-width":"500px"},model:{value:t.dialog[t.dialogNames.bulkDownload],callback:function(e){t.$set(t.dialog,t.dialogNames.bulkDownload,e)},expression:"dialog[dialogNames.bulkDownload]"}},[t.remountDialog[t.dialogNames.bulkDownload]?a("apps-bulk-download-multi-step-view",{attrs:{"current-download-state":t.currentDownloadState,"selected-apps":t.selectedItems,"fetch-download-app-state":t.fetchDownloadAppState,"app-download-states":t.appDownloadStates,"clear-selected-apps":t.clearSelectedApps,"delete-download-state":t.deleteDownloadState,"clear-download-app-state-interval":t.clearDownloadAppStateInterval,"close-dialog":function(e,a){return t.closeDialog(t.dialogNames.bulkDownload,e,a)}}}):t._e()],1)],1)}),[],!1,null,null,null).exports,PageTitle:a("+SqX").a}},$=Object(g.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-title",{attrs:{title:"Rubix Apps"}}),t._v(" "),a("apps-grid")],1)}),[],!1,null,null,null);e.default=$.exports},0:function(t,e){},1:function(t,e){},2:function(t,e){},"3saC":function(t,e,a){"use strict";var n={props:["on-copy"],methods:{copyToClipboard:function(t){var e=this;this.$copyText(t,this.$refs.copyClipboard).then((function(){e.$toasted.show("Copied to clipboard!",{type:"success"})}),(function(){e.$toasted.show("Cannot copy to clipboard.",{type:"error"})}))}}},i=a("psIG"),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{ref:"copyClipboard"},[a("v-btn",{staticClass:"white-text",attrs:{"x-small":"",color:"#009688"},on:{click:function(){return t.onCopy(t.copyToClipboard)}}},[a("span",[t._v("Copy  ")]),t._v(" "),a("v-icon",{attrs:{small:""}},[t._v("mdi-export")])],1)],1)}),[],!1,null,null,null);e.a=s.exports},"7Ipj":function(t,e,a){"use strict";var n=a("Q12t"),i=a("3saC"),s=a("Isj4"),o={name:"import-dialog",props:["receiveDataRows"],data:function(){return{file:null,dialogImportExcel:!1,dialogImportJSON:!1,dataImport:""}},methods:{importFile:function(){var t=new FileReader;t.readAsBinaryString(this.file),t.onload=this.handleFileLoad},handleFileLoad:function(t){var e=t.target.result,a=s.read(e,{type:"binary"}),n=Array.isArray(a.SheetNames)&&a.SheetNames.length>0&&a.SheetNames[0];if(!n)return this.$toasted.show("Invalid Excel File. Please reupload.",{type:"error"});var i=s.utils.sheet_to_row_object_array(a.Sheets[n]);this.receiveDataRows(i),this.dialogImportExcel=!1},importJson:function(){try{var t=JSON.parse(this.dataImport);this.receiveDataRows(t),this.dialogImportJSON=!1}catch(t){return this.$toasted.show("Invalid JSON",{type:"error"})}}}},r=a("psIG"),l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text mr-2",attrs:{"x-small":"",color:"primary"}},"v-btn",i,!1),n),[t._v("Import"),a("v-icon",{attrs:{"x-small":"",right:"",dark:""}},[t._v("mdi-import")])],1)]}}])},[t._v(" "),a("v-list",[a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(e){t.dialogImportJSON=!0,t.dataImport=""}}},[t._v("Json")])],1),t._v(" "),a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(e){t.dialogImportExcel=!0,t.file=null}}},[t._v("Excel")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"500px"},model:{value:t.dialogImportExcel,callback:function(e){t.dialogImportExcel=e},expression:"dialogImportExcel"}},[a("v-card",[a("v-card-title",[t._v("Choose excel file")]),t._v(" "),a("v-card-text",[a("v-file-input",{attrs:{outlined:"",dense:"",label:"File input",accept:".xls,.xlsx"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(e){t.dialogImportExcel=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",text:"",disabled:!t.file},on:{click:t.importFile}},[t._v("Import")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"500px"},model:{value:t.dialogImportJSON,callback:function(e){t.dialogImportJSON=e},expression:"dialogImportJSON"}},[a("v-card",[a("v-card-title",[t._v("Import via JSON")]),t._v(" "),a("v-card-text",[a("v-container",[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},model:{value:t.dataImport,callback:function(e){t.dataImport=e},expression:"dataImport"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary darken-1",text:"",disabled:!t.dataImport},on:{click:t.importJson}},[t._v("Import")])],1)],1)],1)}),[],!1,null,null,null).exports,c={name:"grid-toolbar",props:["toolbarTitle","onCopy","items","fileName","formatDataService","receiveDataRows","onDelete","isDeleteEnabled","onSearch","hideExportData"],components:{ExportData:n.a,CopyClipboard:i.a,ImportDialog:l}},u=Object(r.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"mr-6"},[t._v(t._s(t.toolbarTitle))]),t._v(" "),t.onCopy?a("copy-clipboard",{staticClass:"mr-2",attrs:{"on-copy":t.onCopy}}):t._e(),t._v(" "),t.items&&t.items.length>0&&!t.hideExportData?a("export-data",{attrs:{data:t.items,"file-name":t.fileName,"format-data-service":t.formatDataService}}):t._e(),t._v(" "),t.receiveDataRows?a("import-dialog",{attrs:{receiveDataRows:t.receiveDataRows}}):t._e(),t._v(" "),t.onDelete?a("v-btn",{staticClass:"white--text",attrs:{disabled:!t.isDeleteEnabled,"x-small":"",color:"error"},on:{click:t.onDelete}},[t._v("\n    Delete\n    "),a("v-icon",{attrs:{"x-small":"",right:"",dark:""}},[t._v(" mdi-delete ")])],1):t._e(),t._v(" "),t._t("customAction"),t._v(" "),t._t("search")],2)}),[],!1,null,null,null);e.a=u.exports},"7Vew":function(t,e,a){"use strict";var n={name:"text-field-display",props:["label","value"]},i=a("psIG"),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.label?a("div",{staticClass:"grey--text caption mb-2"},[a("span",[t._v(t._s(t.label))])]):t._e(),t._v(" "),t.value?a("div",{staticClass:"font-weight-medium text-ellipses"},[a("span",{staticClass:"field-display-value",attrs:{title:t.value}},[t._v(t._s(t.value))])]):t._e()])}),[],!1,null,null,null);e.a=s.exports},MKDl:function(t,e,a){"use strict";var n={active:{name:"active",displayName:"Running",color:"success"},reloading:{name:"reloading",displayName:"Reloading",color:"yellow"},failed:{name:"failed",displayName:"Failed",color:"red"},activating:{name:"activating",displayName:"Activating",color:"yellow"},deactivating:{name:"deactivating",displayName:"Deactivating",color:"yellow"},maintenance:{name:"maintenance",displayName:"Maintenance",color:"yellow"}},i={name:"app-status-chip",props:["status","state"],computed:{currentStatus:function(){var t=n[this.state];return t||{name:"default",displayName:this.capitalize(this.state),color:"yellow"}},defaultStatus:function(){return this.capitalize(this.state)}},methods:{capitalize:function(t){return t||(t=""),(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}}},s=a("psIG"),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.state?a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:t.currentStatus.color}},[t._v(t._s(t.currentStatus.displayName))])],1)]):a("div",[a("span",{staticClass:"font-weight-medium"},[a("v-chip",{attrs:{outlined:"",color:"yellow"}},[t._v(t._s(t.defaultStatus))])],1)])])}),[],!1,null,null,null);e.a=o.exports},OKta:function(t,e,a){"use strict";var n={name:"rbx-button",props:["title","after-icon","color","click","is-small","class-name","disabled","block","loading"]},i=a("psIG"),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{class:t.className,attrs:{loading:t.loading,"x-small":t.isSmall,disabled:t.disabled,color:t.color,block:t.block},on:{click:t.click}},[a("span",[t._v(t._s(t.title)+" ")]),t._v(" "),t.afterIcon?a("v-icon",{attrs:{small:t.isSmall}},[t._v(t._s(t.afterIcon))]):t._e()],1)}),[],!1,null,null,null);e.a=s.exports},Q12t:function(t,e,a){"use strict";var n=a("/9Wh"),i=a.n(n),s=a("+n12"),o={name:"export-data",props:["data","fileName","formatDataService"],methods:{clickDownload:function(t,e){var a=t;switch("function"==typeof this.formatDataService&&(a=this.formatDataService(t)),e){case"csv":return Object(s.c)(this.fileName,a);case"excel":return Object(s.e)(this.fileName,a);case"json":return Object(s.f)(this.fileName,i()(a))}}}},r=a("psIG"),l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text mr-2",attrs:{"x-small":"",color:"#009688",dark:""}},"v-btn",i,!1),n),[a("span",[t._v("Download")]),t._v(" "),a("v-icon",{attrs:{"x-small":"",right:"",dark:""}},[t._v("mdi-download")])],1)]}}])},[t._v(" "),a("v-list",[a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(e){return t.clickDownload(t.data,"json")}}},[t._v("Json")])],1),t._v(" "),a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(e){return t.clickDownload(t.data,"excel")}}},[t._v("Excel")])],1),t._v(" "),a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(e){return t.clickDownload(t.data,"csv")}}},[t._v("CSV")])],1)],1)],1)}),[],!1,null,null,null);e.a=l.exports},"Wgf/":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return o}));var n=a("uzYq"),i="/system-service",s=function(){return n.a.get(i)},o=function(t,e){return n.a.post(i+"/control",[{action:t,service:e}])}},lkCm:function(t,e,a){"use strict";var n={name:"confirm-dialog",props:["on-close","on-confirm","dialog-text","is-open","loading"]},i=a("psIG"),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("v-card",[a("v-card-title",[a("v-icon",{attrs:{color:"warning"}},[t._v(" mdi-alert-outline ")]),t._v(" Confirm ")],1),t._v(" "),a("v-card-text",[a("v-container",[a("v-row",[t._v(t._s(t.dialogText))])],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:t.onClose}},[t._v(" No ")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",loading:t.loading,text:""},on:{click:t.onConfirm}},[t._v(" Yes ")])],1)],1)],1)}),[],!1,null,null,null);e.a=s.exports},nz6T:function(t,e,a){"use strict";a.d(e,"o",(function(){return f})),a.d(e,"k",(function(){return h})),a.d(e,"r",(function(){return m})),a.d(e,"m",(function(){return g})),a.d(e,"p",(function(){return _})),a.d(e,"n",(function(){return w})),a.d(e,"u",(function(){return b})),a.d(e,"s",(function(){return D})),a.d(e,"h",(function(){return S})),a.d(e,"c",(function(){return C})),a.d(e,"v",(function(){return x})),a.d(e,"e",(function(){return A})),a.d(e,"f",(function(){return k})),a.d(e,"j",(function(){return y})),a.d(e,"l",(function(){return I})),a.d(e,"t",(function(){return O})),a.d(e,"d",(function(){return F})),a.d(e,"i",(function(){return L})),a.d(e,"b",(function(){return E})),a.d(e,"a",(function(){return P})),a.d(e,"q",(function(){return R})),a.d(e,"g",(function(){return T}));var n=a("/9Wh"),i=a.n(n),s=a("OBCi"),o=a.n(s),r=a("uzYq"),l=a("NWgQ"),c=a.n(l),u=a("A5Vd"),p=a("Wgf/"),d=a("+n12"),v="/rubix-app",f=function(){var t=c.a.stringify({browser_download_url:!0,latest_version:!0});return r.a.get(v+"?"+t)},h=function(){return r.a.get(""+v).then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},m=function(){return p.b().then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},g=function(t){return r.a.get(v+"/releases/"+t)},_=function(t){return o.a.all(t.map(g))},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.a.get(v+"/stats/"+t,e)},b=function(t){return r.a.post(v+"/uninstall",{service:t})},D=function(t){return r.a.post(v+"/install",[t])},S=function(t){return r.a.post(v+"/download",[t])},C=function(t,e){return r.a.post(v+"/control",[{action:t,service:e}])},x=function(t,e,a){var n=new FormData;return n.append("file",t),n.append("service",e),n.append("version",a),r.a.post(v+"/app-upload",n,{headers:{"Content-Type":"multipart/form-data"}})},A=function(t){return r.a.post(v+"/delete-app-data",[{service:t}])},k=function(t){return A(t)},y=function(t,e){var a="http://"+e.globalIp+":"+e.rubixServicePort+"/api/app/download_data?service="+t;return r.a.get(a,{headers:{"Content-Type":"application/zip"},responseType:"arraybuffer"})},V=function(t,e){return r.a.get(v+"/json-config/"+t,e)},N=function(t,e){return r.a.get(v+"/env/"+t,e)},I=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return V(t,a);if(e===u.g.FRONTEND_APP)return N(t,a);throw new Error("App type not supported for editing config")},O=function(t,e,a){if(e===u.g.PYTHON_APP)return function(t,e){return r.a.put(v+"/json-config",{service:t,data:e})}(t,a||{});if(e===u.g.FRONTEND_APP)return function(t,e){return r.a.put(v+"/env",{service:t,data:e})}(t,a||"");throw new Error("App type not supported for editing config")},F=function(t,e){if(e===u.g.PYTHON_APP)return function(t){return r.a.delete(v+"/json-config",{data:{service:t}})}(t);if(e===u.g.FRONTEND_APP)return function(t){return r.a.delete(v+"/env",{data:{service:t}})}(t);throw new Error("App type not supported for deletion")},L=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return V(t,a).then((function(e){Object(d.f)(t+"-config",i()(e))}));if(e===u.g.FRONTEND_APP)return N(t,a).then((function(e){Object(d.d)(""+t,e)}));throw new Error("App type not supported for download config")},E=function(t){return r.a.post(v+"/install",t)},P=function(t){return r.a.post(v+"/download",t)},R=function(){return r.a.get(v+"/download-state",{restrictToast:!0})},T=function(){return r.a.delete(v+"/download-state")}}}]);
//# sourceMappingURL=7.c27ba2672678e2204e6d.js.map