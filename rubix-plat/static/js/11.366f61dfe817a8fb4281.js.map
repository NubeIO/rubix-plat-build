{"version":3,"sources":["webpack:///./src/components/RubixApps/RubixApps.vue?3a75","webpack:///./src/services/openVPNService.js","webpack:///./src/components/RubixApps/appsEditConfig.vue?dff2","webpack:///src/components/RubixApps/appsEditConfig.vue","webpack:///./src/components/RubixApps/appsEditConfig.vue?f03f","webpack:///./src/components/RubixApps/appsEditConfig.vue?403e","webpack:///src/components/RubixApps/AppsDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?ab99","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?02f0","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?ead5","webpack:///src/components/RubixApps/AppsUploadMultiStepView.vue","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue?3753","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue?c846","webpack:///src/components/RubixApps/AppsBulkDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue?327b","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue?6b1d","webpack:///src/components/RubixApps/AppsGrid.vue","webpack:///./src/components/RubixApps/AppsGrid.vue?222d","webpack:///./src/components/RubixApps/AppsGrid.vue","webpack:///./src/components/RubixApps/AppsGrid.vue?3e42","webpack:///./src/components/RubixApps/SlaveAppGrid.vue?19de","webpack:///src/components/RubixApps/SlaveAppGrid.vue","webpack:///./src/components/RubixApps/SlaveAppGrid.vue?bff6","webpack:///./src/components/RubixApps/SlaveAppGrid.vue?df7f","webpack:///src/components/RubixApps/SlaveAppsDownloadMultiStep.vue","webpack:///./src/components/RubixApps/SlaveAppsDownloadMultiStep.vue?e176","webpack:///./src/components/RubixApps/SlaveAppsDownloadMultiStep.vue?b8d2","webpack:///./src/components/RubixApps/SlaveAppsDownloadMultiStep.vue?03de","webpack:///./src/components/RubixApps/SlaveAppsControlActionReport.vue?d1b5","webpack:///src/components/RubixApps/SlaveAppsControlActionReport.vue","webpack:///./src/components/RubixApps/SlaveAppsControlActionReport.vue","webpack:///./src/components/RubixApps/SlaveAppsControlActionReport.vue?e33c","webpack:///src/components/RubixApps/SlaveApps.vue","webpack:///./src/components/RubixApps/SlaveApps.vue?6d33","webpack:///./src/components/RubixApps/SlaveApps.vue","webpack:///./src/components/RubixApps/SlaveApps.vue?d50e","webpack:///./src/components/RubixApps/RubixApps.vue?bb70","webpack:///src/components/RubixApps/RubixApps.vue","webpack:///./src/components/RubixApps/RubixApps.vue","webpack:///./src/services/slaveDevicesService.js","webpack:///./src/components/Sidebar/CopyClipboard.vue?43bd","webpack:///./src/components/Sidebar/CopyClipboard.vue?995d","webpack:///src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Services/IconButton.vue?3b85","webpack:///./src/components/Services/IconButton.vue?6aa3","webpack:///src/components/Services/IconButton.vue","webpack:///./src/components/Services/IconButton.vue","webpack:///./src/components/Common/GridToolbar.vue?6930","webpack:///./src/components/Common/ImportDialog.vue?b025","webpack:///src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue?d061","webpack:///./src/components/Common/GridToolbar.vue?35fe","webpack:///src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/TextFieldDisplay.vue?5a10","webpack:///./src/components/Common/TextFieldDisplay.vue?7155","webpack:///src/components/Common/TextFieldDisplay.vue","webpack:///./src/components/Common/TextFieldDisplay.vue?e583","webpack:///./src/services/slaveAppsUiService.js","webpack:///./src/components/RubixApps/ConfigureCronView.vue?dcec","webpack:///./src/components/RubixApps/ConfigureCronView.vue?a9ee","webpack:///src/components/RubixApps/ConfigureCronView.vue","webpack:///./src/components/RubixApps/ConfigureCronView.vue","webpack:///./src/components/Common/RbxButton.vue?ef2a","webpack:///./src/components/Common/RbxButton.vue?d078","webpack:///src/components/Common/RbxButton.vue","webpack:///./src/components/Common/RbxButton.vue","webpack:///./src/components/Plugins/ConfigForm.vue?a9ef","webpack:///./src/components/Common/EnvEditor.vue?52d0","webpack:///src/components/Common/EnvEditor.vue","webpack:///./src/components/Common/EnvEditor.vue?b1eb","webpack:///./src/components/Common/EnvEditor.vue?2adb","webpack:///./src/components/Common/JsonEditor.vue?cdc5","webpack:///src/components/Common/JsonEditor.vue","webpack:///./src/components/Common/JsonEditor.vue?0452","webpack:///./src/components/Common/JsonEditor.vue?f56e","webpack:///src/components/Plugins/ConfigForm.vue","webpack:///./src/components/Plugins/ConfigForm.vue?c93f","webpack:///./src/components/Plugins/ConfigForm.vue","webpack:///./src/components/Common/ExportData.vue?1629","webpack:///./src/components/Common/ExportData.vue?9000","webpack:///src/components/Common/ExportData.vue","webpack:///./src/components/Common/ExportData.vue","webpack:///./src/components/Common/YamlEditor.vue?a049","webpack:///./src/components/Common/YamlEditor.vue?2121","webpack:///src/components/Common/YamlEditor.vue","webpack:///./src/components/Common/YamlEditor.vue?035d","webpack:///./src/services/systemSettingService.js","webpack:///./src/components/Common/MasterStarIndicator.vue?8b91","webpack:///./src/components/Common/MasterStarIndicator.vue?918f","webpack:///src/components/Common/MasterStarIndicator.vue","webpack:///./src/components/Common/MasterStarIndicator.vue","webpack:///./src/components/RubixApps/TooltipTitle.vue?9892","webpack:///./src/components/RubixApps/TooltipTitle.vue?00af","webpack:///src/components/RubixApps/TooltipTitle.vue","webpack:///./src/components/RubixApps/TooltipTitle.vue?fc4f","webpack:///./src/components/Common/ConfirmDialog.vue?4e4e","webpack:///./src/components/Common/ConfirmDialog.vue?8f62","webpack:///src/components/Common/ConfirmDialog.vue","webpack:///./src/components/Common/ConfirmDialog.vue","webpack:///./src/services/appsService.js","webpack:///./src/services/mqttRestBridgeService.js"],"names":["fetchOpenVPNConfig","globalUuid","apiService","serviceName","http","get","endpointMaster","then","data","name","props","components","YamlEditor","config","slaveId","apiOpenVPNService","isFetchingConfig","isSavingConfig","isRestartConfig","appDetails","isArray","appType","configType","jsonConfigType","envConfigType","openVpnConfigType","ymlConfigType","file","rules","ovpnExtensionValidator","mounted","this","isSlaveApp","appDetail","slaveAppsService","appsService","Array","app_type","fetchAppConfig","getConfigType","service","methods","getAppDetailType","onFileSelect","restrictToast","resetConfig","saveConfig","onValueChange","value","_vm","_h","$createElement","_c","_self","attrs","_v","mode","model","callback","$$v","expression","_e","staticClass","on","closeDialog","$store","state","mqttRestBridgeConfig","enabled","AppStatusChip","valid","currentView","appReleases","serviceStatus","isFetchingAppStatus","selectedVersion","multiStepViewConfig","1","back","forward","title","hasBack","disabled","hasForward","buttonLabel","loader","2","3","4","loading","required","versionRules","updated","currentDownloadState","watch","showDownloadStateView","newVal","clearDownloadAppStateInterval","cancel","deleteDownloadState","stopAndContinue","continue","spinLoader","install","version","fetchAppStatus","_s","display_name","time_since","ref","next","serviceInfo","status","isDeleteAppData","isDeletingAppData","isStartingApp","errorMessage","rubixAppTypes","startApp","upload","versionNumber","deleteAppData","toggleDeleteAppData","PYTHON_APP","$event","TextFieldDisplay","versionForm","renderReleaseCount","isFetchingAppStatuses","successInstallApps","failureInstallApps","refreshTime","hasCancel","hasCancelInstallation","cancelTitle","hasSelectedApps","DOWNLOAD_COMPLETE","DOWNLOAD_IN_PROGRESS","created","computed","currentBulkAppDownloadState","selectedApps","length","apps","map","downloadStates","appDownloadStates","_l","app","i","key","domProps","displayName","loadingReleases","releases","$set","isDownloading","hasError","successApps","failedApps","error","cancelInstallation","GridToolbar","ConfigForm","ConfirmDialog","AppsEditConfig","ConfigureCronBtn","ConfigureCronView","TooltipIconButton","AppsUploadMultiStepView","AppsDownloadMultiStepView","AppsBulkDownloadMultiStepView","uninstall","deleteDatabase","editConfig","deleteAppConfig","bulkDownload","restartService","cronConfigure","ymlConfigForm","selectedItems","refreshToolTipTitle","isRestartingService","singleDownloadRefreshTIme","selectedApp","dialogNames","isFetchingAppDetails","isBulkDownloadAppPersistent","isDeletingConfig","isDeletingDatabase","isUninstallingApp","isFetchingDownloadState","fetchDownloadStateInterval","isDeletingDownloadState","dialog","remountDialog","headers","tableProps","formatAppDetails","setting","showCheckDownloadIcon","showDownloadProgressIcon","fetchDownloadAppState","fetchAppDetails","destroyed","clearInterval","refreshGrid","showYmlConfiguration","item","dialogName","unmount","setTimeout","syncAppDetails","openDialog","toggleDialog","$toasted","show","type","fetchAllInstalledApps","getFileName","downloadAppData","deleteAppConfigFile","downloadConfig","bulkDownloadApps","downloadStateInterval","setInterval","clearSelectedApps","scopedSlots","_u","fn","proxy","FOOTER_PROPS","ITEMS_PER_PAGE","_g","_b","downloadUrl","MasterStarIndicator","configForm","expanded","searchText","searchItems","controlActions","selectedGridItems","start","timeout","rowHeight","perPage","dataItems","initializeDataItems","search","searchCriteria","initSearchCriteria","oldVal","clearSelectedItems","slaveApps","virtualDataItems","slice","tableHeight","undefined","startHeight","endHeight","isFixedHeader","isSelectAll","isYmlConfigVisible","onSearchChange","updateSearch","split","handleOnGridItemSelect","slaveAppsDataItems","searchDecision","handleSelectAll","val","toolbarDialogActions","dialogItems","onSelectItem","onScroll","clearTimeout","e","target","scrollTop","appendSlaveDevice","slaveDevice","newData","sn","index","isExpanded","isSelected","handleCheckboxChange","isItemSelected","push","filter","toggleItemExpansion","toggleItemSelection","onDeleteDatabase","onDownloadDatabase","controlSlaveApp","handleCustomSort","sortBy","sort","aObj","bObj","desc","a","b","fetchYmlConfig","updateYmlConfig","latestVersion","START","STOP","ENABLE","DISABLE","directives","rawName","modifiers","style","height","checkboxProps","slave_is_master","slave_site_name","is_enabled","class","$vuetify","theme","dark","slave_time_zone","slave_site_state","slave_site_city","slave_site_zip","browser_download_url","TooltipTitle","successInstalledApps","acc","divider","isNonItem","installationSuccessApps","installationFailedApps","getHeader","text","isHeader","isListItem","getCommonAppMinVersion","slaveAppsUiService","getVersionSelection","appVersions","commonAppVersion","isVersionSelect","versions","disableInstallationButton","curr","download","$refs","validate","resetDialog","slaveDeviceName","failedApp","controlActionErrorReport","success","faliureApps","failureApps","duration","message","failure","partial","PageTitle","IconButton","SlaveAppGrid","SlaveAppsDownloadMultiStep","SlaveAppsControlActionReport","bulkUpdate","recompute","slaveTabs","filters","isInstalled","gridSearchMap","slaveAppDisplayNameMap","slaveAppsLatestVersion","isFetchingSlaveApps","currentControlAction","isControlActionPending","statusControlErrors","isFetchAppfailure","isDownloadingApps","isClearDialog","isClearingUpdate","isLoadingSlaveApps","slaveAppsOnceLoaded","controlActionState","slaveReleaseList","fetchErrorMessage","isFetchingAppData","slaveAppsDetailMap","slaveAppsDetail","selectedAppVersion","slaveAppReleases","fetchDownloadAppStateInterval","slaveDevices","slaveAppsDownloadStates","actionButtons","actionBtnKeys","initialize","beforeRouteLeave","isMaster","selectedServicesCount","appliedFilterCount","retryFetchApps","fetchSlaveAppsLatestVersion","fetchSlaveApps","items","releaseMap","fetchSlaveDevices","fetchSlaveAppReleases","serviceNames","onBulkUpdate","startDownloadStateInterval","slaveUUIDs","onClearDownload","finally","getControlErrorReport","getControlActionState","controlActionErrorStates","errStates","every","openErrorReportDialog","getToastMessageAction","actions","onClick","handleControlAction","action","buttonConfig","iconKey","color","toggleMasterSlave","isFetchingMRBConfig","deviceInfo","AppsGrid","SlaveApps","getDeviceInfo","mqttRestBridgeService","rubixService","isMqttRestBridgeConfigLoaded","isSlaveModeActive","isSwitchedSlave","device_name","endpoint","create","slave","body","global_uuid","post","bulkCreate","slaves","all","fetch","discoverDevices","remove","globalUUID","delete","bulkRemove","updateComment","uuid","comment","put","updateTags","tags","syncSlaveDevices","copyToClipboard","$copyText","copyClipboard","component","onCopy","btnSize","buttonTitle","dialogImportExcel","dialogImportJSON","dataImport","importFile","fileReader","readAsBinaryString","onload","handleFileLoad","firstSheet","receiveDataRows","rowObject","importJson","ExportData","toolbarTitle","_t","hideExportData","fileName","formatDataService","onDelete","isDeleteEnabled","label","filteredReleaseMap","selectedServicesSlaveIds","reduce","includes","filterReleaseMapBySelectedItems","formatSelectedItemsWithSlaveIds","slaveAppsReleasesCount","Infinity","indexOfMinValue","indexOf","Math","min","setAppSlaveId","slaveDeviceInfo","localstorageUtil","LOCALSTORAGE","SLAVE_ID","SLAVE_DEVICE_INFO","getAppSlaveId","getAppSlaveDeviceInfo","JSON","parse","err","removeAppSlaveId","findVersionCount","numVersions","toLowerCase","isNaN","versionValue","n","pow","findMaxVersion","versionCounts","max","getAvailableVersions","allVersions","selectedVersions","selectedVs","_cloneDeep","allVs","maxSelectedVersion","allVersionsCounts","versionCountMap","versionCount","sortVersions","ServiceCronPicker","minutes","isInitialized","getApiService","isSystemService","onSave","timer","createRestartJob","payload","syncDetails","sync","deleteRestartJob","onCancel","className","isSmall","block","click","afterIcon","PrismEditor","vm","code","onInput","highlighter","$emit","v","formType","pluginName","isOpen","getConfigs","loadingData","fetchConfig","postConfig","updateConfig","postData","isCorrectKey","onEditorValueChange","newValue","staticStyle","onClose","formTypes","YML_CONFIG","JSON_CONFIG","ENV_CONFIG","TXT_CONFIG","clickDownload","formattedData","fetchSystemServices","changeServiceStatus","dialogText","onConfirm","fetchApps","queryParams","qs","stringify","latest_version","fetchAllApps","systemSettingService","r","is_installed","fetchSystemDefaultApps","fetchAppReleases","appName","fetchAppsReleases","services","catch","options","uninstallApp","installApp","downloadApp","uploadApp","formData","FormData","append","deleteAppDataService","url","responseType","fetchJSONConfig","axiosConfig","fetchEnvConfig","saveJSONConfig","saveENVConfig","saveOpenVPNConfig","deleteJSONConfig","deleteENVConfig","deleteOpenVPNConfig","downloadAppConfig","RUBIX_APP_TYPES","exportJSON","FRONTEND_APP","exportENV","APT_APP","exportOpenVPNConfig","exportYml","bulkAppControl","bulkInstallApps","fetchDownloadState","isSelfRestart","RUBIX_APP_STATUS_CONTROL_ACTIONS","RESTART","isSelfInstall","saveYmlConfig","deleteYmlConfig","saveAppConfig","fetchMRBListener","patchMRBListener","mrb","patch"],"mappings":"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","file":"static/js/11.366f61dfe817a8fb4281.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-title',{attrs:{\"title\":\"Rubix Apps\"},scopedSlots:_vm._u([{key:\"spinner\",fn:function(){return [(_vm.isFetchingMRBConfig)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"20\"}}):_vm._e()]},proxy:true}])}),_vm._v(\" \"),(!_vm.isFetchingMRBConfig)?_c('div',[(_vm.isMaster && !_vm.isSlaveModeActive)?_c('div',[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-btn-toggle',{attrs:{\"rounded\":\"\"},model:{value:(_vm.toggleMasterSlave),callback:function ($$v) {_vm.toggleMasterSlave=$$v},expression:\"toggleMasterSlave\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"value\":2}},[_vm._v(\"Device: \"+_vm._s(_vm.deviceInfo && _vm.deviceInfo.device_name ? _vm.deviceInfo.device_name : 'Slave View'))]),_vm._v(\" \"),_c('v-btn',{attrs:{\"small\":\"\",\"value\":1}},[_vm._v(\" Master View \")])],1)],1),_vm._v(\" \"),_c('v-row',[(!_vm.isMqttRestBridgeConfigLoaded && _vm.isFetchingMRBConfig)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, list-item-two-line, image, table-tfoot\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.isFetchingMRBConfig && _vm.isMqttRestBridgeConfigLoaded && _vm.toggleMasterSlave == 2)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('apps-grid')],1):_vm._e(),_vm._v(\" \"),(!_vm.isFetchingMRBConfig && _vm.isMqttRestBridgeConfigLoaded && _vm.toggleMasterSlave == 1)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('slave-apps')],1):_vm._e()],1)],1):_c('div',[(_vm.isFetchingMRBConfig)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, image, image, image, table-tfoot\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.isFetchingMRBConfig && _vm.isMqttRestBridgeConfigLoaded)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('apps-grid')],1):_vm._e()],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from \"frontend/src/axios\";\n\nconst endpointMaster = '/rubix-master';\n\nexport const fetchOpenVPNConfig = (globalUuid, apiService, serviceName) => {\n  return http.get(`${endpointMaster}/openvpn-config/${globalUuid}`).then(({data})=> {\n    return apiService['saveOpenVPNConfig'](serviceName, data, globalUuid).then(({data}) => data)\n  })\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appsEditConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appsEditConfig.vue?vue&type=script&lang=js&\"","<template>\n  <v-card :loading=\"isFetchingConfig\">\n    <v-card-title>Edit Config</v-card-title>\n    <v-card-text>\n      <v-container>\n        <v-jsoneditor\n          v-if=\"configType === jsonConfigType\"\n          :options=\"{ mode: 'code' }\"\n          v-model=\"config\"\n          :plus=\"false\"\n          height=\"400px\"\n        ></v-jsoneditor>\n        <v-textarea\n          v-if=\"configType === envConfigType\"\n          outlined\n          name=\"input-7-4\"\n          label=\"Enter ENV config\"\n          v-model=\"config\"\n        ></v-textarea>\n        <div v-if=\"configType === openVpnConfigType\">\n          <v-row dense>\n            <v-col cols=\"12\" class=\"mb-5\">\n              <v-file-input\n                :rules=\"[rules.ovpnExtensionValidator]\"\n                counter\n                show-size\n                v-model=\"file\"\n                @change=\"onFileSelect\"\n                truncate-length=\"15\"\n              ></v-file-input>\n            </v-col>\n            <v-col cols=\"12\">\n              <v-textarea outlined name=\"input-7-4\" label=\"OpenVPN Config\" v-model=\"config\"></v-textarea>\n            </v-col>\n          </v-row>\n        </div>\n        <div v-if=\"configType === ymlConfigType && !isFetchingConfig\">\n          <yaml-editor :code=\"config\" @input=\"onValueChange\"></yaml-editor>\n        </div>\n      </v-container>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn small text @click=\"closeDialog\">Cancel</v-btn>\n      <v-btn\n        v-if=\"configType === openVpnConfigType && this.$store.state.mqttRestBridgeConfig.enabled\"\n        x-small\n        class=\"mr-1 btn-height-22 white--text\"\n        color=\"warning\"\n        @click=\"resetConfig\"\n        :loading=\"isRestartConfig\"\n        >Restart Config\n      </v-btn>\n      <v-btn\n        x-small\n        class=\"mr-1 btn-height-22 white--text\"\n        color=\"primary\"\n        @click=\"saveConfig\"\n        :loading=\"isSavingConfig\"\n        >Save\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport * as appsService from '../../services/appsService';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport * as openVPNService from '../../services/openVPNService';\nimport YamlEditor from '../Common/YamlEditor.vue';\nimport {\n  APP_CONFIG_TYPES,\n  JSON_CONFIG_TYPE,\n  ENV_CONFIG_TYPE,\n  OPENVPN_CONFIG_TYPE,\n  YML_CONFIG_TYPE,\n  SERVICE_NAMES,\n} from '../../constants/appConstant';\nimport { getAppSlaveDeviceInfo } from 'frontend/src/services/slaveAppsUiService';\nexport default {\n  name: 'app-edit-config',\n  props: ['appDetail', 'closeDialog', 'isSlaveApp'],\n  components: { YamlEditor },\n  data() {\n    return {\n      config: null,\n      slaveId: null,\n      apiOpenVPNService: null,\n      apiService: null,\n      isFetchingConfig: false,\n      isSavingConfig: false,\n      isRestartConfig: false,\n      appDetails: [],\n      isArray: false,\n      appType: null,\n      configType: null,\n      jsonConfigType: JSON_CONFIG_TYPE,\n      envConfigType: ENV_CONFIG_TYPE,\n      openVpnConfigType: OPENVPN_CONFIG_TYPE,\n      ymlConfigType: YML_CONFIG_TYPE,\n      file: null,\n      rules: {\n        ovpnExtensionValidator: value =>\n          (value && value.name.toLowerCase().includes('.ovpn')) || 'Extension not supported.',\n      },\n    };\n  },\n  mounted() {\n    if (this.isSlaveApp) {\n      this.slaveId = this.appDetail.slaveId;\n      this.apiService = slaveAppsService;\n    } else {\n      this.apiService = appsService;\n    }\n    this.apiOpenVPNService = openVPNService;\n    this.appDetails = Array.isArray(this.appDetail) ? this.appDetail : [this.appDetail];\n    this.appType = this.appDetails[0].app_type;\n    this.fetchAppConfig();\n    this.configType = this.getConfigType(this.appType, this.appDetails[0].service);\n  },\n  methods: {\n    getConfigType(appType, serviceName) {\n      if (serviceName === SERVICE_NAMES.RUBIX_FLOW_FRAMEWORK || serviceName === SERVICE_NAMES.RUBIX_BROKER) {\n        return YML_CONFIG_TYPE;\n      } else if (appType) {\n        return APP_CONFIG_TYPES[appType] ? APP_CONFIG_TYPES[appType] : YML_CONFIG_TYPE;\n      }\n      return YML_CONFIG_TYPE;\n    },\n    getAppDetailType(appDetail) {\n      const isArray = Array.isArray(appDetail) && appDetail.length > 0;\n      const firstItem = isArray && appDetail[0];\n      return { isArray, firstItem };\n    },\n    onFileSelect() {\n      if (!this.file) {\n        return;\n      }\n      this.file\n        .text()\n        .then(val => {\n          this.config = val;\n        })\n        .catch(() => {\n          this.$toasted.show('Cannot parse file', { type: 'error' });\n        });\n    },\n    fetchAppConfig() {\n      const serviceName = this.appDetails[0].service;\n      const appType = this.appType;\n      const slaveId = this.appDetails[0].slaveId;\n      this.isFetchingConfig = true;\n      this.apiService['fetchAppConfig'](serviceName, appType, { restrictToast: true, slaveId: slaveId })\n        .then(data => {\n          this.config = data;\n        })\n        .catch(err => {})\n        .finally(() => {\n          this.isFetchingConfig = false;\n        });\n    },\n    resetConfig() {\n      this.isRestartConfig = true;\n      const serviceDisplayName = this.appDetails[0].display_name;\n      const selectedDeviceInfo = getAppSlaveDeviceInfo();\n      Promise.all(\n        this.appDetails.map(appDetail =>\n          this.apiOpenVPNService['fetchOpenVPNConfig'](\n            (selectedDeviceInfo && selectedDeviceInfo.global_uuid) ||\n              appDetail.slaveId ||\n              this.$store.state.setting.global_uuid,\n            this.apiService,\n            appDetail.service,\n          ),\n        ),\n      )\n        .then(data => {\n          this.$toasted.show(`Successfully updated config for ${serviceDisplayName}`);\n          this.closeDialog();\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to update config for ${serviceDisplayName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isRestartConfig = false;\n        });\n    },\n    saveConfig() {\n      this.isSavingConfig = true;\n      const serviceDisplayName = this.appDetails[0].display_name;\n\n      Promise.all(\n        this.appDetails.map(appDetail =>\n          this.apiService['saveAppConfig'](appDetail.service, this.appType, this.config, appDetail.slaveId),\n        ),\n      )\n        .then(data => {\n          this.$toasted.show(`Successfully updated config for ${serviceDisplayName}`);\n          this.closeDialog();\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to update config for ${serviceDisplayName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isSavingConfig = false;\n        });\n    },\n    onValueChange(value) {\n      this.config = value;\n    },\n  },\n};\n</script>\n<style scoped>\n.jsoneditor-poweredBy {\n  display: none;\n}\n.CodeMirror {\n  text-align: left !important;\n}\n.jsoneditor-field {\n  color: #fff !important;\n}\n.jsoneditor-field:hover {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-field:focus {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-value:hover {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-value:focus {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor {\n  border: none !important;\n}\n.jsoneditor-menu {\n  background-color: #1e1e1e !important;\n  border-bottom: none !important;\n}\n.ace-jsoneditor .ace_scroller {\n  background-color: #1e1e1e;\n}\n.ace-jsoneditor .ace_gutter {\n  background: #1e1e1e;\n  color: #333;\n}\n.ace_variable {\n  color: #fbb93e !important;\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\n  background: darkslategrey;\n}\n.ace_folding-enabled > .ace_gutter-cell {\n  color: white;\n}\n.ace-jsoneditor .ace_gutter-active-line {\n  background-color: darkslategrey;\n}\n.jsoneditor-statusbar {\n  color: #fff !important;\n  background-color: #1e1e1e !important;\n  border-top: none !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./appsEditConfig.vue?vue&type=template&id=7ad25a10&scoped=true&\"\nimport script from \"./appsEditConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./appsEditConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appsEditConfig.vue?vue&type=style&index=0&id=7ad25a10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ad25a10\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingConfig}},[_c('v-card-title',[_vm._v(\"Edit Config\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[(_vm.configType === _vm.jsonConfigType)?_c('v-jsoneditor',{attrs:{\"options\":{ mode: 'code' },\"plus\":false,\"height\":\"400px\"},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}}):_vm._e(),_vm._v(\" \"),(_vm.configType === _vm.envConfigType)?_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"Enter ENV config\"},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}}):_vm._e(),_vm._v(\" \"),(_vm.configType === _vm.openVpnConfigType)?_c('div',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('v-file-input',{attrs:{\"rules\":[_vm.rules.ovpnExtensionValidator],\"counter\":\"\",\"show-size\":\"\",\"truncate-length\":\"15\"},on:{\"change\":_vm.onFileSelect},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"OpenVPN Config\"},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}})],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.configType === _vm.ymlConfigType && !_vm.isFetchingConfig)?_c('div',[_c('yaml-editor',{attrs:{\"code\":_vm.config},on:{\"input\":_vm.onValueChange}})],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),(_vm.configType === _vm.openVpnConfigType && this.$store.state.mqttRestBridgeConfig.enabled)?_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"warning\",\"loading\":_vm.isRestartConfig},on:{\"click\":_vm.resetConfig}},[_vm._v(\"Restart Config\\n    \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"loading\":_vm.isSavingConfig},on:{\"click\":_vm.saveConfig}},[_vm._v(\"Save\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatus\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium> fa-angle-left </v-icon>\n      </v-btn>\n      <span class=\"headline\">{{ multiStepViewConfig[currentView].title }}</span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\">\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <text-field-display\n                  label=\"Active\"\n                  :value=\"(!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\"\n                ></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <app-status-chip :state=\"serviceStatus.state\"></app-status-chip>\n              </v-col>\n              <v-col cols=\"1\" class=\"text-right\">\n                <v-btn @click=\"fetchAppStatus\" icon medium color=\"nubeGreen\">\n                  <v-icon medium dark> fa-refresh </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display\n                  label=\"Version\"\n                  :value=\"!isFetchingAppStatus && serviceStatus.version ? serviceStatus.version : '-'\"\n                ></text-field-display>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"valid\" ref=\"downloadForm\" lazy-validation>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Active\"\n                    :value=\"\n                      (!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\n                    \"\n                  ></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <app-status-chip :state=\"serviceStatus.state\"></app-status-chip>\n                </v-col>\n                <v-col cols=\"1\" class=\"text-right\">\n                  <v-btn @click=\"fetchAppStatus\" icon medium color=\"nubeGreen\">\n                    <v-icon medium dark> fa-refresh </v-icon>\n                  </v-btn>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Version\"\n                    :value=\"!isFetchingAppStatus && serviceStatus.version ? serviceStatus.version : '-'\"\n                  ></text-field-display>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-combobox\n                    :loading=\"loading\"\n                    :items=\"appReleases\"\n                    label=\"Select Release Version\"\n                    clearable\n                    v-model=\"selectedVersion\"\n                    item-text=\"name\"\n                    item-value=\"tag_name\"\n                    :rules=\"versionRules\"\n                  >\n                  </v-combobox>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"3\">\n            <div class=\"text-left\">\n              <v-alert v-if=\"!currentDownloadState\" class=\"mb-0\" dense type=\"info\">\n                Fetching download status <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert v-if=\"currentDownloadState === 'DOWNLOAD_IN_PROGRESS'\" class=\"mb-0\" dense type=\"info\">\n                Downloading Selected App <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n            <div v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" class=\"pt-3\">\n              <v-row>\n                <v-col cols=\"6\" class=\"text-left\">\n                  <div class=\"grey--text mb-2 caption\">Name</div>\n                  <div class=\"font-weight-medium\">\n                    {{ appDetails.display_name + ' - ' + appDetails.service }}\n                  </div>\n                </v-col>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <div class=\"grey--text mb-2 caption\">Version</div>\n                  <div class=\"font-weight-medium\">\n                    {{ isFetchingAppStatus ? '-' : selectedVersion }}\n                  </div>\n                </v-col>\n              </v-row>\n            </div>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"4\">\n            <v-row>\n              <v-col cols=\"12\" class=\"text-left\">\n                <div class=\"font-weight-large\">Successfully installed {{ appDetails.display_name }} app.</div>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">\n                  <span>Version</span>\n                </div>\n                <div class=\"font-weight-medium\">\n                  {{ selectedVersion }}\n                </div>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        x-small\n        class=\"btn-height-22 white--text\"\n        color=\"primary\"\n        @click=\"next\"\n        :disabled=\"multiStepViewConfig[currentView].disabled\"\n        :loading=\"multiStepViewConfig[currentView].loader\"\n        v-if=\"multiStepViewConfig[currentView].hasForward\"\n      >\n        {{\n          typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n            ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n            : multiStepViewConfig[currentView].buttonLabel\n        }}\n      </v-btn>\n      <v-btn small text @click=\"cancel\"> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n\n  <!-- <v-progress-circular indeterminate size=\"64\"></v-progress-circular> -->\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport * as appsService from '../../services/appsService';\nimport {\n  RUBIX_APP_STATUS_CONTROL_ACTIONS,\n  ALWAYS_RUNNING_RUBIX_APP,\n  APP_DOWNLOAD_STATUSES,\n} from '../../constants/appConstant';\n\nfunction shouldStopRubixApp(serviceInfo) {\n  // return serviceInfo.status && ALWAYS_RUNNING_RUBIX_APP.RUBIX_PLAT !== serviceInfo.service;\n  return false;\n}\n\nexport default {\n  name: 'apps-download-multi-step',\n  props: [\n    'app-details',\n    'close-dialog',\n    'deleteDownloadState',\n    'currentDownloadState',\n    'fetchDownloadAppState',\n    'clearDownloadAppStateInterval',\n  ],\n  components: { AppStatusChip, TextFieldDisplay },\n  data() {\n    return {\n      valid: false,\n      currentView: 1,\n      appReleases: [],\n      serviceStatus: {},\n      isFetchingAppStatus: false,\n      selectedVersion: null,\n      multiStepViewConfig: {\n        1: {\n          back: 1,\n          forward: 2,\n          title: 'App Status',\n          hasBack: false,\n          disabled: false,\n          hasForward: true,\n          buttonLabel: serviceInfo => {\n            if (shouldStopRubixApp(serviceInfo)) {\n              return 'Stop';\n            }\n            return 'Continue';\n          },\n          loader: false,\n        },\n        2: {\n          back: 1,\n          forward: 3,\n          title: 'Download App',\n          hasBack: true,\n          disabled: false,\n          hasForward: true,\n          buttonLabel: 'Download',\n          loader: false,\n        },\n        3: {\n          back: 2,\n          forward: 4,\n          title: 'Install App',\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Install',\n          loader: false,\n          disabled: false,\n        },\n        4: {\n          back: 3,\n          forward: 4,\n          title: 'Installation Complete',\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n        },\n      },\n      loading: true,\n      rules: {\n        required: value => !!value || 'Required.',\n      },\n      versionRules: [value => !!value || 'Version No. is required.'],\n    };\n  },\n  async mounted() {\n    const appName = this.appDetails.service;\n    this.loading = true;\n    await this.fetchAppStatus();\n    await appsService\n      .fetchAppReleases(appName)\n      .then(releases => {\n        this.appReleases = releases;\n        this.loading = false;\n      })\n      .catch(err => {\n        console.error(err);\n      })\n      .finally(() => {\n        this.loading = false;\n      });\n  },\n  updated() {\n    if (this.currentDownloadState === APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS || !this.currentDownloadState) {\n      this.multiStepViewConfig[3].disabled = true;\n    } else {\n      this.multiStepViewConfig[3].disabled = false;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  methods: {\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS:\n          this.currentView = 3; // Download Waiting screen\n          break;\n        case APP_DOWNLOAD_STATUSES.DOWNLOAD_COMPLETE:\n          this.currentView = 3; // Show the install page\n          this.clearDownloadAppStateInterval();\n          break;\n      }\n    },\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    cancel() {\n      if (this.currentView === 3 || this.currentView === 2) {\n        this.deleteDownloadState();\n      }\n      this.closeDialog(true);\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      const serviceStatus = this.serviceStatus.status;\n      const serviceName = this.serviceStatus.service;\n      if (shouldStopRubixApp(this.serviceStatus)) {\n        this.spinLoader(true);\n        appsService\n          .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP, serviceName)\n          .then(data => {\n            this.spinLoader(false);\n            this.currentView++;\n            return this.fetchAppStatus();\n          })\n          .catch(err => {\n            this.spinLoader(false);\n          });\n      } else {\n        this.currentView++;\n      }\n    },\n    continue() {\n      this.closeDialog(true);\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    async download() {\n      const valid = this.$refs.downloadForm.validate();\n      if (!valid) {\n        return;\n      }\n      this.spinLoader(true);\n\n      const data = {\n        service: this.appDetails.service,\n        version: this.selectedVersion,\n      };\n\n      appsService\n        .downloadApp(data)\n        .then(res => {\n          this.currentView = 3; // installation view\n          this.fetchDownloadAppState();\n          this.spinLoader(false);\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.versionRules.push(() => err.message);\n            this.$refs.downloadForm.validate();\n            this.versionRules.pop();\n          }\n          this.spinLoader(false);\n        });\n    },\n    install() {\n      this.spinLoader(true);\n      const data = {\n        service: this.appDetails.service,\n        version: this.selectedVersion,\n      };\n\n      let sleepTimer = 0;\n      appsService\n        .installApp(data)\n        .then(res => {\n          this.spinLoader(false);\n          this.fetchAppStatus();\n          this.currentView++;\n        })\n        .catch(err => {\n          if (this.appDetails.service === 'RUBIX_PLAT') {\n            this.$toasted.show(\n              'The application is being self upgraded/restarted. It may be unresponsive for a few seconds in all locations.',\n              { type: 'info' },\n            );\n            this.spinLoader(false);\n            this.currentView++;\n            sleepTimer = 5000;\n          } else {\n            this.spinLoader(false);\n            this.currentView--;\n            if (err && err.message) {\n              this.versionRules.push(() => err.message);\n              this.$refs.downloadForm.validate();\n              this.versionRules.pop();\n            }\n          }\n        })\n        .finally(() => {\n          setTimeout(()=> {\n            this.deleteDownloadState();\n          }, sleepTimer)\n        });\n    },\n    fetchAppStatus() {\n      this.isFetchingAppStatus = true;\n      return appsService\n        .fetchAppStatus(this.appDetails.service, { restrictToast: true })\n        .then(data => {\n          this.selectedVersion = data.version;\n          this.serviceStatus = data;\n        })\n        .catch(err => {\n          this.selectedVersion = null;\n          this.serviceStatus = {};\n        })\n        .finally(() => {\n          this.isFetchingAppStatus = false;\n        });\n    },\n  },\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsDownloadMultiStep.vue?vue&type=template&id=789f6976&\"\nimport script from \"./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppsDownloadMultiStep.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatus}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\" fa-angle-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.multiStepViewConfig[_vm.currentView].title))])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"nubeGreen\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Version\",\"value\":!_vm.isFetchingAppStatus && _vm.serviceStatus.version ? _vm.serviceStatus.version : '-'}})],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"downloadForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"nubeGreen\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Version\",\"value\":!_vm.isFetchingAppStatus && _vm.serviceStatus.version ? _vm.serviceStatus.version : '-'}})],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-combobox',{attrs:{\"loading\":_vm.loading,\"items\":_vm.appReleases,\"label\":\"Select Release Version\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(_vm.selectedVersion),callback:function ($$v) {_vm.selectedVersion=$$v},expression:\"selectedVersion\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('div',{staticClass:\"text-left\"},[(!_vm.currentDownloadState)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Fetching download status \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_IN_PROGRESS')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading Selected App \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('div',{staticClass:\"pt-3\"},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"6\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.appDetails.display_name + ' - ' + _vm.appDetails.service)+\"\\n                \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.isFetchingAppStatus ? '-' : _vm.selectedVersion)+\"\\n                \")])])],1)],1):_vm._e()]),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"font-weight-large\"},[_vm._v(\"Successfully installed \"+_vm._s(_vm.appDetails.display_name)+\" app.\")])])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(\"Version\")])]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.selectedVersion)+\"\\n              \")])])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled,\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader},on:{\"click\":_vm.next}},[_vm._v(\"\\n      \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n          ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n          : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatus\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium> fa-angle-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\">{{ multiStepViewConfig[currentView].title(appDetails.display_name) }}</span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\">\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n              </v-col>\n              <v-col cols=\"2\" class=\"text-left\">\n                <text-field-display\n                  label=\"Active\"\n                  :value=\"(!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\"\n                ></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <app-status-chip v-if=\"!isFetchingAppStatus\" :state=\"serviceStatus.state\"></app-status-chip>\n              </v-col>\n              <v-col cols=\"1\" class=\"text-right\">\n                <v-btn @click=\"fetchAppStatus\" icon medium color=\"nubeGreen\">\n                  <v-icon medium dark> fa-refresh </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"valid\" ref=\"uploadForm\" lazy-validation>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n                </v-col>\n                <v-col cols=\"2\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Active\"\n                    :value=\"\n                      (!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\n                    \"\n                  ></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <app-status-chip v-if=\"!isFetchingAppStatus\" :state=\"serviceStatus.state\"></app-status-chip>\n                </v-col>\n                <v-col cols=\"1\" class=\"text-right\">\n                  <v-btn @click=\"fetchAppStatus\" icon medium color=\"nubeGreen\">\n                    <v-icon medium dark> fa-refresh </v-icon>\n                  </v-btn>\n                </v-col>\n              </v-row>\n              <v-row dense>\n                <v-col cols=\"12\" class=\"white--text\">\n                  <v-file-input\n                    v-model=\"file\"\n                    :rules=\"[rules.required]\"\n                    counter\n                    show-size\n                    @change=\"onFileSelect\"\n                    truncate-length=\"15\"\n                  ></v-file-input>\n                </v-col>\n                <v-col cols=\"12\" class=\"text-left ml-8\">\n                  <v-text-field\n                    label=\"Version\"\n                    type=\"text\"\n                    single-line\n                    v-model=\"version\"\n                    :rules=\"[rules.required]\"\n                  ></v-text-field>\n                </v-col>\n              </v-row>\n              <v-alert v-if=\"errorMessage\" class=\"text-left\" dense outlined type=\"error\">\n                {{ errorMessage }}\n              </v-alert>\n            </v-form>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"3\">\n            <v-row>\n              <v-col cols=\"6\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name + ' - ' + appDetails.service }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Version</div>\n                <div class=\"font-weight-medium\">\n                  {{ version }}\n                </div>\n              </v-col>\n              <v-col cols=\"12\" class=\"text-left\" v-if=\"serviceStatus.app_type === rubixAppTypes.PYTHON_APP\">\n                <rbx-button\n                  v-if=\"!isDeleteAppData\"\n                  color=\"pink\"\n                  :click=\"toggleDeleteAppData\"\n                  title=\"Delete App Data\"\n                ></rbx-button>\n                <v-card v-if=\"isDeleteAppData\">\n                  <v-card-title class=\"headline\"> Confirm? </v-card-title>\n                  <v-card-text>Do you want to delete app data?</v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"nubeGreen\" text @click=\"isDeleteAppData = false\"> Cancel </v-btn>\n                    <v-btn color=\"red darken-1\" :loading=\"isDeletingAppData\" text @click=\"deleteAppData\"> Yes </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"4\">\n            <v-row>\n              <v-col cols=\"12\" class=\"text-left\">\n                <div class=\"font-weight-large\">Successfully installed {{ appDetails.display_name }} app.</div>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">\n                  <span>Version</span>\n                </div>\n                <div class=\"font-weight-medium\">\n                  {{ serviceStatus.version }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\">\n                <rbx-button color=\"nubeGreen\" :click=\"startApp\" :loading=\"isStartingApp\" title=\"Start App\"></rbx-button>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        x-small\n        class=\"btn-height-22 white--text\"\n        color=\"primary\"\n        @click=\"next\"\n        :loading=\"multiStepViewConfig[currentView].loader\"\n        v-if=\"multiStepViewConfig[currentView].hasForward\"\n      >\n        {{\n          typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n            ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n            : multiStepViewConfig[currentView].buttonLabel\n        }}\n      </v-btn>\n      <v-btn small text @click=\"cancel\"> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n\n  <!-- <v-progress-circular indeterminate size=\"64\"></v-progress-circular> -->\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport * as appsService from '../../services/appsService';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport RbxButton from '../Common/RbxButton';\nimport {\n  RUBIX_APP_STATUS_CONTROL_ACTIONS,\n  ALWAYS_RUNNING_RUBIX_APP,\n  RUBIX_APP_TYPES,\n} from '../../constants/appConstant';\n\nfunction shouldStopRubixApp(serviceInfo) {\n  return serviceInfo.status && ALWAYS_RUNNING_RUBIX_APP.RUBIX_PLAT !== serviceInfo.service;\n}\n\nexport default {\n  name: 'apps-upload-multi-step',\n  props: ['app-details', 'close-dialog', 'isSlaveApp'],\n  components: { AppStatusChip, TextFieldDisplay, RbxButton },\n  data() {\n    return {\n      isDeleteAppData: false,\n      isDeletingAppData: false,\n      valid: false,\n      currentView: 1,\n      version: null,\n      serviceStatus: {},\n      isFetchingAppStatus: false,\n      isStartingApp: false,\n      errorMessage: '',\n      file: null,\n      rubixAppTypes: RUBIX_APP_TYPES,\n      apiService: null,\n      slaveId: null,\n      multiStepViewConfig: {\n        1: {\n          back: 1,\n          forward: 2,\n          title: serviceName => `${serviceName} | App Status`,\n          hasBack: false,\n          hasForward: true,\n          buttonLabel: serviceInfo => {\n            if (shouldStopRubixApp(serviceInfo)) {\n              return 'Stop';\n            }\n            return 'Continue';\n          },\n          loader: false,\n        },\n        2: {\n          back: 1,\n          forward: 3,\n          title: serviceName => `${serviceName} | Upload App`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Upload',\n          loader: false,\n        },\n        3: {\n          back: 2,\n          forward: 4,\n          title: serviceName => `${serviceName} | Install App`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Install',\n          loader: false,\n        },\n        4: {\n          back: 3,\n          forward: 4,\n          title: serviceName => `${serviceName} | Installation Complete`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Ok',\n          loader: false,\n        },\n      },\n      loading: true,\n      rules: {\n        required: value => !!value || 'Required.',\n      },\n      versionRules: [value => !!value || 'Version No. is required.'],\n    };\n  },\n  async mounted() {\n    if (this.isSlaveApp) {\n      this.apiService = slaveAppsService;\n      this.slaveId = this.appDetails.slaveId;\n    } else {\n      this.apiService = appsService;\n    }\n    await this.fetchAppStatus();\n  },\n  methods: {\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    cancel() {\n      this.closeDialog(true);\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.upload();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      const serviceStatus = this.serviceStatus.status;\n      const serviceName = this.serviceStatus.service;\n      if (shouldStopRubixApp(this.serviceStatus)) {\n        this.spinLoader(true);\n        this.apiService\n          .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP, serviceName, this.slaveId)\n          .then(data => {\n            this.spinLoader(false);\n            this.currentView++;\n            return this.fetchAppStatus();\n          })\n          .catch(err => {\n            this.spinLoader(false);\n          });\n      } else {\n        this.currentView++;\n      }\n    },\n    startApp() {\n      const serviceName = this.serviceStatus.service;\n      this.isStartingApp = true;\n      this.apiService\n        .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.START, serviceName, this.slaveId)\n        .then(data => {\n          this.$toasted.show(`Successfully started ${serviceName}`);\n          this.continue();\n          return this.fetchAppStatus();\n        })\n        .catch(err => {\n          this.$toasted.show(`Could not start ${serviceName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isStartingApp = false;\n        });\n    },\n    continue() {\n      this.closeDialog(true);\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    upload() {\n      const valid = this.$refs.uploadForm.validate();\n      if (!valid) {\n        return;\n      }\n      this.spinLoader(true);\n      this.apiService\n        .uploadApp(this.file, this.appDetails.service, this.version, this.slaveId)\n        .then(res => {\n          this.currentView++;\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.errorMessage = err.message;\n          }\n        })\n        .finally(() => {\n          this.spinLoader(false);\n        });\n    },\n    install() {\n      this.spinLoader(true);\n      const data = {\n        service: this.appDetails.service,\n        version: this.version,\n      };\n\n      this.apiService\n        .installApp(data, this.slaveId)\n        .then(res => {\n          this.spinLoader(false);\n          this.fetchAppStatus();\n          this.currentView++;\n          this.errorMessage = '';\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          if (shouldStopRubixApp(this.serviceStatus)) {\n            this.currentView--;\n          } else {\n            this.currentView++;\n          }\n          if (err && err.message && shouldStopRubixApp(this.serviceStatus)) {\n            this.errorMessage = err.message;\n          }\n        });\n    },\n    fetchAppStatus() {\n      this.isFetchingAppStatus = true;\n      return this.apiService\n        .fetchAppStatus(this.appDetails.service, { restrictToast: true }, this.slaveId)\n        .then(data => {\n          this.serviceStatus = data;\n        })\n        .catch(err => {\n          this.serviceStatus = {};\n        })\n        .finally(() => {\n          this.isFetchingAppStatus = false;\n        });\n    },\n    onFileSelect() {\n      if (this.file && this.file.name) {\n        const fileName = this.file.name;\n        const versionRegex = new RegExp('[0-9].[0-9].[0-9]');\n        let versionNumber = fileName.match(versionRegex, '');\n        if (versionNumber && Array.isArray(versionNumber)) {\n          versionNumber = versionNumber[0];\n          this.version = 'v' + versionNumber;\n        }\n      }\n    },\n    deleteAppData() {\n      this.isDeletingAppData = true;\n      this.apiService\n        .deleteAppData(this.serviceStatus.service, this.slaveId)\n        .then(() => {\n          this.$toasted.show('Successfully deleted app data');\n          this.isDeleteAppData = false;\n        })\n        .catch(() => {\n          this.$toasted.show('Cannot deleted app data', { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingAppData = false;\n        });\n    },\n    toggleDeleteAppData() {\n      this.isDeleteAppData = !this.isDeleteAppData;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsUploadMultiStepView.vue?vue&type=template&id=7f969e2a&\"\nimport script from \"./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatus}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\" fa-angle-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(_vm._s(_vm.multiStepViewConfig[_vm.currentView].title(_vm.appDetails.display_name)))])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"2\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[(!_vm.isFetchingAppStatus)?_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}}):_vm._e()],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"nubeGreen\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-refresh \")])],1)],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"uploadForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"2\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[(!_vm.isFetchingAppStatus)?_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}}):_vm._e()],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"nubeGreen\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"white--text\",attrs:{\"cols\":\"12\"}},[_c('v-file-input',{attrs:{\"rules\":[_vm.rules.required],\"counter\":\"\",\"show-size\":\"\",\"truncate-length\":\"15\"},on:{\"change\":_vm.onFileSelect},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left ml-8\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Version\",\"type\":\"text\",\"single-line\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}})],1)],1),_vm._v(\" \"),(_vm.errorMessage)?_c('v-alert',{staticClass:\"text-left\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.errorMessage)+\"\\n            \")]):_vm._e()],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"6\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name + ' - ' + _vm.appDetails.service)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.version)+\"\\n              \")])]),_vm._v(\" \"),(_vm.serviceStatus.app_type === _vm.rubixAppTypes.PYTHON_APP)?_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[(!_vm.isDeleteAppData)?_c('rbx-button',{attrs:{\"color\":\"pink\",\"click\":_vm.toggleDeleteAppData,\"title\":\"Delete App Data\"}}):_vm._e(),_vm._v(\" \"),(_vm.isDeleteAppData)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Confirm? \")]),_vm._v(\" \"),_c('v-card-text',[_vm._v(\"Do you want to delete app data?\")]),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"nubeGreen\",\"text\":\"\"},on:{\"click\":function($event){_vm.isDeleteAppData = false}}},[_vm._v(\" Cancel \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"loading\":_vm.isDeletingAppData,\"text\":\"\"},on:{\"click\":_vm.deleteAppData}},[_vm._v(\" Yes \")])],1)],1):_vm._e()],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"font-weight-large\"},[_vm._v(\"Successfully installed \"+_vm._s(_vm.appDetails.display_name)+\" app.\")])])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(\"Version\")])]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.serviceStatus.version)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('rbx-button',{attrs:{\"color\":\"nubeGreen\",\"click\":_vm.startApp,\"loading\":_vm.isStartingApp,\"title\":\"Start App\"}})],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader},on:{\"click\":_vm.next}},[_vm._v(\"\\n      \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n          ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n          : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatuses\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium> fa-angle-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\"> Bulk Apps | {{ multiStepViewConfig[currentView].title }} </span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\" class=\"pa-0\">\n            <v-alert class=\"mb-0\" v-if=\"!hasSelectedApps\" dense type=\"info\">\n              Please select apps from the grid to bulk download.\n            </v-alert>\n            <v-list flat subheader dense class=\"text-left\">\n              <v-subheader>Selected Apps</v-subheader>\n\n              <v-list-item v-for=\"(app, i) in apps\" :key=\"`selected_apps-${i}`\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"app.displayName\"></v-list-item-title>\n                  <v-list-item-subtitle v-text=\"app.version\"></v-list-item-subtitle>\n                </v-list-item-content>\n                <v-list-item-icon>\n                  <app-status-chip :state=\"app.state\"></app-status-chip>\n                </v-list-item-icon>\n              </v-list-item>\n            </v-list>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"versionForm\" ref=\"versionForm\" lazy-validation>\n              <v-row dense class=\"text-left\">\n                <v-col cols=\"12\" v-for=\"(app, i) in apps\" :key=\"`version-form-${renderReleaseCount}-${i}`\">\n                  <v-row dense>\n                    <v-col cols=\"4\">\n                      <text-field-display label=\"Name\" :value=\"app.displayName\"></text-field-display>\n                    </v-col>\n                    <v-col cols=\"8\">\n                      <v-combobox\n                        :loading=\"app.loadingReleases\"\n                        :items=\"app.releases\"\n                        label=\"Select Release Version\"\n                        hideSelected\n                        clearable\n                        v-model=\"app.version\"\n                        item-text=\"name\"\n                        item-value=\"tag_name\"\n                        :rules=\"versionRules\"\n                      >\n                      </v-combobox>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n          <v-stepper-content step=\"3\" class=\"pa-0\">\n            <div>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_IN_PROGRESS'\" dense type=\"info\">\n                Downloading Selected App(s) <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n            <v-list flat subheader dense class=\"text-left\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-subheader>App Download Statuses</v-subheader>\n\n              <v-list-item v-for=\"(app, i) in downloadStates\" :key=\"`download-statuses-${i}`\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"app.serviceName\"></v-list-item-title>\n                  <v-list-item-subtitle v-text=\"app.version\"></v-list-item-subtitle>\n                </v-list-item-content>\n                <v-list-item-icon>\n                  <div v-if=\"app.isDownloading\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"downloadColor\">Downloading</v-chip>\n                    </span>\n                  </div>\n                  <div v-else-if=\"app.hasError\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"red\">Failed</v-chip>\n                    </span>\n                  </div>\n                  <div v-else-if=\"!app.isDownloading && !app.hasError\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"nubeGreen\">Downloaded</v-chip>\n                    </span>\n                  </div>\n                </v-list-item-icon>\n              </v-list-item>\n            </v-list>\n          </v-stepper-content>\n          <v-stepper-content step=\"4\" class=\"pa-0\">\n            <v-list flat subheader dense class=\"text-left\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-list-item-group v-if=\"successInstallApps.length > 0\">\n                <v-subheader>Installation Completed Apps</v-subheader>\n\n                <v-list-item v-for=\"(successApps, i) in successInstallApps\" :key=\"`install-complete-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"successApps.service\"></v-list-item-title>\n                    <v-list-item-subtitle v-text=\"successApps.version\"></v-list-item-subtitle>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"blue\">Installed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n              <v-list-item-group v-if=\"failureInstallApps.length > 0\">\n                <v-subheader> Installation Failed Apps</v-subheader>\n                <v-list-item v-for=\"(failedApps, i) in failureInstallApps\" :key=\"`installation-failed-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"failedApps.service\"></v-list-item-title>\n                    <v-list-item-subtitle v-text=\"failedApps.version\"></v-list-item-subtitle>\n                    <v-list-item-subtitle v-text=\"failedApps.error\"></v-list-item-subtitle>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"red\">Failed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-card-actions>\n        <v-btn\n          x-small\n          class=\"btn-height-22 white--text\"\n          color=\"primary\"\n          @click=\"next\"\n          :loading=\"multiStepViewConfig[currentView].loader\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasForward\"\n        >\n          {{\n            typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n              ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n              : multiStepViewConfig[currentView].buttonLabel\n          }}\n        </v-btn>\n        <v-btn\n          small\n          color=\"pink\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasCancelInstallation\"\n          @click=\"cancelInstallation\"\n          text\n        >\n          Cancel Install\n        </v-btn>\n\n        <v-btn small text v-if=\"multiStepViewConfig[currentView].hasCancel\" @click=\"cancel\"> Close </v-btn>\n      </v-card-actions>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip';\nimport _zipObject from 'lodash/zipObject';\nimport TextFieldDisplay from '../Common/TextFieldDisplay';\nimport * as appsService from '../../services/appsService';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  props: [\n    'selectedApps',\n    'clearSelectedApps',\n    'closeDialog',\n    'fetchDownloadAppState',\n    'currentDownloadState',\n    'appDownloadStates',\n    'clearDownloadAppStateInterval',\n    'deleteDownloadState',\n  ],\n  components: {\n    AppStatusChip,\n    TextFieldDisplay,\n  },\n  data() {\n    return {\n      versionForm: false,\n      renderReleaseCount: 0,\n      isFetchingAppStatuses: false,\n      successInstallApps: [],\n      failureInstallApps: [],\n      currentView: 1,\n      refreshTime: 10000,\n      versionRules: [value => !!value || 'Version No. is required.'],\n      multiStepViewConfig: {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n          loader: false,\n          disabled: true,\n          hasCancel: true,\n          cancelTitle: 'Close',\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n          hasCancel: false,\n        },\n      },\n    };\n  },\n  updated() {\n    if (!this.hasSelectedApps && !this.currentDownloadState && this.currentDownloadState !== DOWNLOAD_COMPLETE) {\n      this.currentView = 1;\n      this.multiStepViewConfig[1].disabled = true;\n    } else {\n      this.multiStepViewConfig[1].disabled = false;\n    }\n\n    if (this.currentDownloadState === DOWNLOAD_IN_PROGRESS || !this.currentDownloadState) {\n      this.multiStepViewConfig[3].disabled = true;\n    } else {\n      this.multiStepViewConfig[3].disabled = false;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  created() {\n    this.showDownloadStateView(this.currentDownloadState);\n  },\n  computed: {\n    currentBulkAppDownloadState() {\n      return this.$store.state.currentBulkAppDownloadState;\n    },\n    hasSelectedApps() {\n      return this.selectedApps.length > 0;\n    },\n    apps() {\n      return this.selectedApps.map(app => ({\n        serviceName: app.service,\n        state: app.state,\n        version: app.version,\n        latestVersion: app.latest_version,\n        minVersion: app.min_support_version,\n        displayName: app.display_name,\n        loadingReleases: false,\n        releases: [],\n      }));\n    },\n    downloadStates() {\n      if (Array.isArray(this.appDownloadStates) && this.appDownloadStates.length > 0) {\n        this.currentView = 3;\n      }\n      return (this.appDownloadStates || []).map(downloadState => ({\n        isDownloading: !downloadState.download,\n        version: downloadState.version,\n        serviceName: downloadState.service,\n        hasError: !!downloadState.error,\n        errorMessage: downloadState.error,\n      }));\n    },\n  },\n  created() {\n    this.fetchAppsReleases();\n  },\n  methods: {\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case DOWNLOAD_IN_PROGRESS:\n          this.currentView = 3; // Download Waiting screen\n          break;\n        case DOWNLOAD_COMPLETE:\n          this.currentView = 3; // Show the download report page\n          this.clearDownloadAppStateInterval();\n          break;\n      }\n    },\n    fetchAppsReleases() {\n      const serviceNames = this.selectedApps.map(val => val.service);\n\n      this.apps.forEach(app => {\n        app.loadingReleases = true;\n      });\n\n      return appsService\n        .fetchAppsReleases(serviceNames)\n        .then(appVersions => {\n          this.apps.forEach((app, index) => {\n            app.releases = appVersions[index];\n          });\n        })\n        .catch(() => {\n          this.$toasted.show('Error fetching available releases');\n        })\n        .finally(() => {\n          this.apps.forEach(app => {\n            app.loadingReleases = false;\n          });\n          this.renderReleaseCount++;\n        });\n    },\n    disableInstallationButton() {\n      this.multiStepViewConfig[3].disabled = true;\n    },\n    bulkDownloadApps() {\n      this.currentView = 3;\n      this.disableInstallationButton();\n      const payload = this.apps.map(app => ({ version: app.version, service: app.serviceName }));\n      this.spinLoader(true);\n      const donwloadPromise = appsService\n        .bulkDownloadApps(payload)\n        .then(() => {\n          this.spinLoader(false);\n          this.fetchDownloadAppState();\n        })\n        .catch(err => {\n          this.spinLoader(false);\n        });\n\n      return donwloadPromise;\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      this.currentView++;\n    },\n    download() {\n      if (!this.$refs.versionForm.validate()) {\n        return;\n      }\n      this.bulkDownloadApps();\n    },\n    install() {\n      const installPayload = this.downloadStates\n        .filter(val => !val.hasError)\n        .map(val => ({\n          service: val.serviceName,\n          version: val.version,\n        }));\n      this.spinLoader(true);\n      return appsService\n        .bulkInstallApps(installPayload)\n        .then(data => {\n          this.spinLoader(false);\n          this.currentView = 4; // Installation complete\n          this.successInstallApps = data.filter(val => val.installation);\n          this.failureInstallApps = data.filter(val => !val.installation);\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          this.deleteDownloadState();\n          this.$toasted.show('Unexpected error occured while bulk installing apps. Please try again');\n        });\n    },\n    continue() {\n      this.resetDialog();\n    },\n    cancel() {\n      this.fetchDownloadAppState();\n      this.closeDialog();\n    },\n    cancelInstallation() {\n      this.resetDialog();\n    },\n    resetDialog() {\n      this.versionForm = false;\n      this.renderReleaseCount = 0;\n      this.isFetchingAppStatuses = false;\n      this.currentView = 1;\n      this.multiStepViewConfig = {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          loader: false,\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n        },\n      };\n      this.deleteDownloadState();\n      this.fetchAppsReleases();\n      this.clearSelectedApps();\n      this.closeDialog(true, { unmount: true });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsBulkDownloadMultiStep.vue?vue&type=template&id=92f813f4&\"\nimport script from \"./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatuses}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\" fa-angle-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(\" Bulk Apps | \"+_vm._s(_vm.multiStepViewConfig[_vm.currentView].title)+\" \")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"1\"}},[(!_vm.hasSelectedApps)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n            Please select apps from the grid to bulk download.\\n          \")]):_vm._e(),_vm._v(\" \"),_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Selected Apps\")]),_vm._v(\" \"),_vm._l((_vm.apps),function(app,i){return _c('v-list-item',{key:(\"selected_apps-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.displayName)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(app.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('app-status-chip',{attrs:{\"state\":app.state}})],1)],1)})],2)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"versionForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.versionForm),callback:function ($$v) {_vm.versionForm=$$v},expression:\"versionForm\"}},[_c('v-row',{staticClass:\"text-left\",attrs:{\"dense\":\"\"}},_vm._l((_vm.apps),function(app,i){return _c('v-col',{key:(\"version-form-\" + _vm.renderReleaseCount + \"-\" + i),attrs:{\"cols\":\"12\"}},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":app.displayName}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-combobox',{attrs:{\"loading\":app.loadingReleases,\"items\":app.releases,\"label\":\"Select Release Version\",\"hideSelected\":\"\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(app.version),callback:function ($$v) {_vm.$set(app, \"version\", $$v)},expression:\"app.version\"}})],1)],1)],1)}),1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"3\"}},[_c('div',[(_vm.currentDownloadState === 'DOWNLOAD_IN_PROGRESS')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading Selected App(s) \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"App Download Statuses\")]),_vm._v(\" \"),_vm._l((_vm.downloadStates),function(app,i){return _c('v-list-item',{key:(\"download-statuses-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.serviceName)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(app.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[(app.isDownloading)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"downloadColor\"}},[_vm._v(\"Downloading\")])],1)]):(app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)]):(!app.isDownloading && !app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"nubeGreen\"}},[_vm._v(\"Downloaded\")])],1)]):_vm._e()])],1)})],2):_vm._e()],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"4\"}},[(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[(_vm.successInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\"Installation Completed Apps\")]),_vm._v(\" \"),_vm._l((_vm.successInstallApps),function(successApps,i){return _c('v-list-item',{key:(\"install-complete-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(successApps.service)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(successApps.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"blue\"}},[_vm._v(\"Installed\")])],1)])])],1)})],2):_vm._e(),_vm._v(\" \"),(_vm.failureInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\" Installation Failed Apps\")]),_vm._v(\" \"),_vm._l((_vm.failureInstallApps),function(failedApps,i){return _c('v-list-item',{key:(\"installation-failed-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(failedApps.service)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.version)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.error)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)])])],1)})],2):_vm._e()],1):_vm._e()],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader,\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled},on:{\"click\":_vm.next}},[_vm._v(\"\\n        \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n            ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n            : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancelInstallation)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"pink\",\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled,\"text\":\"\"},on:{\"click\":_vm.cancelInstallation}},[_vm._v(\"\\n        Cancel Install\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancel)?_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Close \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-toolbar flat>\n      <grid-toolbar :hide-export-data=\"true\" :items=\"selectedItems\" toolbarTitle=\"Rubix Apps\">\n        <template v-slot:customAction>\n          <span>\n            <tooltip-icon-button\n              btnColor=\"default\"\n              btnIcon=\"fa-refresh\"\n              :btnTooltip=\"refreshToolTipTitle\"\n              buttonSize=\"medium\"\n              :onClick=\"() => refreshGrid()\"\n            ></tooltip-icon-button>\n            <v-btn\n              :disabled=\"isDeletingDownloadState\"\n              @click=\"() => bulkDownloadApps(selectedItems)\"\n              x-small\n              color=\"downloadColor\"\n              class=\"btn-height-22 white--text\"\n            >\n              Download Apps\n              <v-icon x-small right dark> fa-download </v-icon>\n            </v-btn>\n            <v-progress-circular\n              v-if=\"showDownloadProgressIcon\"\n              :width=\"2\"\n              :size=\"15\"\n              color=\"white\"\n              indeterminate\n            ></v-progress-circular>\n            <v-icon v-if=\"showCheckDownloadIcon\" x-medium dark> fa-check</v-icon>\n          </span>\n        </template>\n      </grid-toolbar>\n    </v-toolbar>\n    <v-data-table\n      show-select\n      item-key=\"service\"\n      :headers=\"headers\"\n      :items=\"appDetails\"\n      :single-select=\"false\"\n      v-model=\"selectedItems\"\n      :loading=\"isFetchingAppDetails\"\n      :footer-props=\"tableProps.FOOTER_PROPS\"\n      :itemsPerPage=\"tableProps.ITEMS_PER_PAGE\"\n    >\n      <template v-slot:[`item.state`]=\"{ item }\">\n        <app-status-chip :state=\"item.state\"></app-status-chip>\n      </template>\n      <template v-slot:[`item.restart`]=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.restartService, item)\"\n              icon\n              v-if=\"item.isUninstallable\"\n              small\n              color=\"nubeGreen\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon dark> fa-repeat </v-icon>\n            </v-btn>\n          </template>\n          <span>Restart Service</span>\n        </v-tooltip>\n        <configure-cron-btn\n          :service=\"item\"\n          btnSize=\"medium\"\n          :handleClick=\"() => toggleDialog(dialogNames.cronConfigure, item)\"\n        ></configure-cron-btn>\n      </template>\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <span>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                @click=\"() => toggleDialog(dialogNames.install, item)\"\n                icon\n                small\n                color=\"downloadColor\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon small dark> fa-download </v-icon>\n              </v-btn>\n            </template>\n            <span>Download</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                @click=\"() => toggleDialog(dialogNames.upload, item)\"\n                icon\n                small\n                color=\"nubeYellow\"\n              >\n                <v-icon small dark> fa-upload </v-icon>\n              </v-btn>\n            </template>\n            <span>Upload</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-if=\"item.isUninstallable\"\n                @click=\"() => toggleDialog(dialogNames.uninstall, item)\"\n                icon\n                small\n                color=\"error\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon small dark> fa-trash-o </v-icon>\n              </v-btn>\n            </template>\n            <span>Delete App</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                :href=\"item.downloadUrl\"\n                target=\"_blank\"\n                tar\n                v-if=\"item.downloadUrl\"\n                icon\n                small\n              >\n                <v-icon small dark> fa-file-zip-o</v-icon>\n              </v-btn>\n            </template>\n            <span>Download ZIP</span>\n          </v-tooltip>\n        </span>\n      </template>\n\n      <template v-slot:[`item.configFile`]=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.editConfig, item)\"\n              icon\n              small\n              color=\"blue\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> fa-pencil </v-icon>\n            </v-btn>\n          </template>\n          <span>Edit Config File</span>\n        </v-tooltip>\n\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn @click=\"() => downloadConfig(item)\" icon small color=\"downloadColor\" v-bind=\"attrs\" v-on=\"on\">\n              <v-icon small dark> fa-download </v-icon>\n            </v-btn>\n          </template>\n          <span>Download Config File</span>\n        </v-tooltip>\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.deleteAppConfig, item)\"\n              icon\n              small\n              color=\"error\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> fa-trash-o </v-icon>\n            </v-btn>\n          </template>\n          <span>Delete Configuration</span>\n        </v-tooltip>\n      </template>\n\n      <template v-slot:[`item.databaseOperations`]=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn @click=\"() => downloadAppData(item)\" icon small color=\"downloadColor\" v-bind=\"attrs\" v-on=\"on\">\n              <v-icon small dark> fa-download </v-icon>\n            </v-btn>\n          </template>\n          <span>Download Database</span>\n        </v-tooltip>\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.deleteDatabase, item)\"\n              icon\n              small\n              color=\"error\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> fa-trash-o </v-icon>\n            </v-btn>\n          </template>\n          <span>Delete Database</span>\n        </v-tooltip>\n      </template>\n    </v-data-table>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.uninstall]\"\n      :on-close=\"() => closeDialog(dialogNames.uninstall)\"\n      :on-confirm=\"() => uninstall(dialogNames.uninstall)\"\n      :loading=\"isUninstallingApp\"\n      dialog-text=\"Do you want to uninstall the app?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.restartService]\"\n      :on-close=\"() => closeDialog(dialogNames.restartService)\"\n      :on-confirm=\"() => restartService()\"\n      :loading=\"isRestartingService\"\n      dialog-text=\"Are you sure want to restart the app?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteDatabase]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteDatabase)\"\n      :on-confirm=\"() => deleteDatabase(dialogNames.deleteDatabase)\"\n      :loading=\"isDeletingDatabase\"\n      dialog-text=\"Do you want to delete the app's database?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteAppConfig]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteAppConfig)\"\n      :on-confirm=\"() => deleteAppConfigFile()\"\n      :loading=\"isDeletingConfig\"\n      dialog-text=\"Do you want to delete the app's config file?\"\n    ></confirm-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.upload]\" max-width=\"500px\">\n      <apps-upload-multi-step-view\n        v-if=\"dialog[dialogNames.upload]\"\n        :app-details=\"selectedApp\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.upload, syncAppDetails)\"\n      ></apps-upload-multi-step-view>\n    </v-dialog>\n\n    <v-dialog presistent v-model=\"dialog[dialogNames.editConfig]\" max-width=\"500px\">\n      <apps-edit-config\n        v-if=\"dialog[dialogNames.editConfig]\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.editConfig, syncAppDetails)\"\n        :app-detail=\"selectedApp\"\n      ></apps-edit-config>\n    </v-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.install]\" max-width=\"500px\">\n      <apps-download-multi-step-view\n        v-if=\"dialog[dialogNames.install]\"\n        :delete-download-state=\"deleteDownloadState\"\n        :current-download-state=\"currentDownloadState\"\n        :fetch-download-app-state=\"fetchDownloadAppState\"\n        :clear-download-app-state-interval=\"clearDownloadAppStateInterval\"\n        :app-details=\"selectedApp\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.install, syncAppDetails)\"\n      ></apps-download-multi-step-view>\n    </v-dialog>\n\n    <v-dialog :persistent=\"isBulkDownloadAppPersistent\" v-model=\"dialog[dialogNames.bulkDownload]\" max-width=\"500px\">\n      <apps-bulk-download-multi-step-view\n        v-if=\"remountDialog[dialogNames.bulkDownload]\"\n        :current-download-state=\"currentDownloadState\"\n        :selected-apps=\"selectedItems\"\n        :fetch-download-app-state=\"fetchDownloadAppState\"\n        :app-download-states=\"appDownloadStates\"\n        :clear-selected-apps=\"clearSelectedApps\"\n        :delete-download-state=\"deleteDownloadState\"\n        :clear-download-app-state-interval=\"clearDownloadAppStateInterval\"\n        :close-dialog=\"(syncAppDetails, config) => closeDialog(dialogNames.bulkDownload, syncAppDetails, config)\"\n      ></apps-bulk-download-multi-step-view>\n    </v-dialog>\n    <v-dialog presistent v-model=\"dialog[dialogNames.cronConfigure]\" max-width=\"500px\">\n      <configure-cron-view\n        v-if=\"dialog[dialogNames.cronConfigure]\"\n        :service=\"selectedApp\"\n        :open=\"dialog[dialogNames.cronConfigure]\"\n        :on-cancel=\"() => closeDialog(dialogNames.cronConfigure)\"\n      ></configure-cron-view>\n    </v-dialog>\n  </v-card>\n</template>\n\n<script>\nimport JsZip from 'jszip';\nimport AppsEditConfig from './appsEditConfig';\nimport GridToolbar from '../Common/GridToolbar';\nimport ConfigForm from '../Plugins/ConfigForm.vue';\nimport ConfigureCronBtn from '../Common/ConfigureCronBtn.vue';\nimport AppsDownloadMultiStepView from './AppsDownloadMultiStep';\nimport AppsUploadMultiStepView from './AppsUploadMultiStepView';\nimport TooltipIconButton from '../RubixApps/TooltipIconButton.vue';\nimport AppStatusChip from '../../components/Services/AppStatusChip';\nimport AppsBulkDownloadMultiStepView from './AppsBulkDownloadMultiStep';\nimport * as appsService from '../../services/appsService';\nimport ConfigureCronView from '../RubixApps/ConfigureCronView.vue';\nimport { RUBIX_APP_STATUS_CONTROL_ACTIONS, SERVICE_NAMES } from '../../constants/appConstant';\nimport { DATA_TABLE_PROPS } from '../../constants/appConstant';\nimport ConfirmDialog from '../Common/ConfirmDialog';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  name: 'systemServices',\n  components: {\n    GridToolbar,\n    ConfigForm,\n    ConfirmDialog,\n    AppStatusChip,\n    AppsEditConfig,\n    ConfigureCronBtn,\n    ConfigureCronView,\n    TooltipIconButton,\n    AppsUploadMultiStepView,\n    AppsDownloadMultiStepView,\n    AppsBulkDownloadMultiStepView,\n  },\n  data() {\n    const dialogNames = {\n      install: 'install',\n      uninstall: 'uninstall',\n      upload: 'upload',\n      deleteDatabase: 'deleteDatabase',\n      editConfig: 'editConfig',\n      deleteAppConfig: 'deleteAppConfig',\n      bulkDownload: 'bulkDownload',\n      restartService: 'restartService',\n      cronConfigure: 'cronConfigure',\n      ymlConfigForm: 'ymlConfigForm',\n    };\n    return {\n      selectedItems: [],\n      refreshToolTipTitle: 'Refresh apps',\n      isRestartingService: false,\n      refreshTime: 5000,\n      singleDownloadRefreshTIme: 1000,\n      appDownloadStates: [],\n      selectedApp: null,\n      dialogNames: dialogNames,\n      isFetchingAppDetails: false,\n      isBulkDownloadAppPersistent: true,\n      isDeletingConfig: false,\n      isDeletingDatabase: false,\n      isUninstallingApp: false,\n      isFetchingDownloadState: false,\n      currentDownloadState: null,\n      fetchDownloadStateInterval: null,\n      isDeletingDownloadState: false,\n      dialog: {\n        [dialogNames.install]: false,\n        [dialogNames.restartService]: false,\n        [dialogNames.upload]: false,\n        [dialogNames.uninstall]: false,\n        [dialogNames.deleteDatabase]: false,\n        [dialogNames.editConfig]: false,\n        [dialogNames.deleteAppConfig]: false,\n        [dialogNames.bulkDownload]: false,\n        [dialogNames.cronConfigure]: false,\n        [dialogNames.ymlConfigForm]: false,\n      },\n      remountDialog: {\n        [dialogNames.bulkDownload]: true,\n      },\n      headers: [\n        {\n          text: 'Label',\n          align: 'start',\n          value: 'display_name',\n        },\n        {\n          text: 'Name',\n          align: 'start',\n          value: 'service',\n        },\n        {\n          text: 'Status',\n          align: 'center',\n          value: 'state',\n        },\n        {\n          text: 'Restart',\n          align: 'center',\n          sortable: false,\n          value: 'restart',\n        },\n        {\n          text: 'Installed Version',\n          align: 'center',\n          value: 'installedVersion',\n          sortable: true,\n        },\n        {\n          text: 'Latest Available Version',\n          align: 'center',\n          value: 'latest_version',\n        },\n        {\n          text: 'Actions',\n          align: 'center',\n          value: 'actions',\n        },\n        {\n          text: 'Config File',\n          align: 'center',\n          value: 'configFile',\n        },\n        {\n          text: 'Database',\n          align: 'end',\n          value: 'databaseOperations',\n        },\n      ],\n      tableProps: { ...DATA_TABLE_PROPS },\n    };\n  },\n  computed: {\n    appDetails() {\n      return this.formatAppDetails(this.$store.state.appDetails);\n    },\n    setting() {\n      return this.$store.state.setting;\n    },\n    showCheckDownloadIcon() {\n      return this.currentDownloadState === DOWNLOAD_COMPLETE;\n    },\n    showDownloadProgressIcon() {\n      return this.currentDownloadState === DOWNLOAD_IN_PROGRESS;\n    },\n  },\n  mounted() {\n    this.fetchDownloadAppState();\n  },\n  created() {\n    this.fetchAppDetails();\n  },\n  destroyed() {\n    clearInterval(this.fetchDownloadStateInterval);\n  },\n  methods: {\n    refreshGrid() {\n      this.fetchAppDetails();\n    },\n    showYmlConfiguration(item) {\n      return item.service == SERVICE_NAMES.RUBIX_FLOW_FRAMEWORK || item.service == SERVICE_NAMES.RUBIX_BROKER;\n    },\n    closeDialog(dialogName, syncAppDetails, config = {}) {\n      this.dialog[dialogName] = false;\n      if (config.unmount && this.remountDialog[dialogName]) {\n        this.remountDialog[dialogName] = false;\n        setTimeout(() => {\n          this.remountDialog[dialogName] = true;\n        }, 500);\n      }\n      syncAppDetails && this.fetchAppDetails(true);\n    },\n    openDialog(dialogName) {\n      this.dialog[dialogName] = true;\n    },\n    toggleDialog(dialogName, item) {\n      if (!this.dialog[dialogName]) {\n        switch (dialogName) {\n          case this.dialogNames.install:\n            if (this.currentDownloadState) {\n              return this.$toasted.show('Please resolve bulk download apps in the top left first.', { type: 'info' });\n            }\n        }\n      }\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    formatAppDetails(appDetails) {\n      return appDetails.map(detail => ({\n        ...detail,\n        activeLabel: detail.status ? 'Running' : 'Stopped',\n        isUninstallable: detail.is_installed,\n        installedVersion: detail.version ? detail.version : '-',\n        downloadUrl: detail.browser_download_url ? detail.browser_download_url : null,\n        updatedAt: detail.date_since ? new Date(detail.date_since).toLocaleDateString() : '-',\n      }));\n    },\n    fetchAppDetails(syncInstalledApp = false) {\n      this.isFetchingAppDetails = true;\n      return appsService\n        .fetchApps()\n        .then(r => {\n          this.$store.commit('changeAppDetails', r);\n          syncInstalledApp && this.fetchAllInstalledApps();\n        })\n        .finally(() => {\n          this.isFetchingAppDetails = false;\n        });\n    },\n    fetchAllInstalledApps() {\n      appsService\n        .fetchAllInstalledApps()\n        .then(r => {\n          this.$store.commit('changeInstalledServices', r);\n        })\n        .catch(e => {});\n    },\n    deleteDatabase() {\n      this.isDeletingDatabase = true;\n      appsService\n        .deleteAppDataService(this.selectedApp.service)\n        .then(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase);\n        })\n        .finally(() => {\n          this.isDeletingDatabase = false;\n        });\n    },\n    uninstall(dialogName) {\n      this.isUninstallingApp = true;\n      appsService\n        .uninstallApp(this.selectedApp.service)\n        .then(() => {\n          this.fetchAppDetails(true);\n          this.closeDialog(this.dialogNames.uninstall, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.uninstall);\n        })\n        .finally(() => {\n          this.isUninstallingApp = false;\n        });\n    },\n    getFileName(serviceName) {\n      const d = new Date();\n      const datestring = `${d.getDate()}-${\n        d.getMonth() + 1\n      }-${d.getFullYear()}T${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`;\n      return `${serviceName}_${datestring}`;\n    },\n    downloadAppData(appDetail) {\n      const serviceName = appDetail.service;\n\n      appsService\n        .downloadAppData(serviceName, this.setting)\n        .then(async blobData => {\n          const zip = new JsZip();\n          await zip.loadAsync(blobData);\n          const blob = await zip.generateAsync({ type: 'blob' });\n          const date = new Date();\n          const filename = this.getFileName(serviceName);\n          const link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          link.setAttribute('download', `${filename}.zip`);\n          link.click();\n          this.$toasted.show(`${appDetail.service} app data is exported.`);\n        })\n        .catch(err => {\n          const reader = new FileReader();\n          reader.addEventListener('loadend', e => {\n            const err = JSON.parse(e.target.result);\n            if (err && err.message) {\n              this.$toasted.show(err.message, { type: 'error' });\n            } else {\n              this.$toasted.show(`Failed to export ${serviceName} app data`, { type: 'error' });\n            }\n          });\n          reader.readAsText(err);\n\n          return err;\n        });\n    },\n    deleteAppConfigFile() {\n      this.isDeletingConfig = true;\n      const serviceName = this.selectedApp.service;\n      const appType = this.selectedApp.app_type;\n\n      appsService\n        .deleteAppConfig(serviceName, appType)\n        .then(data => {\n          this.$toasted.show(`${serviceName} app config file is deleted`);\n          this.closeDialog(this.dialogNames.deleteAppConfig);\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to delete app config for ${serviceName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingConfig = false;\n        });\n    },\n    downloadConfig(appDetail) {\n      appsService.downloadAppConfig(appDetail.service, appDetail.app_type);\n    },\n    restartService() {\n      this.isRestartingService = true;\n      const serviceName = this.selectedApp.service;\n      const isServiceRubixPlat = serviceName === 'RUBIX_PLAT';\n      appsService\n        .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART, serviceName)\n        .then(() => {\n          this.$toasted.show(`App restarted successfully.`);\n          this.closeDialog(this.dialogNames.restartService);\n        })\n        .catch(() => {\n          if (isServiceRubixPlat) {\n            this.$toasted.show(\n              'The application is being self upgraded/restarted. It may be unresponsive for a few seconds in all locations.',\n              { type: 'info' },\n            );\n            this.closeDialog(this.dialogNames.restartService);\n          } else {\n            this.$toasted.show(`Failed to restart the app.`, { type: 'error' });\n          }\n        })\n        .finally(() => {\n          this.isRestartingService = false;\n        });\n    },\n    bulkDownloadApps() {\n      this.openDialog(this.dialogNames.bulkDownload);\n    },\n    clearDownloadAppStateInterval() {\n      clearInterval(this.fetchDownloadStateInterval);\n      this.fetchDownloadStateInterval = null;\n    },\n    downloadStateInterval() {\n      const refreshTime = this.dialog[this.dialogNames.install] ? this.singleDownloadRefreshTIme : this.refreshTime;\n      if (!this.fetchDownloadStateInterval) {\n        this.fetchDownloadStateInterval = setInterval(() => {\n          if (!this.isFetchingDownloadState) {\n            this.fetchDownloadAppState();\n          }\n        }, refreshTime);\n      }\n    },\n    fetchDownloadAppState() {\n      this.isFetchingDownloadState = true;\n      return appsService\n        .fetchDownloadState()\n        .then(data => {\n          this.isFetchingDownloadState = false;\n          const { state: downloadState, services: appDownloadStates } = data;\n          switch (downloadState) {\n            case 'DOWNLOADING':\n              this.currentDownloadState = DOWNLOAD_IN_PROGRESS;\n              this.isBulkDownloadAppPersistent = false;\n              if (!this.fetchDownloadStateInterval) {\n                this.downloadStateInterval();\n              }\n              break;\n            case 'CLEARED':\n              this.currentDownloadState = null;\n              this.clearDownloadAppStateInterval();\n              break;\n            case 'DOWNLOADED':\n              this.currentDownloadState = DOWNLOAD_COMPLETE;\n              this.isBulkDownloadAppPersistent = true;\n              break;\n          }\n\n          if (Array.isArray(appDownloadStates)) {\n            this.appDownloadStates = appDownloadStates;\n          }\n\n          return appDownloadStates;\n        })\n        .catch(err => {\n          this.isFetchingDownloadState = false;\n          if (err && err.message) {\n            this.currentDownloadState = null;\n          }\n          return err;\n        });\n    },\n    clearSelectedApps() {\n      this.appDownloadStates = [];\n      this.selectedItems = [];\n    },\n    deleteDownloadState() {\n      this.isDeletingDownloadState = true;\n      return appsService\n        .deleteDownloadState()\n        .then(data => data)\n        .catch(err => err)\n        .finally(() => {\n          this.fetchDownloadAppState();\n          this.clearDownloadAppStateInterval();\n          this.isDeletingDownloadState = false;\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsGrid.vue?vue&type=template&id=5f98c818&\"\nimport script from \"./AppsGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsGrid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('grid-toolbar',{attrs:{\"hide-export-data\":true,\"items\":_vm.selectedItems,\"toolbarTitle\":\"Rubix Apps\"},scopedSlots:_vm._u([{key:\"customAction\",fn:function(){return [_c('span',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"default\",\"btnIcon\":\"fa-refresh\",\"btnTooltip\":_vm.refreshToolTipTitle,\"buttonSize\":\"medium\",\"onClick\":function () { return _vm.refreshGrid(); }}}),_vm._v(\" \"),_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"disabled\":_vm.isDeletingDownloadState,\"x-small\":\"\",\"color\":\"downloadColor\"},on:{\"click\":function () { return _vm.bulkDownloadApps(_vm.selectedItems); }}},[_vm._v(\"\\n            Download Apps\\n            \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-download \")])],1),_vm._v(\" \"),(_vm.showDownloadProgressIcon)?_c('v-progress-circular',{attrs:{\"width\":2,\"size\":15,\"color\":\"white\",\"indeterminate\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.showCheckDownloadIcon)?_c('v-icon',{attrs:{\"x-medium\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-check\")]):_vm._e()],1)]},proxy:true}])})],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"show-select\":\"\",\"item-key\":\"service\",\"headers\":_vm.headers,\"items\":_vm.appDetails,\"single-select\":false,\"loading\":_vm.isFetchingAppDetails,\"footer-props\":_vm.tableProps.FOOTER_PROPS,\"itemsPerPage\":_vm.tableProps.ITEMS_PER_PAGE},scopedSlots:_vm._u([{key:\"item.state\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('app-status-chip',{attrs:{\"state\":item.state}})]}},{key:\"item.restart\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.isUninstallable)?_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"nubeGreen\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.restartService, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" fa-repeat \")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Restart Service\")])]),_vm._v(\" \"),_c('configure-cron-btn',{attrs:{\"service\":item,\"btnSize\":\"medium\",\"handleClick\":function () { return _vm.toggleDialog(_vm.dialogNames.cronConfigure, item); }}})]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"downloadColor\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.install, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"nubeYellow\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.upload, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-upload \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Upload\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.isUninstallable)?_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.uninstall, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-trash-o \")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete App\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.downloadUrl)?_c('v-btn',_vm._g(_vm._b({attrs:{\"href\":item.downloadUrl,\"target\":\"_blank\",\"tar\":\"\",\"icon\":\"\",\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-file-zip-o\")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download ZIP\")])])],1)]}},{key:\"item.configFile\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"blue\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.editConfig, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-pencil \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Edit Config File\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"downloadColor\"},on:{\"click\":function () { return _vm.downloadConfig(item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download Config File\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteAppConfig, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-trash-o \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete Configuration\")])])]}},{key:\"item.databaseOperations\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"downloadColor\"},on:{\"click\":function () { return _vm.downloadAppData(item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download Database\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteDatabase, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-trash-o \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete Database\")])])]}}],null,true),model:{value:(_vm.selectedItems),callback:function ($$v) {_vm.selectedItems=$$v},expression:\"selectedItems\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.uninstall],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.uninstall); },\"on-confirm\":function () { return _vm.uninstall(_vm.dialogNames.uninstall); },\"loading\":_vm.isUninstallingApp,\"dialog-text\":\"Do you want to uninstall the app?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.restartService],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.restartService); },\"on-confirm\":function () { return _vm.restartService(); },\"loading\":_vm.isRestartingService,\"dialog-text\":\"Are you sure want to restart the app?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteDatabase],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteDatabase); },\"on-confirm\":function () { return _vm.deleteDatabase(_vm.dialogNames.deleteDatabase); },\"loading\":_vm.isDeletingDatabase,\"dialog-text\":\"Do you want to delete the app's database?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteAppConfig],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteAppConfig); },\"on-confirm\":function () { return _vm.deleteAppConfigFile(); },\"loading\":_vm.isDeletingConfig,\"dialog-text\":\"Do you want to delete the app's config file?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.upload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.upload, $$v)},expression:\"dialog[dialogNames.upload]\"}},[(_vm.dialog[_vm.dialogNames.upload])?_c('apps-upload-multi-step-view',{attrs:{\"app-details\":_vm.selectedApp,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.upload, syncAppDetails); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.editConfig]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.editConfig, $$v)},expression:\"dialog[dialogNames.editConfig]\"}},[(_vm.dialog[_vm.dialogNames.editConfig])?_c('apps-edit-config',{attrs:{\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.editConfig, syncAppDetails); },\"app-detail\":_vm.selectedApp}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.install]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.install, $$v)},expression:\"dialog[dialogNames.install]\"}},[(_vm.dialog[_vm.dialogNames.install])?_c('apps-download-multi-step-view',{attrs:{\"delete-download-state\":_vm.deleteDownloadState,\"current-download-state\":_vm.currentDownloadState,\"fetch-download-app-state\":_vm.fetchDownloadAppState,\"clear-download-app-state-interval\":_vm.clearDownloadAppStateInterval,\"app-details\":_vm.selectedApp,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.install, syncAppDetails); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":_vm.isBulkDownloadAppPersistent,\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.bulkDownload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.bulkDownload, $$v)},expression:\"dialog[dialogNames.bulkDownload]\"}},[(_vm.remountDialog[_vm.dialogNames.bulkDownload])?_c('apps-bulk-download-multi-step-view',{attrs:{\"current-download-state\":_vm.currentDownloadState,\"selected-apps\":_vm.selectedItems,\"fetch-download-app-state\":_vm.fetchDownloadAppState,\"app-download-states\":_vm.appDownloadStates,\"clear-selected-apps\":_vm.clearSelectedApps,\"delete-download-state\":_vm.deleteDownloadState,\"clear-download-app-state-interval\":_vm.clearDownloadAppStateInterval,\"close-dialog\":function (syncAppDetails, config) { return _vm.closeDialog(_vm.dialogNames.bulkDownload, syncAppDetails, config); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.cronConfigure]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.cronConfigure, $$v)},expression:\"dialog[dialogNames.cronConfigure]\"}},[(_vm.dialog[_vm.dialogNames.cronConfigure])?_c('configure-cron-view',{attrs:{\"service\":_vm.selectedApp,\"open\":_vm.dialog[_vm.dialogNames.cronConfigure],\"on-cancel\":function () { return _vm.closeDialog(_vm.dialogNames.cronConfigure); }}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppGrid.vue?vue&type=script&lang=js&\"","<template>\n  <v-card outlined class=\"slave-apps-grid\">\n    <v-card-text class=\"pa-0\">\n      <v-toolbar dense flat>\n        <v-toolbar-title>\n          <span>{{ title }}</span>\n        </v-toolbar-title>\n        <v-text-field\n          class=\"pl-10\"\n          v-model=\"searchText\"\n          @input=\"onSearchChange\"\n          append-icon=\"fa-search\"\n          label=\"Search using site or device name\"\n          single-line\n          hide-details\n        ></v-text-field>\n        <v-spacer></v-spacer>\n        <span v-if=\"latestVersion\">\n          <span class=\"grey-text font-weight-medium caption pr-2\">Latest Version</span>\n          {{ latestVersion }}\n        </span>\n        <tooltip-icon-button\n          btnColor=\"blue darken-2\"\n          btnIcon=\"fa-play-circle-o\"\n          buttonSize=\"medium\"\n          btnTooltip=\"Start Service\"\n          :disabled=\"selectedGridItems.length == 0\"\n          :onClick=\"() => controlSlaveApp(selectedGridItems, controlActions.START)\"\n        ></tooltip-icon-button>\n        <tooltip-icon-button\n          btnColor=\"nubeGreen\"\n          btnIcon=\"fa-repeat\"\n          buttonSize=\"medium\"\n          btnTooltip=\"Restart Service\"\n          :disabled=\"selectedGridItems.length == 0\"\n          :onClick=\"() => toggleDialog(dialogNames.restartService, selectedGridItems)\"\n        ></tooltip-icon-button>\n        <tooltip-icon-button\n          btnIcon=\"fa-stop-circle-o\"\n          btnTooltip=\"Stop Service\"\n          buttonSize=\"medium\"\n          :disabled=\"selectedGridItems.length == 0\"\n          :onClick=\"() => controlSlaveApp(selectedGridItems, controlActions.STOP)\"\n        ></tooltip-icon-button>\n        <tooltip-icon-button\n          btnColor=\"teal darken-2\"\n          btnIcon=\"fa-check-circle-o\"\n          btnTooltip=\"Enable Service\"\n          buttonSize=\"medium\"\n          :disabled=\"selectedGridItems.length == 0\"\n          :onClick=\"() => controlSlaveApp(selectedGridItems, controlActions.ENABLE)\"\n        ></tooltip-icon-button>\n        <tooltip-icon-button\n          btnColor=\"orange darken-2\"\n          btnIcon=\"fa-times-circle\"\n          btnTooltip=\"Disable Service\"\n          buttonSize=\"medium\"\n          :disabled=\"selectedGridItems.length == 0\"\n          :onClick=\"() => controlSlaveApp(selectedGridItems, controlActions.DISABLE)\"\n        ></tooltip-icon-button>\n\n        <tooltip-icon-button\n          btnColor=\"yellow darken-2\"\n          btnIcon=\"fa-file-code-o\"\n          btnTooltip=\"Edit Configuration\"\n          buttonSize=\"medium\"\n          :disabled=\"selectedGridItems.length == 0\"\n          :onClick=\"() => toggleDialog(dialogNames.editConfig, selectedGridItems)\"\n        ></tooltip-icon-button>\n\n        <v-menu bottom left>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn icon :disabled=\"selectedGridItems.length == 0\" v-bind=\"attrs\" v-on=\"on\">\n              <v-icon>fa-ellipsis-v</v-icon>\n            </v-btn>\n          </template>\n          <v-list class=\"text-left\">\n            <v-list-item link @click=\"() => toolbarDialogActions(dialogNames.uninstall, selectedGridItems)\">\n              <v-list-item-title>Uninstall App</v-list-item-title>\n            </v-list-item>\n            <v-list-item link @click=\"() => toolbarDialogActions(dialogNames.editConfig, selectedGridItems)\">\n              <v-list-item-title>Edit Config File</v-list-item-title>\n            </v-list-item>\n            <v-list-item link @click=\"() => toolbarDialogActions(dialogNames.deleteAppConfig, selectedGridItems)\">\n              <v-list-item-title>Delete Configuration</v-list-item-title>\n            </v-list-item>\n            <v-list-item link @click=\"() => toolbarDialogActions(dialogNames.deleteDatabase, selectedGridItems)\">\n              <v-list-item-title>Delete Database</v-list-item-title>\n            </v-list-item>\n          </v-list>\n        </v-menu>\n      </v-toolbar>\n      <div class=\"virtual-scroll-table\" v-bind:style=\"{ height: tableHeight }\" v-scroll.self=\"e => onScroll(e, name)\">\n        <v-data-table\n          dense\n          :fixed-header=\"true\"\n          hide-default-footer\n          :items=\"virtualDataItems\"\n          :expanded.sync=\"expanded\"\n          :custom-sort=\"handleCustomSort\"\n          single-expand\n          disable-pagination\n          item-key=\"slaveId\"\n          :headers=\"headers\"\n          show-expand\n        >\n          <template v-slot:[`header.checkbox`]=\"checkboxProps\">\n            <v-simple-checkbox\n              :value=\"isSelectAll\"\n              @input=\"val => handleSelectAll(val, checkboxProps)\"\n              small\n            ></v-simple-checkbox>\n          </template>\n          <template v-slot:[`item.checkbox`]=\"{ item }\">\n            <v-simple-checkbox\n              v-model=\"item.isSelected\"\n              @input=\"val => handleCheckboxChange(val, item)\"\n              small\n            ></v-simple-checkbox>\n          </template>\n          <template v-slot:[`item.slave_site_name`]=\"{ item }\">\n            <span>\n              <master-star-indicator :is-master=\"item.slave_is_master\"></master-star-indicator>\n              <span>{{ item.slave_site_name }}</span>\n            </span>\n          </template>\n          <template v-if=\"start > 0\" v-slot:[`body.prepend`]>\n            <tr>\n              <td :colspan=\"headers.length\" :style=\"'padding-top:' + startHeight + 'px'\"></td>\n            </tr>\n          </template>\n          <template v-if=\"start + perPage < this.dataItems.length\" v-slot:[`body.append`]>\n            <tr>\n              <td :colspan=\"headers.length\" :style=\"'padding-top:' + endHeight + 'px'\"></td>\n            </tr>\n          </template>\n          <template v-slot:[`item.state`]=\"{ item }\">\n            <app-status-chip chip-size=\"small\" :state=\"item.state\"></app-status-chip>\n          </template>\n          <template v-slot:[`item.is_enabled`]=\"{ item }\">\n            <span class=\"font-weight-medium\">\n              <v-chip v-if=\"item.is_enabled\" small dark color=\"nubeGreen\">Enabled</v-chip>\n              <v-chip v-if=\"!item.is_enabled\" small dark color=\"darken-1 brown\">Disabled</v-chip>\n            </span>\n          </template>\n          <template v-slot:expanded-item=\"{ headers, item }\">\n            <td\n              :colspan=\"headers.length\"\n              :class=\"`expanded-table-row py-2 ${$vuetify.theme.dark ? 'nubeDarkGrey' : 'nubeLightBackground'}`\"\n            >\n              <div class=\"flex pl-15\">\n                <span class=\"table-expanded-item\">\n                  <span class=\"grey-text font-weight-medium caption\">Timezone</span>\n                  <span class=\"text-ellipses\">{{ item.slave_time_zone }}</span>\n                </span>\n                <span class=\"table-expanded-item\">\n                  <span class=\"grey-text font-weight-medium caption\">State</span>\n                  <span class=\"font-weight-medium text-ellipses\">{{ item.slave_site_state }}</span>\n                </span>\n                <span class=\"table-expanded-item\">\n                  <span class=\"grey-text font-weight-medium caption\">City</span>\n                  <span class=\"font-weight-medium text-ellipses\">{{ item.slave_site_city }}</span>\n                </span>\n                <span class=\"table-expanded-item\">\n                  <span class=\"grey-text font-weight-medium caption\">Zip</span>\n                  <span class=\"font-weight-medium text-ellipses\">{{ item.slave_site_zip }}</span>\n                </span>\n              </div>\n              <div class=\"flex pl-15 pt-3 text-left\">\n                <div class=\"table-expanded-item\">\n                  <span class=\"grey-text font-weight-medium caption\">App Features</span>\n                  <p>\n                    <tooltip-icon-button\n                      btnColor=\"nubeYellow\"\n                      btnIcon=\"fa-upload\"\n                      btnTooltip=\"Upload App\"\n                      :onClick=\"() => toggleDialog(dialogNames.upload, item)\"\n                    ></tooltip-icon-button>\n\n                    <tooltip-icon-button\n                      btnColor=\"error\"\n                      v-if=\"item.is_installed\"\n                      btnIcon=\"fa-trash-o\"\n                      btnTooltip=\"Uninstall App\"\n                      :onClick=\"() => toggleDialog(dialogNames.uninstall, item)\"\n                    ></tooltip-icon-button>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                          :href=\"item.browser_download_url\"\n                          target=\"_blank\"\n                          tar\n                          v-if=\"item.browser_download_url\"\n                          icon\n                          small\n                        >\n                          <v-icon small dark> fa-file-zip-o</v-icon>\n                        </v-btn>\n                      </template>\n                      <span>Download ZIP</span>\n                    </v-tooltip>\n                  </p>\n                </div>\n                <div class=\"table-expanded-item\">\n                  <span class=\"grey-text font-weight-medium caption\">Config File</span>\n                  <p>\n                    <tooltip-icon-button\n                      btnColor=\"blue\"\n                      btnIcon=\"fa-pencil\"\n                      btnTooltip=\"Edit Config File\"\n                      :onClick=\"() => toggleDialog(dialogNames.editConfig, item)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp' || item.app_type == 'AptApp'\"\n                      btnColor=\"downloadColor\"\n                      btnIcon=\"fa-download\"\n                      btnTooltip=\"Download Config File\"\n                      :onClick=\"() => downloadConfig(item)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      btnColor=\"error\"\n                      btnIcon=\"fa-trash-o\"\n                      btnTooltip=\"Delete Configuration\"\n                      :onClick=\"() => toggleDialog(dialogNames.deleteAppConfig, item)\"\n                    ></tooltip-icon-button>\n                  </p>\n                </div>\n                <div class=\"table-expanded-item\">\n                  <span class=\"grey-text font-weight-medium caption\">Database</span>\n                  <p>\n                    <tooltip-icon-button\n                      btnColor=\"downloadColor\"\n                      btnIcon=\"fa-download\"\n                      btnTooltip=\"Download Database\"\n                      :onClick=\"() => onDownloadDatabase(item)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      btnIcon=\"fa-trash-o\"\n                      btnColor=\"error\"\n                      btnTooltip=\"Delete Database\"\n                      :onClick=\"() => toggleDialog(dialogNames.deleteDatabase, item)\"\n                    ></tooltip-icon-button>\n                  </p>\n                </div>\n                <div class=\"table-expanded-item\">\n                  <span v-if=\"item.is_installed\" class=\"grey-text text-left font-weight-medium caption\">Actions</span>\n                  <p v-if=\"item.is_installed\">\n                    <tooltip-icon-button\n                      btnColor=\"blue darken-2\"\n                      btnIcon=\"fa-play-circle-o\"\n                      btnTooltip=\"Start Service\"\n                      :onClick=\"() => controlSlaveApp(item, controlActions.START)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      btnColor=\"nubeGreen\"\n                      btnIcon=\"fa-repeat\"\n                      btnTooltip=\"Restart Service\"\n                      :onClick=\"() => toggleDialog(dialogNames.restartService, item)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      btnIcon=\"fa-stop-circle-o\"\n                      btnTooltip=\"Stop Service\"\n                      :onClick=\"() => controlSlaveApp(item, controlActions.STOP)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      btnColor=\"teal darken-2\"\n                      btnIcon=\"fa-check-circle-o\"\n                      btnTooltip=\"Enable Service\"\n                      :onClick=\"() => controlSlaveApp(item, controlActions.ENABLE)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      btnColor=\"orange darken-2\"\n                      btnIcon=\"fa-times-circle\"\n                      btnTooltip=\"Disable Service\"\n                      :onClick=\"() => controlSlaveApp(item, controlActions.DISABLE)\"\n                    ></tooltip-icon-button>\n                    <tooltip-icon-button\n                      btnColor=\"yellow darken-2\"\n                      btnIcon=\"fa-file-code-o\"\n                      btnTooltip=\"Update Config\"\n                      :onClick=\"() => toggleDialog(dialogNames.configForm, item)\"\n                    ></tooltip-icon-button>\n                    <configure-cron-btn\n                      :service=\"item\"\n                      :handleClick=\"() => toggleDialog(dialogNames.cronConfigure, item)\"\n                    ></configure-cron-btn>\n                  </p>\n                </div>\n              </div>\n            </td>\n          </template>\n        </v-data-table>\n      </div>\n    </v-card-text>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteDatabase]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteDatabase)\"\n      :on-confirm=\"() => onDeleteDatabase()\"\n      :loading=\"isDeletingDatabase\"\n      dialog-text=\"Do you want to delete the app's database?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.restartService]\"\n      :on-close=\"() => closeDialog(dialogNames.restartService)\"\n      :on-confirm=\"() => restartService()\"\n      :loading=\"isRestartingService\"\n      dialog-text=\"Are you sure to restart the app?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteAppConfig]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteAppConfig)\"\n      :on-confirm=\"() => deleteAppConfigFile()\"\n      :loading=\"isDeletingConfig\"\n      dialog-text=\"Do you want to delete the app's config file?\"\n    ></confirm-dialog>\n\n    <v-dialog presistent v-model=\"dialog[dialogNames.editConfig]\" max-width=\"500px\">\n      <apps-edit-config\n        v-if=\"dialog[dialogNames.editConfig]\"\n        :is-slave-app=\"true\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.editConfig, syncAppDetails)\"\n        :app-detail=\"selectedApp\"\n      ></apps-edit-config>\n    </v-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.uninstall]\"\n      :on-close=\"() => closeDialog(dialogNames.uninstall)\"\n      :on-confirm=\"() => uninstall(dialogNames.uninstall)\"\n      :loading=\"isUninstallingApp\"\n      dialog-text=\"Do you want to uninstall the app?\"\n    ></confirm-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.upload]\" max-width=\"500px\">\n      <apps-upload-multi-step-view\n        v-if=\"dialog[dialogNames.upload]\"\n        :app-details=\"selectedApp\"\n        :is-slave-app=\"true\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.upload, syncAppDetails)\"\n      ></apps-upload-multi-step-view>\n    </v-dialog>\n\n    <v-dialog presistent v-model=\"dialog[dialogNames.cronConfigure]\" max-width=\"500px\">\n      <configure-cron-view\n        :service=\"selectedApp\"\n        v-if=\"dialog[dialogNames.cronConfigure]\"\n        :open=\"dialog[dialogNames.cronConfigure]\"\n        :on-cancel=\"() => closeDialog(dialogNames.cronConfigure)\"\n      ></configure-cron-view>\n    </v-dialog>\n    <config-form\n      :plugin-name=\"serviceName\"\n      :fetchConfig=\"fetchYmlConfig\"\n      :updateConfig=\"updateYmlConfig\"\n      v-if=\"selectedApp && selectedApp.slaveId\"\n      :is-open=\"dialog[dialogNames.configForm]\"\n      :app-type=\"selectedApp && selectedApp.app_type\"\n      :on-close=\"() => closeDialog(dialogNames.configForm)\"\n    />\n  </v-card>\n</template>\n<script>\nimport JsZip from 'jszip';\nimport GridToolbar from '../Common/GridToolbar';\nimport ConfirmDialog from '../Common/ConfirmDialog';\nimport ConfigForm from '../Plugins/ConfigForm.vue';\nimport AppStatusChip from '../Services/AppStatusChip';\nimport TooltipIconButton from './TooltipIconButton.vue';\nimport AppsEditConfig from '../RubixApps/appsEditConfig.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport MasterStarIndicator from '../Common/MasterStarIndicator.vue';\nimport AppsUploadMultiStepView from '../RubixApps/AppsUploadMultiStepView';\nimport { RUBIX_APP_STATUS_CONTROL_ACTIONS, SERVICE_NAMES } from '../../constants/appConstant';\nimport ConfigureCronBtn from '../Common/ConfigureCronBtn.vue';\nimport ConfigureCronView from '../RubixApps/ConfigureCronView';\n\nconst MAX_VISIBLE_GRID_ITEMS = 10;\nexport default {\n  name: 'slave-app-grid',\n  props: [\n    'slaveApps',\n    'search',\n    'updateSearch',\n    'selectedItems',\n    'latestVersion',\n    'slaveDevices',\n    'onSelectItem',\n    'filters',\n    'name',\n    'slaveAppsDataItems',\n  ],\n  components: {\n    ConfigForm,\n    AppStatusChip,\n    ConfigureCronBtn,\n    ConfigureCronView,\n    GridToolbar,\n    TextFieldDisplay,\n    TooltipIconButton,\n    ConfirmDialog,\n    AppsEditConfig,\n    MasterStarIndicator,\n    AppsUploadMultiStepView,\n  },\n  data() {\n    const dialogNames = {\n      upload: 'upload',\n      uninstall: 'uninstall',\n      editConfig: 'editConfig',\n      cronConfigure: 'cronConfigure',\n      deleteDatabase: 'deleteDatabase',\n      restartService: 'restartService',\n      deleteAppConfig: 'deleteAppConfig',\n      configForm: 'configForm',\n    };\n    return {\n      expanded: [],\n      searchText: '',\n      searchItems: [],\n      isDeletingConfig: false,\n      isRestartingService: false,\n      isUninstallingApp: false,\n      isDeletingDatabase: false,\n      controlActions: { ...RUBIX_APP_STATUS_CONTROL_ACTIONS },\n      dialog: {\n        [dialogNames.configForm]: false,\n        [dialogNames.deleteDatabase]: false,\n        [dialogNames.restartService]: false,\n        [dialogNames.upload]: false,\n        [dialogNames.editConfig]: false,\n        [dialogNames.deleteAppConfig]: false,\n        [dialogNames.uninstall]: false,\n        [dialogNames.cronConfigure]: false,\n      },\n      dialogNames,\n      selectedGridItems: [],\n      selectedApp: {},\n      start: 0,\n      timeout: null,\n      rowHeight: 33,\n      perPage: 25,\n      headers: [\n        {\n          text: '',\n          align: 'left',\n          value: 'checkbox',\n          sortable: false,\n        },\n        {\n          text: 'SN',\n          alignt: 'center',\n          value: 'sn',\n          sortable: true,\n        },\n        {\n          text: 'Site Name',\n          align: 'left',\n          value: 'slave_site_name',\n          sortable: true,\n        },\n        {\n          text: 'Device Name',\n          align: 'left',\n          value: 'slave_device_name',\n          sortable: true,\n        },\n        {\n          text: 'Status',\n          align: 'right',\n          value: 'state',\n          sortable: true,\n        },\n        {\n          text: 'Installed Version',\n          align: 'center',\n          sortable: true,\n          value: 'version',\n        },\n        {\n          text: 'Active Since',\n          align: 'center',\n          sortable: true,\n          value: 'time_since',\n        },\n        {\n          text: 'State',\n          align: 'center',\n          value: 'is_enabled',\n        },\n        { text: '', value: 'data-table-expand' },\n      ],\n      dataItems: [],\n    };\n  },\n  mounted() {\n    this.dataItems = this.initializeDataItems();\n    this.searchText = this.search;\n    this.searchCriteria = this.initSearchCriteria();\n  },\n  watch: {\n    'filters.isInstalled': function (newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.dataItems = this.initializeDataItems();\n        this.clearSelectedItems();\n      }\n    },\n  },\n  computed: {\n    setting() {\n      return this.$store.state.setting;\n    },\n    title() {\n      return this.slaveApps.display_name;\n    },\n    serviceName() {\n      return this.slaveApps.name;\n    },\n    virtualDataItems() {\n      return this.dataItems.slice(this.start, this.perPage + this.start);\n    },\n    tableHeight() {\n      return this.dataItems && this.dataItems.length > this.perPage ? '62vh' : undefined;\n    },\n    startHeight() {\n      return this.start * this.rowHeight - 33;\n    },\n    endHeight() {\n      return this.rowHeight * (this.dataItems.length - this.start);\n    },\n    isFixedHeader() {\n      return this.dataItems.length > MAX_VISIBLE_GRID_ITEMS;\n    },\n    isSelectAll() {\n      return this.selectedGridItems.length == this.dataItems.length;\n    },\n    isYmlConfigVisible() {\n      return this.serviceName === SERVICE_NAMES.RUBIX_FLOW_FRAMEWORK || this.serviceName === SERVICE_NAMES.RUBIX_BROKER;\n    },\n  },\n  methods: {\n    onSearchChange() {\n      this.updateSearch(this.searchText);\n      this.searchItems = this.searchText.split(',').map(val => val.trim());\n      if (!this.searchText) {\n        this.dataItems = this.initializeDataItems();\n        this.selectedGridItems = [];\n        this.handleOnGridItemSelect();\n      }\n    },\n    initializeDataItems() {\n      return this.slaveAppsDataItems\n        .filter(val => !(this.filters.isInstalled && !val.is_installed))\n        .map((data, index) => this.appendSlaveDevice(data, index));\n    },\n    initSearchCriteria() {\n      const searchKeys = ['slave_site_name', 'slave_device_name', 'version', 'state'];\n      return (object, searchItems) => {\n        let searchDecision = false;\n        if (!this.search) {\n          return true;\n        }\n        for (let key of searchKeys) {\n          // searchDecision = searchDecision || object[key].toUpperCase().includes(this.search.toUpperCase());\n          const value = object[key];\n\n          searchDecision =\n            searchDecision ||\n            (searchItems &&\n              Array.isArray(searchItems) &&\n              searchItems.length > 0 &&\n              typeof value === 'string' &&\n              searchItems.every(val => typeof val === 'string') &&\n              searchItems.some(searchVal => value.toString().toLowerCase().indexOf(searchVal.toLowerCase()) !== -1));\n        }\n        return searchDecision;\n      };\n    },\n    handleSelectAll(val, checkboxProps) {\n      this.dataItems = this.dataItems\n        .map(item => ({ ...item, isSelected: val }))\n        .filter(val => !(this.filters.isInstalled && !val.is_installed))\n        .filter(val => this.searchCriteria(val, this.searchItems));\n\n      if (val) {\n        this.selectedGridItems = this.dataItems;\n      } else {\n        this.selectedGridItems = [];\n      }\n      this.handleOnGridItemSelect();\n    },\n    toolbarDialogActions(dialogName, dialogItems) {\n      if (dialogItems.length === 0) {\n        return;\n      }\n      this.toggleDialog(dialogName, dialogItems);\n    },\n    handleOnGridItemSelect() {\n      this.onSelectItem(this.serviceName, this.selectedGridItems);\n    },\n    onScroll(e, name) {\n      if (name == this.name) {\n        // debounce if scrolling fast\n        this.timeout && clearTimeout(this.timeout);\n\n        this.timeout = setTimeout(() => {\n          const { scrollTop } = e.target;\n          const rows = Math.ceil(scrollTop / this.rowHeight);\n\n          this.start = rows + this.perPage > this.dataItems.length ? this.dataItems.length - this.perPage : rows;\n          this.$nextTick(() => {\n            e.target.scrollTop = scrollTop;\n          });\n        }, 20);\n      }\n    },\n    appendSlaveDevice(data, index) {\n      let newData = { ...data };\n      const slaveDevice = this.slaveDevices[data.slaveId];\n      if (slaveDevice) {\n        newData = {\n          sn: index + 1,\n          isExpanded: false,\n          isSelected: false,\n          ...newData,\n          time_since: newData.time_since ? newData.time_since : '-',\n          ...Object.keys(slaveDevice).reduce((acc, curr) => {\n            const key = 'slave_' + curr;\n            if (key === 'slave_site_name' && slaveDevice.is_master) {\n              acc[key] = `   ${slaveDevice[curr]}`; // Three spaces to identify as master device\n              return acc;\n            }\n            acc[key] = slaveDevice[curr];\n            return acc;\n          }, {}),\n        };\n      }\n      return newData;\n    },\n    handleCheckboxChange(val, item) {\n      if (!item) {\n        return;\n      }\n\n      const isItemSelected = this.selectedGridItems.find(gridItem => gridItem.slaveId === item.slaveId);\n\n      if (!isItemSelected && val) {\n        this.selectedGridItems.push(item);\n      }\n\n      if (isItemSelected && !val) {\n        this.selectedGridItems = this.selectedGridItems.filter(gridItem => gridItem.slaveId !== item.slaveId);\n      }\n      this.handleOnGridItemSelect();\n    },\n    toggleItemExpansion(item) {\n      item.isExpanded = !item.isExpanded;\n    },\n    toggleItemSelection(item) {\n      item.isSelected = !item.isSelected;\n    },\n    closeDialog(dialogName, syncAppDetails) {\n      this.dialog[dialogName] = false;\n      this.selectedApp = {};\n      this.selectedGridItems = [];\n      syncAppDetails && typeof this.fetchAppDetails === 'function' && this.fetchAppDetails(true);\n    },\n    toggleDialog(dialogName, item) {\n      this.dialog[dialogName] = !this.dialog[dialogName];\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    onDeleteDatabase() {\n      let slaveApps = [];\n\n      if (Array.isArray(this.selectedApp) && this.selectedApp.length == 0) return;\n\n      if (!Array.isArray(this.selectedApp) && this.selectedApp) {\n        slaveApps.push(this.selectedApp);\n      } else {\n        slaveApps = this.selectedApp;\n      }\n\n      this.isDeletingDatabase = true;\n      return Promise.all(slaveApps.map(slaveApp => slaveAppsService.deleteAppData(slaveApp.service, slaveApp.slaveId)))\n        .then(() => {\n          this.$toasted.show(`Successfully deleted app data`);\n          this.closeDialog(this.dialogNames.deleteDatabase, true);\n          this.clearSelectedItems();\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase);\n        })\n        .finally(() => {\n          this.isDeletingDatabase = false;\n        });\n    },\n    downloadConfig(appDetail) {\n      const serviceName = appDetail.service;\n      const appType = appDetail.app_type;\n      const slaveId = appDetail.slaveId;\n      const slaveClientName = appDetail.slave_device_name;\n      slaveAppsService.downloadAppConfig(serviceName, slaveId, slaveClientName, appType);\n    },\n    deleteAppConfigFile() {\n      let slaveApps = [];\n\n      if (Array.isArray(this.selectedApp) && this.selectedApp.length == 0) return;\n\n      if (!Array.isArray(this.selectedApp) && this.selectedApp) {\n        slaveApps.push(this.selectedApp);\n      } else {\n        slaveApps = this.selectedApp;\n      }\n\n      this.isDeletingConfig = true;\n\n      Promise.all(\n        slaveApps.map(slaveApp =>\n          slaveAppsService.deleteAppConfig(slaveApp.slaveId, slaveApp.service, slaveApp.app_type),\n        ),\n      )\n        .then(data => {\n          this.$toasted.show(`App config file is deleted`);\n          this.closeDialog(this.dialogNames.deleteAppConfig);\n          this.clearSelectedItems();\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to delete app config`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingConfig = false;\n        });\n    },\n    onDownloadDatabase(item) {\n      const serviceName = item.service;\n      const slaveId = item.slaveId;\n      slaveAppsService\n        .downloadAppData(serviceName, slaveId, this.setting)\n        .then(async blobData => {\n          const zip = new JsZip();\n          await zip.loadAsync(blobData);\n          const blob = await zip.generateAsync({ type: 'blob' });\n          const date = new Date();\n          const filename = this.getFileName(serviceName);\n          const link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          link.setAttribute('download', `${filename}.zip`);\n          link.click();\n          this.$toasted.show(`${serviceName} app data is exported.`);\n        })\n        .catch(err => {\n          const reader = new FileReader();\n          reader.addEventListener('loadend', e => {\n            const err = JSON.parse(e.target.result);\n            if (err && err.message) {\n              this.$toasted.show(err.message, { type: 'error' });\n            } else {\n              this.$toasted.show(`Failed to export ${serviceName} app data`, { type: 'error' });\n            }\n          });\n          reader.readAsText(err);\n\n          return err;\n        });\n    },\n    uninstall() {\n      let slaveApps = [];\n\n      if (Array.isArray(this.selectedApp) && this.selectedApp.length == 0) return;\n\n      if (!Array.isArray(this.selectedApp) && this.selectedApp) {\n        slaveApps.push(this.selectedApp);\n      } else {\n        slaveApps = this.selectedApp;\n      }\n\n      this.isUninstallingApp = true;\n\n      return Promise.all(slaveApps.map(slaveApp => slaveAppsService.uninstallApp(slaveApp.slaveId, slaveApp.service)))\n        .then(() => {\n          this.$toasted.show('Successfully unistalled app');\n          this.closeDialog(this.dialogNames.uninstall, true);\n          this.clearSelectedItems();\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.uninstall);\n        })\n        .finally(() => {\n          this.isUninstallingApp = false;\n        });\n    },\n    restartService() {\n      let slaveApps = [];\n\n      if (Array.isArray(this.selectedApp) && this.selectedApp.length == 0) return;\n\n      if (!Array.isArray(this.selectedApp) && this.selectedApp) {\n        slaveApps.push(this.selectedApp);\n      } else {\n        slaveApps = this.selectedApp;\n      }\n      this.isRestartingService = true;\n      Promise.all(\n        slaveApps.map(slaveApp =>\n          slaveAppsService.changeServiceStatus(\n            RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART,\n            slaveApp.service,\n            slaveApp.slaveId,\n          ),\n        ),\n      )\n        .then(() => {\n          this.$toasted.show(`App restarted successfully.`);\n          this.clearSelectedItems();\n        })\n        .catch(() => {\n          this.$toasted.show(`Failed to restart the app.`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isRestartingService = false;\n        });\n    },\n\n    controlSlaveApp(selectedApp, action) {\n      let slaveApps = [];\n\n      if (Array.isArray(selectedApp) && selectedApp.length == 0) return;\n\n      if (!Array.isArray(selectedApp) && selectedApp) {\n        slaveApps.push(selectedApp);\n      } else {\n        slaveApps = selectedApp;\n      }\n\n      return Promise.all(\n        slaveApps.map(app => slaveAppsService.changeServiceStatus(action, app.service, app.slaveId).catch(err => {})),\n      ).then(() => {\n        if (Array.isArray(selectedApp)) {\n          this.clearSelectedItems();\n        }\n        this.$toasted.show(`Successfully performed ${action} to selected app.`);\n      });\n    },\n    handleCustomSort(items, sortByItems, sortDescItems) {\n      // ignore virtualized items and sort in the real items and set the virtualized items again\n      let dataItems = this.dataItems.filter(val => !(this.filters.isInstalled && !val.is_installed));\n      if (typeof this.searchCriteria === 'function') {\n        dataItems = dataItems\n          .filter(val => this.searchCriteria(val, this.searchItems))\n          .filter(val => !(this.filters.isInstalled && !val.is_installed));\n      }\n\n      const sortBy = (Array.isArray(sortByItems) && sortByItems.length > 0 && sortByItems[0]) || null;\n      const sortDesc = Array.isArray(sortDescItems) && sortDescItems.length > 0 && sortDescItems[0];\n      if (sortBy) {\n        dataItems = dataItems.sort((a, b) => compare(a, b, sortBy, sortDesc));\n      }\n      dataItems = dataItems.slice(this.start, this.perPage + this.start);\n      return dataItems;\n\n      function compare(aObj, bObj, key, desc) {\n        let a = aObj[key];\n        let b = bObj[key];\n        if (a && b && a === b) {\n          return 0;\n        }\n        // nulls sort after anything else\n        else if (typeof a !== 'boolean' && (a == null || a == '')) {\n          return 1;\n        } else if (typeof a !== 'boolean' && (b == null || b == '')) {\n          return -1;\n        }\n\n        if (typeof a == 'string' || typeof b == 'string') {\n          if (a == '-') return 1;\n          if (b == '-') return -1;\n          return desc ? (a < b ? -1 : 1) : a < b ? 1 : -1;\n        }\n\n        if (typeof a == 'boolean' || typeof b == 'boolean') {\n          return desc ? (a < b ? -1 : 1) : a < b ? 1 : -1;\n        }\n\n        if (typeof a == 'number' || typeof b == 'number') {\n          return desc ? (a - b ? -1 : 1) : a - b ? 1 : -1;\n        }\n      }\n    },\n    clearSelectedItems() {\n      this.selectedGridItems = [];\n      this.dataItems = this.dataItems\n        .map(item => ({ ...item, isSelected: false }))\n        .filter(val => !(this.filters.isInstalled && !val.is_installed));\n\n      this.handleOnGridItemSelect();\n    },\n    fetchYmlConfig() {\n      const { app_type, slaveId } = this.selectedApp;\n      return slaveAppsService.fetchAppConfig(this.serviceName, app_type, { restrictToast: true, slaveId: slaveId });\n    },\n    updateYmlConfig(serviceName, config) {\n      return slaveAppsService.saveYmlConfig(serviceName, config, this.selectedApp.slaveId);\n    },\n  },\n};\n</script>\n<style>\n.flex {\n  display: flex;\n}\n.caption {\n  color: #999;\n}\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.table-expanded-item {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  text-align: left;\n}\n.expanded-table-row {\n  /* background: #333; */\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.table-expanded-item p {\n  margin-bottom: 0px;\n}\n\n.slave-apps-grid .v-data-table__wrapper {\n  overflow: hidden !important;\n}\n\n.grid-item-container {\n  display: flex;\n  padding-left: 0 !important;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #333;\n  list-style: none;\n}\n.grid-item {\n  flex: 3;\n  color: #fff;\n}\n.flex-1 {\n  flex: 1;\n}\n.flex-2 {\n  flex: 2;\n}\n.flex-3 {\n  flex: 3;\n}\n.flex-half {\n  flex: 0.5;\n}\n.grid-expanded-item-container {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n.expansion-slot {\n  background: #333;\n}\n.grid-expanded-item {\n  flex: 1;\n  color: #fff;\n}\n.grid-header-item:hover {\n  cursor: pointer;\n  color: #fff;\n}\n.grid-expanded-item:hover.sort-grid-item-arrows {\n  color: red;\n}\n\n.sort-grid-item-arrows {\n  color: #111 !important;\n  visibility: hidden;\n}\n.grid-header-item:hover .sort-grid-item-arrows {\n  color: #fff !important;\n  visibility: visible;\n}\n\n.grid-header-container {\n  list-style: none;\n  display: flex;\n  font-size: 12px;\n  font-weight: bold;\n  justify-content: center;\n  align-items: center;\n}\n.virtual-scroll-table {\n  overflow-y: auto;\n}\n\n.virtual-scroll-table::-webkit-scrollbar {\n  width: 10px;\n}\n\n.virtual-scroll-table::-webkit-scrollbar-track {\n  background: #202020;\n  border-left: 1px solid #2c2c2c;\n}\n\n.virtual-scroll-table::-webkit-scrollbar-thumb {\n  background: #3e3e3e;\n  border: solid 2px #202020;\n  border-radius: 6px;\n}\n\n.virtual-scroll-table::-webkit-scrollbar-thumb:hover {\n  background: white;\n}\n</style>\n","import { render, staticRenderFns } from \"./SlaveAppGrid.vue?vue&type=template&id=fd7bfdea&\"\nimport script from \"./SlaveAppGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveAppGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SlaveAppGrid.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"slave-apps-grid\",attrs:{\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"pa-0\"},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',[_c('span',[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('v-text-field',{staticClass:\"pl-10\",attrs:{\"append-icon\":\"fa-search\",\"label\":\"Search using site or device name\",\"single-line\":\"\",\"hide-details\":\"\"},on:{\"input\":_vm.onSearchChange},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),(_vm.latestVersion)?_c('span',[_c('span',{staticClass:\"grey-text font-weight-medium caption pr-2\"},[_vm._v(\"Latest Version\")]),_vm._v(\"\\n        \"+_vm._s(_vm.latestVersion)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"blue darken-2\",\"btnIcon\":\"fa-play-circle-o\",\"buttonSize\":\"medium\",\"btnTooltip\":\"Start Service\",\"disabled\":_vm.selectedGridItems.length == 0,\"onClick\":function () { return _vm.controlSlaveApp(_vm.selectedGridItems, _vm.controlActions.START); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"nubeGreen\",\"btnIcon\":\"fa-repeat\",\"buttonSize\":\"medium\",\"btnTooltip\":\"Restart Service\",\"disabled\":_vm.selectedGridItems.length == 0,\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.restartService, _vm.selectedGridItems); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnIcon\":\"fa-stop-circle-o\",\"btnTooltip\":\"Stop Service\",\"buttonSize\":\"medium\",\"disabled\":_vm.selectedGridItems.length == 0,\"onClick\":function () { return _vm.controlSlaveApp(_vm.selectedGridItems, _vm.controlActions.STOP); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"teal darken-2\",\"btnIcon\":\"fa-check-circle-o\",\"btnTooltip\":\"Enable Service\",\"buttonSize\":\"medium\",\"disabled\":_vm.selectedGridItems.length == 0,\"onClick\":function () { return _vm.controlSlaveApp(_vm.selectedGridItems, _vm.controlActions.ENABLE); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"orange darken-2\",\"btnIcon\":\"fa-times-circle\",\"btnTooltip\":\"Disable Service\",\"buttonSize\":\"medium\",\"disabled\":_vm.selectedGridItems.length == 0,\"onClick\":function () { return _vm.controlSlaveApp(_vm.selectedGridItems, _vm.controlActions.DISABLE); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"yellow darken-2\",\"btnIcon\":\"fa-file-code-o\",\"btnTooltip\":\"Edit Configuration\",\"buttonSize\":\"medium\",\"disabled\":_vm.selectedGridItems.length == 0,\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.editConfig, _vm.selectedGridItems); }}}),_vm._v(\" \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"disabled\":_vm.selectedGridItems.length == 0}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"fa-ellipsis-v\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',{staticClass:\"text-left\"},[_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function () { return _vm.toolbarDialogActions(_vm.dialogNames.uninstall, _vm.selectedGridItems); }}},[_c('v-list-item-title',[_vm._v(\"Uninstall App\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function () { return _vm.toolbarDialogActions(_vm.dialogNames.editConfig, _vm.selectedGridItems); }}},[_c('v-list-item-title',[_vm._v(\"Edit Config File\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function () { return _vm.toolbarDialogActions(_vm.dialogNames.deleteAppConfig, _vm.selectedGridItems); }}},[_c('v-list-item-title',[_vm._v(\"Delete Configuration\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function () { return _vm.toolbarDialogActions(_vm.dialogNames.deleteDatabase, _vm.selectedGridItems); }}},[_c('v-list-item-title',[_vm._v(\"Delete Database\")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"scroll\",rawName:\"v-scroll.self\",value:(function (e) { return _vm.onScroll(e, _vm.name); }),expression:\"e => onScroll(e, name)\",modifiers:{\"self\":true}}],staticClass:\"virtual-scroll-table\",style:({ height: _vm.tableHeight })},[_c('v-data-table',{attrs:{\"dense\":\"\",\"fixed-header\":true,\"hide-default-footer\":\"\",\"items\":_vm.virtualDataItems,\"expanded\":_vm.expanded,\"custom-sort\":_vm.handleCustomSort,\"single-expand\":\"\",\"disable-pagination\":\"\",\"item-key\":\"slaveId\",\"headers\":_vm.headers,\"show-expand\":\"\"},on:{\"update:expanded\":function($event){_vm.expanded=$event}},scopedSlots:_vm._u([{key:\"header.checkbox\",fn:function(checkboxProps){return [_c('v-simple-checkbox',{attrs:{\"value\":_vm.isSelectAll,\"small\":\"\"},on:{\"input\":function (val) { return _vm.handleSelectAll(val, checkboxProps); }}})]}},{key:\"item.checkbox\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-simple-checkbox',{attrs:{\"small\":\"\"},on:{\"input\":function (val) { return _vm.handleCheckboxChange(val, item); }},model:{value:(item.isSelected),callback:function ($$v) {_vm.$set(item, \"isSelected\", $$v)},expression:\"item.isSelected\"}})]}},{key:\"item.slave_site_name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_c('master-star-indicator',{attrs:{\"is-master\":item.slave_is_master}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.slave_site_name))])],1)]}},(_vm.start > 0)?{key:\"body.prepend\",fn:function(){return [_c('tr',[_c('td',{style:('padding-top:' + _vm.startHeight + 'px'),attrs:{\"colspan\":_vm.headers.length}})])]},proxy:true}:null,(_vm.start + _vm.perPage < this.dataItems.length)?{key:\"body.append\",fn:function(){return [_c('tr',[_c('td',{style:('padding-top:' + _vm.endHeight + 'px'),attrs:{\"colspan\":_vm.headers.length}})])]},proxy:true}:null,{key:\"item.state\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('app-status-chip',{attrs:{\"chip-size\":\"small\",\"state\":item.state}})]}},{key:\"item.is_enabled\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"font-weight-medium\"},[(item.is_enabled)?_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\",\"color\":\"nubeGreen\"}},[_vm._v(\"Enabled\")]):_vm._e(),_vm._v(\" \"),(!item.is_enabled)?_c('v-chip',{attrs:{\"small\":\"\",\"dark\":\"\",\"color\":\"darken-1 brown\"}},[_vm._v(\"Disabled\")]):_vm._e()],1)]}},{key:\"expanded-item\",fn:function(ref){\nvar headers = ref.headers;\nvar item = ref.item;\nreturn [_c('td',{class:(\"expanded-table-row py-2 \" + (_vm.$vuetify.theme.dark ? 'nubeDarkGrey' : 'nubeLightBackground')),attrs:{\"colspan\":headers.length}},[_c('div',{staticClass:\"flex pl-15\"},[_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Timezone\")]),_vm._v(\" \"),_c('span',{staticClass:\"text-ellipses\"},[_vm._v(_vm._s(item.slave_time_zone))])]),_vm._v(\" \"),_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"State\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium text-ellipses\"},[_vm._v(_vm._s(item.slave_site_state))])]),_vm._v(\" \"),_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"City\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium text-ellipses\"},[_vm._v(_vm._s(item.slave_site_city))])]),_vm._v(\" \"),_c('span',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Zip\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium text-ellipses\"},[_vm._v(_vm._s(item.slave_site_zip))])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex pl-15 pt-3 text-left\"},[_c('div',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"App Features\")]),_vm._v(\" \"),_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"nubeYellow\",\"btnIcon\":\"fa-upload\",\"btnTooltip\":\"Upload App\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.upload, item); }}}),_vm._v(\" \"),(item.is_installed)?_c('tooltip-icon-button',{attrs:{\"btnColor\":\"error\",\"btnIcon\":\"fa-trash-o\",\"btnTooltip\":\"Uninstall App\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.uninstall, item); }}}):_vm._e(),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(item.browser_download_url)?_c('v-btn',_vm._g(_vm._b({attrs:{\"href\":item.browser_download_url,\"target\":\"_blank\",\"tar\":\"\",\"icon\":\"\",\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" fa-file-zip-o\")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download ZIP\")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Config File\")]),_vm._v(\" \"),_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"blue\",\"btnIcon\":\"fa-pencil\",\"btnTooltip\":\"Edit Config File\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.editConfig, item); }}}),_vm._v(\" \"),(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp' || item.app_type == 'AptApp')?_c('tooltip-icon-button',{attrs:{\"btnColor\":\"downloadColor\",\"btnIcon\":\"fa-download\",\"btnTooltip\":\"Download Config File\",\"onClick\":function () { return _vm.downloadConfig(item); }}}):_vm._e(),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"error\",\"btnIcon\":\"fa-trash-o\",\"btnTooltip\":\"Delete Configuration\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteAppConfig, item); }}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-expanded-item\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Database\")]),_vm._v(\" \"),_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"downloadColor\",\"btnIcon\":\"fa-download\",\"btnTooltip\":\"Download Database\",\"onClick\":function () { return _vm.onDownloadDatabase(item); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnIcon\":\"fa-trash-o\",\"btnColor\":\"error\",\"btnTooltip\":\"Delete Database\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteDatabase, item); }}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-expanded-item\"},[(item.is_installed)?_c('span',{staticClass:\"grey-text text-left font-weight-medium caption\"},[_vm._v(\"Actions\")]):_vm._e(),_vm._v(\" \"),(item.is_installed)?_c('p',[_c('tooltip-icon-button',{attrs:{\"btnColor\":\"blue darken-2\",\"btnIcon\":\"fa-play-circle-o\",\"btnTooltip\":\"Start Service\",\"onClick\":function () { return _vm.controlSlaveApp(item, _vm.controlActions.START); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"nubeGreen\",\"btnIcon\":\"fa-repeat\",\"btnTooltip\":\"Restart Service\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.restartService, item); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnIcon\":\"fa-stop-circle-o\",\"btnTooltip\":\"Stop Service\",\"onClick\":function () { return _vm.controlSlaveApp(item, _vm.controlActions.STOP); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"teal darken-2\",\"btnIcon\":\"fa-check-circle-o\",\"btnTooltip\":\"Enable Service\",\"onClick\":function () { return _vm.controlSlaveApp(item, _vm.controlActions.ENABLE); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"orange darken-2\",\"btnIcon\":\"fa-times-circle\",\"btnTooltip\":\"Disable Service\",\"onClick\":function () { return _vm.controlSlaveApp(item, _vm.controlActions.DISABLE); }}}),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"yellow darken-2\",\"btnIcon\":\"fa-file-code-o\",\"btnTooltip\":\"Update Config\",\"onClick\":function () { return _vm.toggleDialog(_vm.dialogNames.configForm, item); }}}),_vm._v(\" \"),_c('configure-cron-btn',{attrs:{\"service\":item,\"handleClick\":function () { return _vm.toggleDialog(_vm.dialogNames.cronConfigure, item); }}})],1):_vm._e()])])])]}}],null,true)})],1)],1),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteDatabase],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteDatabase); },\"on-confirm\":function () { return _vm.onDeleteDatabase(); },\"loading\":_vm.isDeletingDatabase,\"dialog-text\":\"Do you want to delete the app's database?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.restartService],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.restartService); },\"on-confirm\":function () { return _vm.restartService(); },\"loading\":_vm.isRestartingService,\"dialog-text\":\"Are you sure to restart the app?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteAppConfig],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteAppConfig); },\"on-confirm\":function () { return _vm.deleteAppConfigFile(); },\"loading\":_vm.isDeletingConfig,\"dialog-text\":\"Do you want to delete the app's config file?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.editConfig]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.editConfig, $$v)},expression:\"dialog[dialogNames.editConfig]\"}},[(_vm.dialog[_vm.dialogNames.editConfig])?_c('apps-edit-config',{attrs:{\"is-slave-app\":true,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.editConfig, syncAppDetails); },\"app-detail\":_vm.selectedApp}}):_vm._e()],1),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.uninstall],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.uninstall); },\"on-confirm\":function () { return _vm.uninstall(_vm.dialogNames.uninstall); },\"loading\":_vm.isUninstallingApp,\"dialog-text\":\"Do you want to uninstall the app?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.upload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.upload, $$v)},expression:\"dialog[dialogNames.upload]\"}},[(_vm.dialog[_vm.dialogNames.upload])?_c('apps-upload-multi-step-view',{attrs:{\"app-details\":_vm.selectedApp,\"is-slave-app\":true,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.upload, syncAppDetails); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.cronConfigure]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.cronConfigure, $$v)},expression:\"dialog[dialogNames.cronConfigure]\"}},[(_vm.dialog[_vm.dialogNames.cronConfigure])?_c('configure-cron-view',{attrs:{\"service\":_vm.selectedApp,\"open\":_vm.dialog[_vm.dialogNames.cronConfigure],\"on-cancel\":function () { return _vm.closeDialog(_vm.dialogNames.cronConfigure); }}}):_vm._e()],1),_vm._v(\" \"),(_vm.selectedApp && _vm.selectedApp.slaveId)?_c('config-form',{attrs:{\"plugin-name\":_vm.serviceName,\"fetchConfig\":_vm.fetchYmlConfig,\"updateConfig\":_vm.updateYmlConfig,\"is-open\":_vm.dialog[_vm.dialogNames.configForm],\"app-type\":_vm.selectedApp && _vm.selectedApp.app_type,\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.configForm); }}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium> fa-angle-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\"> Slave Apps | {{ multiStepViewConfig[currentView].title }} </span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\" class=\"pa-0\">\n            <v-alert class=\"mb-0\" v-if=\"!hasSelectedApps\" dense type=\"info\">\n              Please select apps from the grid to bulk download.\n            </v-alert>\n            <div class=\"text-left pb-5\">\n              <v-subheader class=\"mb-n5\">Selected Apps</v-subheader>\n              <v-row dense class=\"pa-1\">\n                <template v-for=\"(app, i) in apps\">\n                  <v-col cols=\"12\" class=\"pl-3 mt-3\" v-if=\"app.isHeader\" :key=\"`selected_apps_header-${i}`\">\n                    <span class=\"caption font-weight-bold\">{{ app.name }}</span>\n                  </v-col>\n                  <v-col cols=\"4\" class=\"pl-5\" :key=\"`selected_apps-${i}`\" v-if=\"app.isListItem\">\n                    <div>\n                      <p class=\"text-ellipses mb-0\">\n                        <tooltip-title\n                          :title=\"`${app.slaveDeviceName} ${app.version ? '(' + app.version + ')' : ''}`\"\n                        ></tooltip-title>\n                      </p>\n                      <p>\n                        <app-status-chip chip-size=\"small\" :state=\"app.state\"></app-status-chip>\n                      </p>\n                    </div>\n                  </v-col>\n                </template>\n              </v-row>\n            </div>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\" class=\"pa-2 pt-5\">\n            <v-form v-model=\"versionForm\" ref=\"versionForm\" lazy-validation>\n              <v-row dense class=\"text-left\">\n                <template v-for=\"(app, i) in apps\">\n                  <v-col :key=\"`version-form-header-${renderReleaseCount}-${i}`\" cols=\"12\" v-if=\"app.isHeader\">\n                    <span class=\"caption font-weight-bold\">{{ app.name }}</span>\n                  </v-col>\n                  <v-col\n                    cols=\"4\"\n                    class=\"pl-5\"\n                    :key=\"`version-form-field-${renderReleaseCount}-${i}`\"\n                    v-if=\"app.isListItem\"\n                  >\n                    <div>\n                      <p class=\"text-ellipses mb-0\">\n                        <tooltip-title\n                          :title=\"`${app.slaveDeviceName} ${app.version ? '(' + app.version + ')' : ''}`\"\n                        ></tooltip-title>\n                      </p>\n                      <p>\n                        <app-status-chip chip-size=\"small\" :state=\"app.state\"></app-status-chip>\n                      </p>\n                    </div>\n                  </v-col>\n                  <v-col :key=\"`version-form-select-${renderReleaseCount}-${i}`\" cols=\"12\" v-if=\"app.isVersionSelect\">\n                    <v-combobox\n                      :items=\"app.versions\"\n                      label=\"Select Release Version\"\n                      class=\"ml-5\"\n                      clearable\n                      v-model=\"app.model\"\n                      item-text=\"name\"\n                      item-value=\"tag_name\"\n                      :rules=\"versionRules\"\n                    >\n                    </v-combobox>\n                  </v-col>\n                </template>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n          <v-stepper-content step=\"3\" class=\"pa-0\">\n            <div>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_IN_PROGRESS'\" dense type=\"info\">\n                Downloading App(s) <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n            <div flat subheader dense class=\"text-left pb-5\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-subheader class=\"pa-2 mb-n4\">App Download Statuses</v-subheader>\n              <v-row dense class=\"text-left\">\n                <template v-for=\"(app, i) in downloadStates\">\n                  <v-col :key=\"`download-statuses-header-${i}`\" v-if=\"app.isHeader\" cols=\"12\" class=\"pl-3 mt-3\">\n                    <span class=\"caption font-weight-bold\">{{ app.name }}</span>\n                    <span class=\"white--text font-weight-bold\">({{ app.version }})</span>\n                  </v-col>\n\n                  <v-col cols=\"4\" class=\"pl-5\" v-if=\"app.isListItem\" :key=\"`download-statuses-${i}`\">\n                    <div>\n                      <p class=\"mb-0 text-ellipses\">\n                        <tooltip-title :title=\"app.slaveDeviceName\"></tooltip-title>\n                      </p>\n                      <div>\n                        <span v-if=\"app.hasError\" class=\"font-weight-medium\">\n                          <v-tooltip bottom>\n                            <template v-slot:activator=\"{ on, attrs }\">\n                              <v-chip v-bind=\"attrs\" v-on=\"on\" small outlined color=\"red\">Failed</v-chip>\n                            </template>\n                            <span>{{ app.error }}</span>\n                          </v-tooltip>\n                        </span>\n                        <span v-else-if=\"!app.isDownloading && !app.hasError\" class=\"font-weight-medium\">\n                          <v-chip small outlined color=\"downloadColor\">Downloading</v-chip>\n                        </span>\n\n                        <span v-else-if=\"app.isDownloading && !app.hasError\" class=\"font-weight-medium\">\n                          <v-chip small outlined color=\"nubeGreen\">Downloaded</v-chip>\n                        </span>\n                      </div>\n                    </div>\n                  </v-col>\n                </template>\n              </v-row>\n            </div>\n          </v-stepper-content>\n          <v-stepper-content step=\"4\" class=\"pa-0\">\n            <div class=\"text-left pb-5\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <div class=\"text-left pb-5\" v-if=\"installationSuccessApps.length > 0\">\n                <v-subheader class=\"pa-2 mb-n4\">Installation Completed Apps</v-subheader>\n                <v-row dense>\n                  <template v-for=\"(successApps, i) in installationSuccessApps\">\n                    <v-col\n                      cols=\"12\"\n                      class=\"pl-3 mt-3\"\n                      v-if=\"successApps.isHeader\"\n                      :key=\"`install-complete-header-${i}`\"\n                    >\n                      <span :title=\"successApps.name\" class=\"caption font-weight-bold\">{{ successApps.name }}</span>\n                      <span class=\"white--text font-weight-bold\">({{ successApps.version }})</span>\n                    </v-col>\n                    <v-col cols=\"4\" class=\"pl-5\" v-if=\"successApps.isListItem\" :key=\"`install-complete-${i}`\">\n                      <div>\n                        <p class=\"mb-0 text-ellipses\">\n                          <tooltip-title :title=\"successApps.slaveDeviceName\"></tooltip-title>\n                        </p>\n                        <div>\n                          <span class=\"font-weight-medium\">\n                            <v-chip small outlined color=\"blue\">Installed</v-chip>\n                          </span>\n                        </div>\n                      </div>\n                    </v-col>\n                  </template>\n                </v-row>\n              </div>\n              <div v-if=\"installationFailedApps.length > 0\">\n                <v-subheader> Installation Failed Apps</v-subheader>\n                <v-row dense>\n                  <template v-for=\"(failedApp, i) in installationFailedApps\">\n                    <v-col cols=\"12\" class=\"pl-3\" v-if=\"failedApp.isHeader\" :key=\"`installation-failed-header-${i}`\">\n                      <span class=\"caption font-weight-bold\">{{ failedApp.name }}</span>\n                      <span class=\"white--text font-weight-bold\">({{ failedApp.version }})</span>\n                    </v-col>\n                    <v-col cols=\"4\" class=\"pl-5\" v-if=\"failedApp.isListItem\" :key=\"`install-complete-${i}`\">\n                      <div>\n                        <p class=\"mb-0 text-ellipses\">\n                          <tooltip-title :title=\"failedApp.slaveDeviceName\"></tooltip-title>\n                        </p>\n                        <p>\n                          <span class=\"font-weight-medium\">\n                            <v-tooltip bottom>\n                              <template v-slot:activator=\"{ on, attrs }\">\n                                <v-chip v-bind=\"attrs\" v-on=\"on\" small outlined color=\"red\">Failed</v-chip>\n                              </template>\n                              <span>{{ failedApp.error }}</span>\n                            </v-tooltip>\n                          </span>\n                        </p>\n                      </div>\n                    </v-col>\n                  </template>\n                </v-row>\n              </div>\n            </div>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-card-actions>\n        <v-btn\n          x-small\n          class=\"btn-height-22 white--text\"\n          color=\"primary\"\n          @click=\"next\"\n          :loading=\"multiStepViewConfig[currentView].loader\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasForward\"\n        >\n          {{\n            typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n              ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n              : multiStepViewConfig[currentView].buttonLabel\n          }}\n        </v-btn>\n        <v-btn\n          small\n          color=\"pink\"\n          text\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasCancelInstallation\"\n          @click=\"cancelInstallation\"\n\n        >\n          Cancel Install\n        </v-btn>\n        <v-btn small text v-if=\"multiStepViewConfig[currentView].hasCancel\" @click=\"cancel\"> Close </v-btn>\n      </v-card-actions>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip';\nimport _zipObject from 'lodash/zipObject';\nimport TextFieldDisplay from '../Common/TextFieldDisplay';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport * as slaveAppsUiService from '../../services/slaveAppsUiService';\nimport TooltipTitle from './TooltipTitle';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  props: [\n    'selectedApps',\n    'slaveDevices',\n    'appVersions',\n    'clearSelectedApps',\n    'closeDialog',\n    'fetchDownloadAppState',\n    'currentDownloadState',\n    'slaveAppsDownloadStates',\n    'clearDownloadAppStateInterval',\n    'deleteDownloadState',\n  ],\n  components: {\n    AppStatusChip,\n    TextFieldDisplay,\n    TooltipTitle,\n  },\n  data() {\n    return {\n      versionForm: false,\n      renderReleaseCount: 0,\n      successInstalledApps: {},\n      failureInstallApps: {},\n      currentView: 1,\n      refreshTime: 10000,\n      versionRules: [value => !!value || 'Version No. is required.'],\n      multiStepViewConfig: {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n          loader: false,\n          disabled: true,\n          hasCancel: true,\n          cancelTitle: 'Close',\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n          hasCancel: false,\n        },\n      },\n    };\n  },\n  updated() {\n    if (!this.hasSelectedApps && !this.currentDownloadState && this.currentDownloadState !== DOWNLOAD_COMPLETE) {\n      this.currentView = 1;\n      this.multiStepViewConfig[1].disabled = true;\n    } else {\n      this.multiStepViewConfig[1].disabled = false;\n    }\n\n    if (this.currentDownloadState === DOWNLOAD_IN_PROGRESS || !this.currentDownloadState) {\n      this.multiStepViewConfig[3].disabled = true;\n    } else {\n      this.multiStepViewConfig[3].disabled = false;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  created() {\n    this.showDownloadStateView(this.currentDownloadState);\n  },\n  computed: {\n    currentBulkAppDownloadState() {\n      return this.$store.state.currentBulkAppDownloadState;\n    },\n    hasSelectedApps() {\n      return Object.keys(this.selectedApps).reduce((acc, curr) => {\n        const selectedService = this.selectedApps[curr];\n        const hasSelectedApps = selectedService && Array.isArray(selectedService) && selectedService.length > 0;\n        return acc || hasSelectedApps;\n      }, false);\n    },\n    apps() {\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          isListItem: true,\n          serviceName: app.service,\n          slaveClientName: app.slave_client_name,\n          slaveDeviceName: app.slave_device_name,\n          state: app.state,\n          version: app.version,\n          latestVersion: app.latest_version,\n          minVersion: app.min_support_version,\n          displayName: app.display_name,\n          loadingReleases: false,\n          releases: [],\n        }));\n      }\n      const selectedApps = Object.keys(this.selectedApps)\n        .reduce((acc, curr) => {\n          if (this.selectedApps[curr] && this.selectedApps[curr].length > 0) {\n            acc.push(this.getHeader(curr));\n            acc.push(...transformAppData(this.selectedApps[curr]));\n            acc.push(this.getVersionSelection(curr, this.selectedApps[curr]));\n            acc.push({ divider: true, isNonItem: true });\n          }\n          return acc;\n        }, [])\n        .filter(val => val);\n\n      return selectedApps;\n    },\n    downloadStates() {\n      const slaveDevices = this.slaveDevices;\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          isListItem: true,\n          serviceName: app.service,\n          slaveDeviceName: slaveDevices[app.slaveId].device_name,\n          version: app.version,\n          hasError: !!app.error,\n          errorMessage: app.error,\n          isDownloading: app.download,\n        }));\n      }\n      const downloadStatesApps = Object.keys(this.slaveAppsDownloadStates).reduce((acc, curr) => {\n        if (\n          this.slaveAppsDownloadStates[curr] &&\n          this.slaveAppsDownloadStates[curr].dataItems &&\n          this.slaveAppsDownloadStates[curr].dataItems.length > 0\n        ) {\n          acc.push({ ...this.getHeader(curr), version: this.slaveAppsDownloadStates[curr].dataItems[0].version });\n          acc.push(...transformAppData(this.slaveAppsDownloadStates[curr].dataItems));\n          acc.push({ divider: true, isNonItem: true });\n        }\n        return acc;\n      }, []);\n      return downloadStatesApps;\n    },\n    installationSuccessApps() {\n      const slaveDevices = this.slaveDevices;\n\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          slaveDeviceName: slaveDevices[app.slaveId].device_name,\n\n          isListItem: true,\n        }));\n      }\n      const successInstalledApps = Object.keys(this.successInstalledApps).reduce((acc, curr) => {\n        if (\n          this.successInstalledApps[curr] &&\n          this.successInstalledApps[curr].dataItems &&\n          this.successInstalledApps[curr].dataItems.length > 0\n        ) {\n          acc.push({ ...this.getHeader(curr), version: this.successInstalledApps[curr].dataItems[0].version });\n          acc.push(...transformAppData(this.successInstalledApps[curr].dataItems));\n          acc.push({ divider: true, isNonItem: true });\n        }\n        return acc;\n      }, []);\n      return successInstalledApps;\n    },\n    installationFailedApps() {\n      const slaveDevices = this.slaveDevices;\n\n      function transformAppData(selectedApps) {\n        return selectedApps.map(app => ({\n          ...app,\n          slaveDeviceName: slaveDevices[app.slaveId].site_name,\n          isListItem: true,\n        }));\n      }\n      const failureInstallApps = Object.keys(this.failureInstallApps).reduce((acc, curr) => {\n        if (\n          this.failureInstallApps[curr] &&\n          this.failureInstallApps[curr].dataItems &&\n          this.failureInstallApps[curr].dataItems.length > 0\n        ) {\n          acc.push({ ...this.getHeader(curr), version: this.failureInstallApps[curr].dataItems[0].version });\n          acc.push(...transformAppData(this.failureInstallApps[curr].dataItems));\n          acc.push({ divider: true, isNonItem: true });\n        }\n        return acc;\n      }, []);\n      return failureInstallApps;\n    },\n  },\n  methods: {\n    getHeader(name) {\n      let header = {\n        text: name,\n        name: name,\n        isHeader: true,\n        isNonItem: true,\n        isListItem: false,\n      };\n      return header;\n    },\n    getCommonAppMinVersion(apps) {\n      const minSupportVersions = apps.map(app => app.min_support_version);\n      return slaveAppsUiService.findMaxVersion(minSupportVersions);\n    },\n    getVersionSelection(name, selectedApps) {\n      let defaultValue = '';\n      let appVersions = selectedApps\n        .map(app => app.version)\n        .filter((curr, index, self) => self.indexOf(curr) === index)\n        .filter(val => val);\n      appVersions = slaveAppsUiService.getAvailableVersions(this.appVersions[name], appVersions);\n      const commonAppVersion = this.getCommonAppMinVersion(selectedApps);\n\n      if (appVersions.length === 1) {\n        defaultValue = appVersions[0];\n      } else {\n        defaultValue = commonAppVersion;\n      }\n      return {\n        text: name,\n        name: name,\n        model: defaultValue,\n        isListItem: false,\n        isVersionSelect: true,\n        versions: appVersions,\n      };\n    },\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case DOWNLOAD_IN_PROGRESS:\n          this.currentView = 3; // Download Waiting screen\n          break;\n        case DOWNLOAD_COMPLETE:\n          this.currentView = 3; // Show the download report page\n          this.clearDownloadAppStateInterval();\n          break;\n      }\n    },\n    disableInstallationButton() {\n      this.multiStepViewConfig[3].disabled = true;\n    },\n    bulkDownloadApps() {\n      this.currentView = 3;\n      this.disableInstallationButton();\n      const versionSelectMap = this.apps.reduce((acc, curr) => {\n        if (curr.isVersionSelect) {\n          acc[curr.name] = curr.model;\n        }\n        return acc;\n      }, {});\n      const payload = this.apps\n        .filter(item => item.isListItem)\n        .map(app => ({ version: versionSelectMap[app.service], service: app.serviceName, slaveId: app.slaveId }));\n      this.spinLoader(true);\n      const donwloadPromise = slaveAppsService\n        .bulkDownloadSlaveApps(payload)\n        .then(() => {\n          this.spinLoader(false);\n          this.fetchDownloadAppState();\n        })\n        .catch(err => {\n          this.spinLoader(false);\n        });\n\n      return donwloadPromise;\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      this.currentView++;\n    },\n    download() {\n      if (!this.$refs.versionForm.validate()) {\n        return;\n      }\n      this.bulkDownloadApps();\n    },\n    install() {\n      const installPayload = this.downloadStates\n        .filter(item => item.isListItem && !item.hasError)\n        .map(app => ({ version: app.version, service: app.serviceName, slaveId: app.slaveId }));\n      this.spinLoader(true);\n      return slaveAppsService\n        .bulkInstallSlaveApps(installPayload)\n        .then(({ successInstalledApps = {}, errorInstalledApps = {} }) => {\n          this.spinLoader(false);\n          this.currentView = 4; // Installation complete\n          this.successInstalledApps = { ...successInstalledApps };\n          this.failureInstallApps = { ...errorInstalledApps };\n        })\n        .catch(() => {\n          this.$toasted.show('Unexpected error occurred while bulk installing apps. Please try again');\n        }).finally(()=> {\n          this.spinLoader(false);\n        });\n    },\n    continue() {\n      this.resetDialog();\n    },\n    cancel() {\n      this.fetchDownloadAppState();\n      this.closeDialog();\n    },\n    cancelInstallation() {\n      this.resetDialog();\n    },\n    resetDialog() {\n      this.versionForm = false;\n      this.renderReleaseCount = 0;\n      this.currentView = 1;\n      this.multiStepViewConfig = {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n          loader: false,\n          disabled: true,\n          hasCancel: true,\n          cancelTitle: 'Close',\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n          hasCancel: false,\n        },\n      };\n      this.deleteDownloadState();\n      this.clearSelectedApps();\n      this.closeDialog(true, { unmount: true });\n    },\n  },\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SlaveAppsDownloadMultiStep.vue?vue&type=template&id=51d0a4d2&\"\nimport script from \"./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveAppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SlaveAppsDownloadMultiStep.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\" fa-angle-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(\" Slave Apps | \"+_vm._s(_vm.multiStepViewConfig[_vm.currentView].title)+\" \")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"1\"}},[(!_vm.hasSelectedApps)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n            Please select apps from the grid to bulk download.\\n          \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"text-left pb-5\"},[_c('v-subheader',{staticClass:\"mb-n5\"},[_vm._v(\"Selected Apps\")]),_vm._v(\" \"),_c('v-row',{staticClass:\"pa-1\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.apps),function(app,i){return [(app.isHeader)?_c('v-col',{key:(\"selected_apps_header-\" + i),staticClass:\"pl-3 mt-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(app.name))])]):_vm._e(),_vm._v(\" \"),(app.isListItem)?_c('v-col',{key:(\"selected_apps-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"text-ellipses mb-0\"},[_c('tooltip-title',{attrs:{\"title\":((app.slaveDeviceName) + \" \" + (app.version ? '(' + app.version + ')' : ''))}})],1),_vm._v(\" \"),_c('p',[_c('app-status-chip',{attrs:{\"chip-size\":\"small\",\"state\":app.state}})],1)])]):_vm._e()]})],2)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-2 pt-5\",attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"versionForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.versionForm),callback:function ($$v) {_vm.versionForm=$$v},expression:\"versionForm\"}},[_c('v-row',{staticClass:\"text-left\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.apps),function(app,i){return [(app.isHeader)?_c('v-col',{key:(\"version-form-header-\" + _vm.renderReleaseCount + \"-\" + i),attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(app.name))])]):_vm._e(),_vm._v(\" \"),(app.isListItem)?_c('v-col',{key:(\"version-form-field-\" + _vm.renderReleaseCount + \"-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"text-ellipses mb-0\"},[_c('tooltip-title',{attrs:{\"title\":((app.slaveDeviceName) + \" \" + (app.version ? '(' + app.version + ')' : ''))}})],1),_vm._v(\" \"),_c('p',[_c('app-status-chip',{attrs:{\"chip-size\":\"small\",\"state\":app.state}})],1)])]):_vm._e(),_vm._v(\" \"),(app.isVersionSelect)?_c('v-col',{key:(\"version-form-select-\" + _vm.renderReleaseCount + \"-\" + i),attrs:{\"cols\":\"12\"}},[_c('v-combobox',{staticClass:\"ml-5\",attrs:{\"items\":app.versions,\"label\":\"Select Release Version\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(app.model),callback:function ($$v) {_vm.$set(app, \"model\", $$v)},expression:\"app.model\"}})],1):_vm._e()]})],2)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"3\"}},[_c('div',[(_vm.currentDownloadState === 'DOWNLOAD_IN_PROGRESS')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading App(s) \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('div',{staticClass:\"text-left pb-5\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',{staticClass:\"pa-2 mb-n4\"},[_vm._v(\"App Download Statuses\")]),_vm._v(\" \"),_c('v-row',{staticClass:\"text-left\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.downloadStates),function(app,i){return [(app.isHeader)?_c('v-col',{key:(\"download-statuses-header-\" + i),staticClass:\"pl-3 mt-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(app.name))]),_vm._v(\" \"),_c('span',{staticClass:\"white--text font-weight-bold\"},[_vm._v(\"(\"+_vm._s(app.version)+\")\")])]):_vm._e(),_vm._v(\" \"),(app.isListItem)?_c('v-col',{key:(\"download-statuses-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"mb-0 text-ellipses\"},[_c('tooltip-title',{attrs:{\"title\":app.slaveDeviceName}})],1),_vm._v(\" \"),_c('div',[(app.hasError)?_c('span',{staticClass:\"font-weight-medium\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-chip',_vm._g(_vm._b({attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"red\"}},'v-chip',attrs,false),on),[_vm._v(\"Failed\")])]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(app.error))])])],1):(!app.isDownloading && !app.hasError)?_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"downloadColor\"}},[_vm._v(\"Downloading\")])],1):(app.isDownloading && !app.hasError)?_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"nubeGreen\"}},[_vm._v(\"Downloaded\")])],1):_vm._e()])])]):_vm._e()]})],2)],1):_vm._e()]),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"4\"}},[(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('div',{staticClass:\"text-left pb-5\"},[(_vm.installationSuccessApps.length > 0)?_c('div',{staticClass:\"text-left pb-5\"},[_c('v-subheader',{staticClass:\"pa-2 mb-n4\"},[_vm._v(\"Installation Completed Apps\")]),_vm._v(\" \"),_c('v-row',{attrs:{\"dense\":\"\"}},[_vm._l((_vm.installationSuccessApps),function(successApps,i){return [(successApps.isHeader)?_c('v-col',{key:(\"install-complete-header-\" + i),staticClass:\"pl-3 mt-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\",attrs:{\"title\":successApps.name}},[_vm._v(_vm._s(successApps.name))]),_vm._v(\" \"),_c('span',{staticClass:\"white--text font-weight-bold\"},[_vm._v(\"(\"+_vm._s(successApps.version)+\")\")])]):_vm._e(),_vm._v(\" \"),(successApps.isListItem)?_c('v-col',{key:(\"install-complete-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"mb-0 text-ellipses\"},[_c('tooltip-title',{attrs:{\"title\":successApps.slaveDeviceName}})],1),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"blue\"}},[_vm._v(\"Installed\")])],1)])])]):_vm._e()]})],2)],1):_vm._e(),_vm._v(\" \"),(_vm.installationFailedApps.length > 0)?_c('div',[_c('v-subheader',[_vm._v(\" Installation Failed Apps\")]),_vm._v(\" \"),_c('v-row',{attrs:{\"dense\":\"\"}},[_vm._l((_vm.installationFailedApps),function(failedApp,i){return [(failedApp.isHeader)?_c('v-col',{key:(\"installation-failed-header-\" + i),staticClass:\"pl-3\",attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"caption font-weight-bold\"},[_vm._v(_vm._s(failedApp.name))]),_vm._v(\" \"),_c('span',{staticClass:\"white--text font-weight-bold\"},[_vm._v(\"(\"+_vm._s(failedApp.version)+\")\")])]):_vm._e(),_vm._v(\" \"),(failedApp.isListItem)?_c('v-col',{key:(\"install-complete-\" + i),staticClass:\"pl-5\",attrs:{\"cols\":\"4\"}},[_c('div',[_c('p',{staticClass:\"mb-0 text-ellipses\"},[_c('tooltip-title',{attrs:{\"title\":failedApp.slaveDeviceName}})],1),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-chip',_vm._g(_vm._b({attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"red\"}},'v-chip',attrs,false),on),[_vm._v(\"Failed\")])]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(failedApp.error))])])],1)])])]):_vm._e()]})],2)],1):_vm._e()]):_vm._e()])],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader,\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled},on:{\"click\":_vm.next}},[_vm._v(\"\\n        \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n            ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n            : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancelInstallation)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"pink\",\"text\":\"\",\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled},on:{\"click\":_vm.cancelInstallation}},[_vm._v(\"\\n        Cancel Install\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancel)?_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Close \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"","<template>\n  <v-card>\n    <v-card-title>Control Actions Status Report</v-card-title>\n    <v-card-text>\n      <v-list flat subheader dense class=\"text-left\">\n        <v-subheader>Failed apps</v-subheader>\n        <template v-for=\"(app, i) in faliureApps\">\n          <v-list-item class=\"pl-5\" :key=\"`failed-app-${i}`\">\n            <v-list-item-content>\n              <v-list-item-title\n                class=\"subtitle-2 font-weight-medium\"\n                v-text=\"`${app.displayName} | ${app.device_name} | Action: ${app.action}`\"\n              ></v-list-item-title>\n              <p class=\"body-\">\n                <span>Message: </span> <span :title=\"app.error\" class=\"red--text\">{{ app.error }}</span>\n              </p>\n            </v-list-item-content>\n          </v-list-item>\n        </template>\n      </v-list>\n    </v-card-text>\n  </v-card>\n</template>\n<script>\nexport default {\n  name: 'slave-apps-control-action-report',\n  props: ['controlActionErrorReport', 'closeDialog', 'slaveDevices', 'slaveAppDisplayNameMap'],\n  computed: {\n    successApps() {\n      return this.controlActionErrorReport.success;\n    },\n    faliureApps() {\n      return Object.keys(this.controlActionErrorReport).reduce((acc, serviceKey) => {\n        let failureApps = this.controlActionErrorReport[serviceKey].failure;\n        failureApps = failureApps.map(app => ({\n          ...app,\n          action: (app.action || '').toUpperCase(),\n          displayName: this.slaveAppDisplayNameMap[app.service],\n          ...((this.slaveDevices && this.slaveDevices[app.slaveId]) || {}),\n        }));\n        acc.push(...failureApps);\n        return acc;\n      }, []);\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./SlaveAppsControlActionReport.vue?vue&type=template&id=3b2c2226&\"\nimport script from \"./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveAppsControlActionReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"Control Actions Status Report\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Failed apps\")]),_vm._v(\" \"),_vm._l((_vm.faliureApps),function(app,i){return [_c('v-list-item',{key:(\"failed-app-\" + i),staticClass:\"pl-5\"},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"subtitle-2 font-weight-medium\",domProps:{\"textContent\":_vm._s(((app.displayName) + \" | \" + (app.device_name) + \" | Action: \" + (app.action)))}}),_vm._v(\" \"),_c('p',{staticClass:\"body-\"},[_c('span',[_vm._v(\"Message: \")]),_vm._v(\" \"),_c('span',{staticClass:\"red--text\",attrs:{\"title\":app.error}},[_vm._v(_vm._s(app.error))])])],1)],1)]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isLoadingSlaveApps || isFetchingAppData || isDownloadingApps\">\n    <v-toolbar flat>\n      <v-toolbar-title>\n        <span>Master Slave Apps</span>\n        <tooltip-icon-button\n          btnColor=\"default\"\n          btnIcon=\"fa-refresh\"\n          btnTooltip=\"Refresh master view\"\n          buttonSize=\"medium\"\n          :onClick=\"() => initialize()\"\n        >\n        </tooltip-icon-button>\n      </v-toolbar-title>\n      <v-menu bottom left>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n            <v-icon :color=\"appliedFilterCount > 0 ? 'blue' : ''\">fa-filter</v-icon>\n          </v-btn>\n        </template>\n\n        <v-list dense>\n          <v-subheader>Filters</v-subheader>\n\n          <v-list-item>\n            <v-list-item-title>\n              <v-checkbox class=\"mt-0\" hide-details v-model=\"filters.isInstalled\" label=\"Installed Apps\"></v-checkbox>\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n\n      <v-spacer></v-spacer>\n      <v-btn\n        x-small\n        class=\"mr-2 btn-height-22 white--text\"\n        color=\"default\"\n        v-if=\"!!currentDownloadState\"\n        @click=\"() => (isClearDialog = true)\"\n      >\n        Clear Update\n        <v-icon x-small right> fa-times-rectangle </v-icon>\n      </v-btn>\n      <v-btn x-small class=\"btn-height-22 white--text\" color=\"pink\" @click=\"onBulkUpdate\">\n        <v-progress-circular\n          v-if=\"showDownloadProgressIcon\"\n          :width=\"2\"\n          :size=\"15\"\n          color=\"white\"\n          indeterminate\n        ></v-progress-circular>\n        <v-icon small v-if=\"showCheckDownloadIcon\">fa-check</v-icon>\n        <span class=\"pl-2\">Bulk Update</span>\n        <v-icon small right>fa-mobile</v-icon>\n      </v-btn>\n    </v-toolbar>\n    <v-spacer></v-spacer>\n    <v-card-text>\n      <v-container fluid>\n        <v-row no-gutter class=\"mb-2\">\n          <v-col cols=\"3\">\n            <p class=\"mb-0 text-left\" v-if=\"selectedServicesCount > 0\">\n              <span class=\"grey-text font-weight-medium caption\">Selected Apps: </span>\n              <span class=\"font-weight-medium\">{{ selectedServicesCount }}</span>\n            </p>\n          </v-col>\n          <v-col cols=\"6\">\n            <icon-button\n              :key=\"buttonConfig.name\"\n              v-for=\"buttonConfig in actionButtons\"\n              btn-size=\"small\"\n              :disabled=\"\n                selectedServicesCount == 0 || (currentControlAction && currentControlAction !== buttonConfig.action)\n              \"\n              :on-click=\"() => handleControlAction(buttonConfig.action)\"\n              :button-title=\"buttonConfig.title\"\n              :loading=\"currentControlAction && currentControlAction == buttonConfig.action && isControlActionPending\"\n              :icon-key=\"buttonConfig.iconKey\"\n              :color=\"buttonConfig.color\"\n            ></icon-button>\n          </v-col>\n          <v-col cols=\"3\"></v-col>\n        </v-row>\n        <v-tabs v-model=\"slaveTabs\" :color=\"`${$vuetify.theme.dark ? '' : 'nubeGreen'}`\">\n          <v-tab v-for=\"(slaveApps, index) in slaveAppsDetail\" :key=\"index\"> {{ slaveApps.display_name }} </v-tab>\n        </v-tabs>\n        <v-tabs-items v-model=\"slaveTabs\">\n          <v-tab-item v-for=\"(slaveApps, index) in slaveAppsDetail\" :key=\"index\">\n            <v-row no-gutter>\n              <v-col cols=\"12\" lg=\"12\" xl=\"12\" md=\"12\" sm=\"12\" xs=\"12\">\n                <slave-app-grid\n                  :filters=\"filters\"\n                  :slave-apps=\"slaveApps\"\n                  :search-text=\"searchText\"\n                  :onSelectItem=\"onSelectItem\"\n                  :slave-devices=\"slaveDevices\"\n                  :search=\"gridSearchMap[slaveApps.name]\"\n                  :key=\"`${recompute}-${slaveApps.name}`\"\n                  :name=\"`${recompute}-${slaveApps.name}`\"\n                  :slave-apps-data-items=\"slaveApps.dataItems\"\n                  :selected-item=\"selectedItems[slaveApps.name]\"\n                  :latest-version=\"slaveAppsLatestVersion[slaveApps.name]\"\n                  :updateSearch=\"search => updateSearch(slaveApps.name, search)\"\n                ></slave-app-grid>\n              </v-col>\n            </v-row>\n          </v-tab-item>\n        </v-tabs-items>\n      </v-container>\n      <v-row v-if=\"isLoadingSlaveApps\">\n        <v-col cols=\"12\" v-if=\"isLoadingSlaveApps\">\n          <v-skeleton-loader type=\"table-heading, list-item-one-line, image\"></v-skeleton-loader>\n        </v-col>\n      </v-row>\n\n      <v-col cols=\"12\" class=\"text-left\" v-if=\"isFetchAppfailure\">\n        <v-alert v-if=\"fetchErrorMessage\" class=\"mb-0 text-left\" dense outlined type=\"error\">\n          {{ fetchErrorMessage }}\n        </v-alert>\n        <v-btn x-small color=\"primary\" class=\"btn-height-22 white--text mt-8\" @click=\"retryFetchApps\"\n          >Click here to retry</v-btn\n        >\n      </v-col>\n    </v-card-text>\n    <v-dialog persistent v-model=\"dialog[dialogNames.bulkUpdate]\" max-width=\"600px\">\n      <slave-apps-download-multi-step\n        :app-versions=\"appVersions\"\n        :slave-devices=\"slaveDevices\"\n        :close-dialog=\"() => closeDialog(dialogNames.bulkUpdate)\"\n        :selected-apps=\"selectedItems\"\n        :clear-selected-apps=\"clearSelectedApps\"\n        :delete-download-state=\"deleteDownloadState\"\n        :current-download-state=\"currentDownloadState\"\n        :slave-apps-download-states=\"slaveAppsDownloadStates\"\n        :fetch-download-app-state=\"fetchDownloadAppState\"\n        :clear-download-app-state-interval=\"clearDownloadAppStateInterval\"\n      ></slave-apps-download-multi-step>\n    </v-dialog>\n    <v-dialog v-model=\"dialog[dialogNames.controlActionErrorReport]\" max-width=\"600px\">\n      <slave-apps-control-action-report\n        :slave-devices=\"slaveDevices\"\n        :slave-app-display-name-map=\"slaveAppDisplayNameMap\"\n        :close-dialog=\"\n          () => {\n            dialog[dialogNames.controlActionErrorReport] = false;\n          }\n        \"\n        :control-action-error-report=\"controlActionErrorReport\"\n      ></slave-apps-control-action-report>\n    </v-dialog>\n    <confirm-dialog\n      :is-open=\"isClearDialog\"\n      :loading=\"isClearingUpdate\"\n      :on-close=\"() => (isClearDialog = false)\"\n      :on-confirm=\"onClearDownload\"\n      dialog-text=\"All progress will be lost. Are you sure?\"\n    ></confirm-dialog>\n  </v-card>\n</template>\n<script>\nimport PageTitle from '../Common/PageTitle';\nimport SlaveAppGrid from './SlaveAppGrid';\nimport ConfirmDialog from '../Common/ConfirmDialog';\nimport * as slaveAppsUiService from '../../services/slaveAppsUiService';\nimport SlaveAppsDownloadMultiStep from './SlaveAppsDownloadMultiStep';\nimport * as slaveAppsService from '../../services/slaveAppsService';\nimport SlaveAppsControlActionReport from './SlaveAppsControlActionReport';\nimport * as slaveDeviceService from '../../services/slaveDevicesService';\nimport IconButton from '../Services/IconButton';\nimport TooltipIconButton from './TooltipIconButton.vue';\n\nimport { APP_DOWNLOAD_STATUSES, RUBIX_APP_STATUS_CONTROL_ACTIONS } from '../../constants/appConstant';\n\nconst controlActionErrorStates = {\n  success: 'success',\n  failure: 'failure',\n  partial: 'partial',\n};\nconst controlMessageStatesMap = {\n  success: {\n    type: 'success',\n    duration: 1000,\n    message: action => `Successfully applied action '${action}' all apps.`,\n  },\n  failure: {\n    type: 'error',\n    duration: 10000,\n    message: action => `Failed to apply action '${action}' to all apps.`,\n  },\n  partial: {\n    type: 'info',\n    duration: 10000,\n    message: action => `Partially applied action '${action}' to all apps.`,\n  },\n};\nexport default {\n  name: 'slave-apps',\n  components: {\n    PageTitle,\n    IconButton,\n    SlaveAppGrid,\n    SlaveAppsDownloadMultiStep,\n    ConfirmDialog,\n    SlaveAppsControlActionReport,\n    TooltipIconButton,\n  },\n  data() {\n    const dialogNames = {\n      bulkUpdate: 'bulkUpdate',\n      controlActionErrorReport: 'controlActionErrorReport',\n    };\n    const btnNames = {\n      controlErrorState: null,\n      startBtn: 'startBtn',\n      restartBtn: 'restartBtn',\n      stopBtn: 'stopBtn',\n      enableBtn: 'enableBtn',\n      disableBtn: 'disableBtn',\n    };\n    const btnConfig = {\n      [btnNames.startBtn]: {\n        name: btnNames.startBtn,\n        title: 'Start',\n        color: 'light-blue darken-2',\n        iconKey: 'fa-play-circle-o',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.START,\n      },\n      [btnNames.restartBtn]: {\n        name: btnNames.restartBtn,\n        title: 'Restart',\n        color: 'nubeGreen',\n        iconKey: 'fa-repeat',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART,\n      },\n      [btnNames.stopBtn]: {\n        name: btnNames.stopBtn,\n        title: 'Stop',\n        iconKey: 'fa-stop-circle-o',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP,\n      },\n      [btnNames.enableBtn]: {\n        name: btnNames.enableBtn,\n        title: 'Enable',\n        color: 'teal darken-2',\n        iconKey: 'fa-check-circle-o',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.ENABLE,\n      },\n      [btnNames.disableBtn]: {\n        name: btnNames.disableBtn,\n        title: 'Disable',\n        color: 'orange darken-2',\n        iconKey: 'fa-times-circle',\n        action: RUBIX_APP_STATUS_CONTROL_ACTIONS.DISABLE,\n      },\n    };\n    const actionBtnKeys = [\n      btnNames.startBtn,\n      btnNames.stopBtn,\n      btnNames.restartBtn,\n      btnNames.enableBtn,\n      btnNames.disableBtn,\n    ];\n\n    return {\n      recompute: 0,\n      slaveTabs: null,\n      filters: {\n        isInstalled: false,\n      },\n      gridSearchMap: {},\n      isFetchingDownloadState: false,\n      slaveAppDisplayNameMap: {},\n      slaveAppsLatestVersion: {},\n      isFetchingSlaveApps: false,\n      currentControlAction: null,\n      isControlActionPending: false,\n      statusControlErrors: [],\n      isFetchAppfailure: false,\n      isDownloadingApps: false,\n      isClearDialog: false,\n      isClearingUpdate: false,\n      isLoadingSlaveApps: false,\n      slaveAppsOnceLoaded: false,\n      controlActionState: null,\n      controlActionErrorReport: {},\n      slaveReleaseList: null,\n      fetchErrorMessage: '',\n      searchText: '',\n      isFetchingAppData: false,\n      refreshTime: 5000,\n      isDeletingDownloadState: false,\n      currentDownloadState: null,\n      slaveAppsDetailMap: {},\n      slaveAppsDetail: [],\n      selectedItems: {},\n      appVersions: {},\n      selectedAppVersion: {},\n      slaveAppReleases: {},\n      fetchDownloadAppStateInterval: null,\n      slaveDevices: {},\n      slaveAppsDownloadStates: {},\n      dialogNames,\n      dialog: {\n        [dialogNames.bulkUpdate]: false,\n        [dialogNames.controlActionErrorReport]: false,\n      },\n      actionButtons: actionBtnKeys.map(key => btnConfig[key]),\n      remountDialog: {\n        [dialogNames.bulkUpdate]: true,\n      },\n    };\n  },\n  mounted() {\n    this.initialize();\n  },\n  destroyed() {\n    clearInterval(this.fetchDownloadAppStateInterval);\n  },\n  beforeRouteLeave() {\n    clearInterval(this.fetchDownloadAppStateInterval);\n  },\n  computed: {\n    showCheckDownloadIcon() {\n      return this.currentDownloadState === APP_DOWNLOAD_STATUSES.DOWNLOAD_COMPLETE;\n    },\n    isMaster() {\n      return this.$store.state.isMaster;\n    },\n    showDownloadProgressIcon() {\n      return this.currentDownloadState === APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS;\n    },\n    selectedServicesCount() {\n      return Object.keys(this.selectedItems).reduce((acc, curr) => {\n        acc += this.selectedItems[curr].length;\n        return acc;\n      }, 0);\n    },\n    appliedFilterCount() {\n      return Object.keys(this.filters).reduce((acc, filterKey) => {\n        if (this.filters[filterKey]) {\n          acc++;\n        }\n        return acc;\n      }, 0);\n    },\n  },\n  methods: {\n    retryFetchApps() {\n      this.fetchErrorMessage = '';\n      this.isFetchAppfailure = false;\n      this.initialize();\n    },\n    async initialize() {\n      this.isFetchingAppData = true;\n      await Promise.all([this.fetchSlaveApps(true), this.fetchSlaveDevices()]).finally(() => {\n        this.isFetchingAppData = false;\n        this.recompute++;\n      });\n      await this.fetchSlaveAppsLatestVersion();\n    },\n    openDialog(dialogName) {\n      this.dialog[dialogName] = true;\n    },\n    toggleDialog(dialogName, item) {\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    fetchSlaveAppsLatestVersion() {\n      return slaveAppsService.fetchLatestAppVersion().then(data => {\n        this.slaveAppsLatestVersion = data;\n      });\n    },\n    updateSearch(serviceName, searchText) {\n      this.gridSearchMap[serviceName] = searchText;\n    },\n    fetchSlaveApps(fetchAppReleases = false) {\n      if (this.isFetchingSlaveApps) {\n        return;\n      }\n      if (!this.slaveAppsOnceLoaded) {\n        this.isLoadingSlaveApps = true;\n      }\n      this.isFetchingSlaveApps = true;\n      return slaveAppsService\n        .fetch()\n        .then(({ data = {} }) => {\n          this.slaveAppsDetailMap = data;\n          if (Object.keys(this.gridSearchMap).length === 0) {\n            this.gridSearchMap = Object.keys(data).reduce((acc, key) => {\n              acc[key] = '';\n              return acc;\n            }, {});\n          }\n          this.slaveAppDisplayNameMap = Object.keys(data).reduce((acc, key) => {\n            acc[key] = data[key] ? data[key].display_name : key;\n            return acc;\n          }, {});\n          this.slaveAppsDetail = Object.keys(data).map(slaveAppKey => data[slaveAppKey]);\n          this.selectedItems = Object.keys(data).reduce((acc, curr) => {\n            acc[curr] = [];\n            return acc;\n          }, {});\n          this.slaveAppsOnceLoaded = true;\n          if (fetchAppReleases) {\n            this.fetchSlaveAppReleases();\n          }\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.$toasted.show(err.message, { type: 'error' });\n            this.fetchErrorMessage = err.message;\n          }\n          this.isFetchAppfailure = true;\n        })\n        .finally(() => {\n          this.isLoadingSlaveApps = false;\n          this.isFetchingSlaveApps = false;\n        });\n    },\n    onSelectItem(serviceName, items) {\n      this.selectedItems[serviceName] = items;\n      this.selectedAppVersion = slaveAppsUiService.slaveReleaseList({\n        releaseMap: this.appVersions,\n        selectedItems: this.selectedItems,\n      });\n    },\n    fetchSlaveDevices() {\n      return slaveDeviceService\n        .fetch()\n        .then(slaveDevices => {\n          this.slaveDevices = slaveDevices;\n          this.fetchDownloadAppState();\n        })\n        .catch(err => {\n          // this.$toasted.show('Error fetching slave devices', { type: 'error' });\n        });\n    },\n    fetchSlaveAppReleases() {\n      const serviceNames = Object.keys(this.slaveAppsDetailMap);\n\n      if (!serviceNames.length) {\n        return null;\n      }\n\n      return slaveAppsService\n        .fetchAppsReleases(serviceNames)\n        .then(appVersions => {\n          this.appVersions = serviceNames.reduce((acc, serviceName, index) => {\n            acc[serviceName] = appVersions[index];\n            return acc;\n          }, {});\n        })\n        .catch(err => {\n          this.$toasted.show('Error fetching app releases');\n        });\n    },\n    onBulkUpdate() {\n      this.dialog[this.dialogNames.bulkUpdate] = true;\n    },\n    closeDialog(dialogName) {\n      this.dialog[dialogName] = false;\n    },\n    startDownloadStateInterval() {\n      if (!this.fetchDownloadAppStateInterval) {\n        this.fetchDownloadAppStateInterval = setInterval(() => {\n          if (!this.isFetchingDownloadState) {\n            this.fetchDownloadAppState();\n          }\n        }, this.refreshTime);\n      }\n    },\n    clearDownloadAppStateInterval() {\n      clearInterval(this.fetchDownloadAppStateInterval);\n      this.fetchDownloadAppStateInterval = null;\n    },\n    deleteDownloadState() {\n      this.isDeletingDownloadState = true;\n      const slaveUUIDs = Object.keys(this.slaveDevices);\n      if (!(slaveUUIDs && slaveUUIDs.length > 0)) {\n        return null;\n      }\n      return slaveAppsService.clearDownloadState(slaveUUIDs).finally(() => {\n        this.fetchDownloadAppState();\n        this.clearDownloadAppStateInterval();\n        this.isDeletingDownloadState = false;\n      });\n    },\n    fetchDownloadAppState() {\n      const slaveUUIDs = Object.keys(this.slaveDevices);\n      if (!(slaveUUIDs && slaveUUIDs.length > 0)) {\n        return null;\n      }\n      this.isFetchingDownloadState = true;\n      return slaveAppsService\n        .fetchDownloadState()\n        .then(({ data: slaveAppsDownloadStates, globalState: downloadState }) => {\n          this.isFetchingDownloadState = false;\n\n          switch (downloadState) {\n            case 'DOWNLOADING':\n              this.currentDownloadState = APP_DOWNLOAD_STATUSES.DOWNLOAD_IN_PROGRESS;\n              // this.isBulkDownloadAppPersistent = false;\n              if (!this.fetchDownloadAppStateInterval) {\n                this.startDownloadStateInterval();\n              }\n              this.isDownloadingApps = true;\n\n              break;\n            case 'CLEARED':\n              this.currentDownloadState = null;\n              this.clearDownloadAppStateInterval();\n              this.isDownloadingApps = false;\n\n              break;\n            case 'DOWNLOADED':\n              this.currentDownloadState = APP_DOWNLOAD_STATUSES.DOWNLOAD_COMPLETE;\n              // this.isBulkDownloadAppPersistent = true;\n              this.clearDownloadAppStateInterval();\n              this.isDownloadingApps = false;\n\n              break;\n          }\n          this.slaveAppsDownloadStates = slaveAppsDownloadStates;\n          Object.keys(this.slaveAppsDownloadStates).forEach(serviceName => {\n            this.slaveAppsDownloadStates[serviceName].dataItems = this.slaveAppsDownloadStates[\n              serviceName\n            ].dataItems.map(data => this.appendSlaveDevice(data));\n          });\n          return slaveAppsDownloadStates;\n        })\n        .catch(err => {\n          this.isFetchingDownloadState = false;\n          this.isDownloadingApps = false;\n        })\n    },\n    clearSelectedApps() {\n      this.slaveAppsDownloadStates = {};\n      this.selectedItems = {};\n      this.recompute++;\n      this.fetchSlaveApps();\n    },\n    appendSlaveDevice(data) {\n      let newData = { ...data };\n      const slaveDevice = this.slaveDevices[data.slaveId];\n      if (slaveDevice) {\n        newData = {\n          ...newData,\n          ...Object.keys(slaveDevice).reduce((acc, curr) => {\n            const key = 'slave_' + curr;\n            acc[key] = slaveDevice[curr];\n            return acc;\n          }, {}),\n        };\n      }\n      return newData;\n    },\n    onClearDownload() {\n      this.isClearingUpdate = true;\n      this.clearSelectedApps();\n      this.deleteDownloadState().finally(() => {\n        this.isClearDialog = false;\n        this.isClearingUpdate = false;\n      });\n    },\n    getControlErrorReport(data) {\n      return Object.keys(data).reduce((acc, key) => {\n        if (!acc[key]) {\n          acc[key] = {\n            success: [],\n            failure: [],\n          };\n        }\n        const dataItems = data[key].dataItems;\n        acc[key].success = dataItems.filter(item => !item.error);\n        acc[key].failure = dataItems.filter(item => item.error);\n        return acc;\n      }, {});\n    },\n    getControlActionState(errReport) {\n      const errStates = Object.keys(errReport).reduce((acc, serviceKey) => {\n        const success = errReport[serviceKey].success;\n        const failure = errReport[serviceKey].failure;\n        if (failure.length == 0) {\n          acc.push(controlActionErrorStates.success);\n        } else if (failure.length > 0 && success.length !== 0) {\n          acc.push(controlActionErrorStates.partial);\n        } else {\n          acc.push(controlActionErrorStates.failure);\n        }\n        return acc;\n      }, []);\n\n      if (errStates.every(item => item === controlActionErrorStates.success)) {\n        return controlActionErrorStates.success;\n      } else if (errStates.every(item => item === controlActionErrorStates.failure)) {\n        return controlActionErrorStates.failure;\n      } else {\n        return controlActionErrorStates.partial;\n      }\n    },\n    openErrorReportDialog() {\n      this.dialog[this.dialogNames.controlActionErrorReport] = true;\n    },\n    getToastMessageAction(status) {\n      const actions = [];\n      if (status === controlActionErrorStates.failure || status === controlActionErrorStates.partial) {\n        actions.push({\n          text: 'Click here to see Error Report.',\n          onClick: (e, toastObject) => this.openErrorReportDialog(e, toastObject, status),\n        });\n      }\n      return actions;\n    },\n    handleControlAction(action) {\n      this.currentControlAction = action;\n      this.isControlActionPending = true;\n      const apps = Object.keys(this.selectedItems).reduce((acc, serviceKey) => {\n        if (this.selectedItems[serviceKey] && this.selectedItems[serviceKey].length > 0) {\n          acc.push(...this.selectedItems[serviceKey]);\n        }\n        return acc;\n      }, []);\n      if (!apps.length) {\n        return;\n      }\n      return slaveAppsService\n        .bulkControlApps(apps, action)\n        .then(({ data }) => {\n          const errorReport = this.getControlErrorReport(data);\n          const controlActionState = this.getControlActionState(errorReport);\n          const controlActionMessage = controlMessageStatesMap[controlActionState];\n          this.$toasted.show(controlActionMessage.message(action), {\n            type: controlActionMessage.type,\n            duration: controlActionMessage.duration,\n            action: this.getToastMessageAction(controlActionState),\n          });\n          this.controlActionErrorReport = errorReport;\n          this.clearSelectedApps();\n        })\n        .finally(() => {\n          this.currentControlAction = null;\n          this.isControlActionPending = false;\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveApps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SlaveApps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SlaveApps.vue?vue&type=template&id=22b50d5a&\"\nimport script from \"./SlaveApps.vue?vue&type=script&lang=js&\"\nexport * from \"./SlaveApps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isLoadingSlaveApps || _vm.isFetchingAppData || _vm.isDownloadingApps}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_c('span',[_vm._v(\"Master Slave Apps\")]),_vm._v(\" \"),_c('tooltip-icon-button',{attrs:{\"btnColor\":\"default\",\"btnIcon\":\"fa-refresh\",\"btnTooltip\":\"Refresh master view\",\"buttonSize\":\"medium\",\"onClick\":function () { return _vm.initialize(); }}})],1),_vm._v(\" \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"color\":_vm.appliedFilterCount > 0 ? 'blue' : ''}},[_vm._v(\"fa-filter\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Filters\")]),_vm._v(\" \"),_c('v-list-item',[_c('v-list-item-title',[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Installed Apps\"},model:{value:(_vm.filters.isInstalled),callback:function ($$v) {_vm.$set(_vm.filters, \"isInstalled\", $$v)},expression:\"filters.isInstalled\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),(!!_vm.currentDownloadState)?_c('v-btn',{staticClass:\"mr-2 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"default\"},on:{\"click\":function () { return (_vm.isClearDialog = true); }}},[_vm._v(\"\\n      Clear Update\\n      \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\" fa-times-rectangle \")])],1):_vm._e(),_vm._v(\" \"),_c('v-btn',{staticClass:\"btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"pink\"},on:{\"click\":_vm.onBulkUpdate}},[(_vm.showDownloadProgressIcon)?_c('v-progress-circular',{attrs:{\"width\":2,\"size\":15,\"color\":\"white\",\"indeterminate\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.showCheckDownloadIcon)?_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fa-check\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"pl-2\"},[_vm._v(\"Bulk Update\")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"small\":\"\",\"right\":\"\"}},[_vm._v(\"fa-mobile\")])],1)],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-card-text',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"mb-2\",attrs:{\"no-gutter\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"3\"}},[(_vm.selectedServicesCount > 0)?_c('p',{staticClass:\"mb-0 text-left\"},[_c('span',{staticClass:\"grey-text font-weight-medium caption\"},[_vm._v(\"Selected Apps: \")]),_vm._v(\" \"),_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(_vm._s(_vm.selectedServicesCount))])]):_vm._e()]),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"6\"}},_vm._l((_vm.actionButtons),function(buttonConfig){return _c('icon-button',{key:buttonConfig.name,attrs:{\"btn-size\":\"small\",\"disabled\":_vm.selectedServicesCount == 0 || (_vm.currentControlAction && _vm.currentControlAction !== buttonConfig.action),\"on-click\":function () { return _vm.handleControlAction(buttonConfig.action); },\"button-title\":buttonConfig.title,\"loading\":_vm.currentControlAction && _vm.currentControlAction == buttonConfig.action && _vm.isControlActionPending,\"icon-key\":buttonConfig.iconKey,\"color\":buttonConfig.color}})}),1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"3\"}})],1),_vm._v(\" \"),_c('v-tabs',{attrs:{\"color\":(\"\" + (_vm.$vuetify.theme.dark ? '' : 'nubeGreen'))},model:{value:(_vm.slaveTabs),callback:function ($$v) {_vm.slaveTabs=$$v},expression:\"slaveTabs\"}},_vm._l((_vm.slaveAppsDetail),function(slaveApps,index){return _c('v-tab',{key:index},[_vm._v(\" \"+_vm._s(slaveApps.display_name)+\" \")])}),1),_vm._v(\" \"),_c('v-tabs-items',{model:{value:(_vm.slaveTabs),callback:function ($$v) {_vm.slaveTabs=$$v},expression:\"slaveTabs\"}},_vm._l((_vm.slaveAppsDetail),function(slaveApps,index){return _c('v-tab-item',{key:index},[_c('v-row',{attrs:{\"no-gutter\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"12\",\"xl\":\"12\",\"md\":\"12\",\"sm\":\"12\",\"xs\":\"12\"}},[_c('slave-app-grid',{key:(_vm.recompute + \"-\" + (slaveApps.name)),attrs:{\"filters\":_vm.filters,\"slave-apps\":slaveApps,\"search-text\":_vm.searchText,\"onSelectItem\":_vm.onSelectItem,\"slave-devices\":_vm.slaveDevices,\"search\":_vm.gridSearchMap[slaveApps.name],\"name\":(_vm.recompute + \"-\" + (slaveApps.name)),\"slave-apps-data-items\":slaveApps.dataItems,\"selected-item\":_vm.selectedItems[slaveApps.name],\"latest-version\":_vm.slaveAppsLatestVersion[slaveApps.name],\"updateSearch\":function (search) { return _vm.updateSearch(slaveApps.name, search); }}})],1)],1)],1)}),1)],1),_vm._v(\" \"),(_vm.isLoadingSlaveApps)?_c('v-row',[(_vm.isLoadingSlaveApps)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"table-heading, list-item-one-line, image\"}})],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.isFetchAppfailure)?_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[(_vm.fetchErrorMessage)?_c('v-alert',{staticClass:\"mb-0 text-left\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.fetchErrorMessage)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{staticClass:\"btn-height-22 white--text mt-8\",attrs:{\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.retryFetchApps}},[_vm._v(\"Click here to retry\")])],1):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog[_vm.dialogNames.bulkUpdate]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.bulkUpdate, $$v)},expression:\"dialog[dialogNames.bulkUpdate]\"}},[_c('slave-apps-download-multi-step',{attrs:{\"app-versions\":_vm.appVersions,\"slave-devices\":_vm.slaveDevices,\"close-dialog\":function () { return _vm.closeDialog(_vm.dialogNames.bulkUpdate); },\"selected-apps\":_vm.selectedItems,\"clear-selected-apps\":_vm.clearSelectedApps,\"delete-download-state\":_vm.deleteDownloadState,\"current-download-state\":_vm.currentDownloadState,\"slave-apps-download-states\":_vm.slaveAppsDownloadStates,\"fetch-download-app-state\":_vm.fetchDownloadAppState,\"clear-download-app-state-interval\":_vm.clearDownloadAppStateInterval}})],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"600px\"},model:{value:(_vm.dialog[_vm.dialogNames.controlActionErrorReport]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.controlActionErrorReport, $$v)},expression:\"dialog[dialogNames.controlActionErrorReport]\"}},[_c('slave-apps-control-action-report',{attrs:{\"slave-devices\":_vm.slaveDevices,\"slave-app-display-name-map\":_vm.slaveAppDisplayNameMap,\"close-dialog\":function () {\n          _vm.dialog[_vm.dialogNames.controlActionErrorReport] = false;\n        },\"control-action-error-report\":_vm.controlActionErrorReport}})],1),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.isClearDialog,\"loading\":_vm.isClearingUpdate,\"on-close\":function () { return (_vm.isClearDialog = false); },\"on-confirm\":_vm.onClearDownload,\"dialog-text\":\"All progress will be lost. Are you sure?\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RubixApps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RubixApps.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <page-title title=\"Rubix Apps\">\n      <template v-slot:spinner>\n        <v-progress-circular v-if=\"isFetchingMRBConfig\" indeterminate size=\"20\"></v-progress-circular>\n      </template>\n    </page-title>\n\n    <div v-if=\"!isFetchingMRBConfig\">\n      <div v-if=\"isMaster && !isSlaveModeActive\">\n        <v-row align=\"center\" justify=\"center\">\n          <v-btn-toggle v-model=\"toggleMasterSlave\" rounded>\n            <v-btn small :value=\"2\"\n              >Device: {{ deviceInfo && deviceInfo.device_name ? deviceInfo.device_name : 'Slave View' }}</v-btn\n            >\n            <v-btn small :value=\"1\"> Master View </v-btn>\n          </v-btn-toggle>\n        </v-row>\n        <v-row>\n          <v-col cols=\"12\" v-if=\"!isMqttRestBridgeConfigLoaded && isFetchingMRBConfig\">\n            <v-skeleton-loader type=\"table-heading, list-item-two-line, image, table-tfoot\"></v-skeleton-loader>\n          </v-col>\n          <v-col cols=\"12\" v-if=\"!isFetchingMRBConfig && isMqttRestBridgeConfigLoaded && toggleMasterSlave == 2\">\n            <apps-grid></apps-grid>\n          </v-col>\n          <v-col cols=\"12\" v-if=\"!isFetchingMRBConfig && isMqttRestBridgeConfigLoaded && toggleMasterSlave == 1\">\n            <slave-apps></slave-apps>\n          </v-col>\n        </v-row>\n      </div>\n      <div v-else>\n        <v-col cols=\"12\" v-if=\"isFetchingMRBConfig\">\n          <v-skeleton-loader type=\"table-heading, image, image, image, table-tfoot\"></v-skeleton-loader>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"!isFetchingMRBConfig && isMqttRestBridgeConfigLoaded\">\n          <apps-grid></apps-grid>\n        </v-col>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport AppsGrid from './AppsGrid';\nimport SlaveApps from './SlaveApps';\nimport * as rubixService from '../../services/rubixService';\nimport * as mqttRestBridgeService from '../../services/mqttRestBridgeService';\nimport PageTitle from '../Common/PageTitle.vue';\nconst MASTER_VIEW = 1;\nconst SLAVE_VIEW = 2;\nexport default {\n  name: 'rubix-apps',\n  data() {\n    return {\n      toggleMasterSlave: SLAVE_VIEW,\n      isFetchingMRBConfig: false,\n      deviceInfo: {},\n    };\n  },\n  components: {\n    AppsGrid,\n    PageTitle,\n    SlaveApps,\n  },\n  created() {\n    this.isFetchingMRBConfig = true;\n    this.getDeviceInfo();\n    mqttRestBridgeService\n      .fetchMRBListener()\n      .then(data => {\n        this.$store.commit('changeMqttRestBridgeConfig', data);\n      })\n      .finally(() => {\n        this.isFetchingMRBConfig = false;\n      });\n  },\n  methods: {\n    getDeviceInfo() {\n      rubixService.fetchPlatInfo().then(data => {\n        this.deviceInfo = data;\n      });\n    },\n  },\n  computed: {\n    isMqttRestBridgeConfigLoaded() {\n      return Object.keys(this.$store.state.mqttRestBridgeConfig || {}).length > 0;\n    },\n    isSlaveModeActive() {\n      return this.$store.state.isSwitchedSlave;\n    },\n    isMaster() {\n      return this.$store.state.isMaster;\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./RubixApps.vue?vue&type=template&id=90b4c9ba&\"\nimport script from \"./RubixApps.vue?vue&type=script&lang=js&\"\nexport * from \"./RubixApps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\n\nconst endpoint = '/slave-devices';\n\nexport const create = slave => {\n  const body = {\n    global_uuid: slave.global_uuid,\n  };\n  return http.post(endpoint, body);\n};\n\nexport const bulkCreate = slaves => {\n  return Promise.all(slaves.map(slave => create(slave)));\n};\n\nexport const fetch = () => {\n  return http.get(endpoint);\n};\n\nexport const discoverDevices = () => {\n  return http.get(`${endpoint}/discover`);\n};\n\nexport const remove = slave => {\n  const globalUUID = slave.global_uuid;\n  return http.delete(`${endpoint}/${globalUUID}`);\n};\n\nexport const bulkRemove = slaves => {\n  return Promise.all(slaves.map(slave => remove(slave)));\n};\n\nexport const updateComment = (uuid, comment) => {\n  return http.put(`${endpoint}/${uuid}/comment`, comment);\n};\n\nexport const removeComment = uuid => {\n  return http.delete(`${endpoint}/${uuid}/comment`);\n};\n\nexport const updateTags = (uuid, tags) => {\n  return http.put(`${endpoint}/${uuid}/tags`, tags);\n};\n\nexport const removeTags = uuid => {\n  return http.delete(`${endpoint}/${uuid}/tags`);\n};\n\nexport const syncSlaveDevices = () => {\n  return http.get(`${endpoint}/sync`);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{ref:\"copyClipboard\"},[_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"exportColor\"},on:{\"click\":function () { return _vm.onCopy(_vm.copyToClipboard); }}},[_vm._v(\"\\n    Export\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\"fa-upload\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"","<template>\n  <span ref=\"copyClipboard\">\n    <v-btn @click=\"() => onCopy(copyToClipboard)\" x-small color=\"exportColor\" class=\"mr-1 btn-height-22 white--text\">\n      Export<v-icon x-small right>fa-upload</v-icon>\n    </v-btn>\n  </span>\n</template>\n<script>\nexport default {\n  props: ['on-copy'],\n  methods: {\n    copyToClipboard(message) {\n      this.$copyText(message, this.$refs.copyClipboard).then(\n        () => {\n          this.$toasted.show('Copied to clipboard!', { type: 'success' });\n        },\n        () => {\n          this.$toasted.show('Cannot copy to clipboard.', { type: 'error' });\n        },\n      );\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./CopyClipboard.vue?vue&type=template&id=72c19256&\"\nimport script from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\nexport * from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.btnSize == 'small')?_c('v-btn',{staticClass:\"pa-2\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.disabled,\"color\":_vm.color,\"small\":\"\",\"text\":\"\"},on:{\"click\":_vm.onClick}},[_c('v-icon',[_vm._v(_vm._s(_vm.iconKey))]),_vm._v(\" \"),(_vm.buttonTitle)?_c('span',[_vm._v(\" \"+_vm._s(_vm.buttonTitle))]):_vm._e()],1):_c('v-btn',{staticClass:\"pa-2\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.disabled,\"color\":_vm.color,\"x-small\":\"\",\"text\":\"\"},on:{\"click\":_vm.onClick}},[_c('v-icon',[_vm._v(_vm._s(_vm.iconKey))]),_vm._v(\" \"),(_vm.buttonTitle)?_c('span',[_vm._v(\" \"+_vm._s(_vm.buttonTitle))]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconButton.vue?vue&type=script&lang=js&\"","<template>\n  <span>\n    <v-btn\n      :loading=\"loading\"\n      v-if=\"btnSize == 'small'\"\n      :disabled=\"disabled\"\n      @click=\"onClick\"\n      :color=\"color\"\n      small\n      class=\"pa-2\"\n      text\n    >\n      <v-icon>{{ iconKey }}</v-icon>\n      <span v-if=\"buttonTitle\">&nbsp;{{ buttonTitle }}</span>\n    </v-btn>\n    <v-btn :loading=\"loading\" v-else @click=\"onClick\" :disabled=\"disabled\" :color=\"color\" x-small class=\"pa-2\" text>\n      <v-icon>{{ iconKey }}</v-icon>\n      <span v-if=\"buttonTitle\">&nbsp;{{ buttonTitle }}</span>\n    </v-btn>\n  </span>\n</template>\n<script>\nexport default {\n  name: 'icon-button',\n  props: ['icon-key', 'on-click', 'button-title', 'color', 'btnSize', 'disabled', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./IconButton.vue?vue&type=template&id=478908d0&\"\nimport script from \"./IconButton.vue?vue&type=script&lang=js&\"\nexport * from \"./IconButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"mr-6\"},[_vm._v(_vm._s(_vm.toolbarTitle))]),_vm._v(\" \"),_vm._t(\"gridCounter\"),_vm._v(\" \"),(_vm.onCopy)?_c('copy-clipboard',{attrs:{\"on-copy\":_vm.onCopy}}):_vm._e(),_vm._v(\" \"),(_vm.items && _vm.items.length > 0 && !_vm.hideExportData)?_c('export-data',{attrs:{\"data\":_vm.items,\"file-name\":_vm.fileName,\"format-data-service\":_vm.formatDataService}}):_vm._e(),_vm._v(\" \"),(!!_vm.receiveDataRows)?_c('import-dialog',{attrs:{\"receiveDataRows\":_vm.receiveDataRows}}):_vm._e(),_vm._v(\" \"),(!!_vm.onDelete)?_c('v-btn',{staticClass:\"mr-2 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"error\",\"disabled\":!_vm.isDeleteEnabled},on:{\"click\":_vm.onDelete}},[_vm._v(\"Delete\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\" fa-trash-o\")])],1):_vm._e(),_vm._v(\" \"),_vm._t(\"customAction\"),_vm._v(\" \"),_vm._t(\"search\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <v-menu offset-y>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn x-small class=\"mr-2 btn-height-22 white--text\" color=\"primary\" v-bind=\"attrs\" v-on=\"on\">Import<v-icon x-small right>fa-vcard-o</v-icon></v-btn>\n      </template>\n      <v-list>\n        <v-list-item\n          @click=\"\n            dialogImportJSON = true;\n            dataImport = '';\n          \"\n        >\n          <v-list-item-title>JSON</v-list-item-title>\n        </v-list-item>\n        <v-list-item\n          @click=\"\n            dialogImportExcel = true;\n            file = null;\n          \"\n        >\n          <v-list-item-title>Excel</v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <v-dialog v-model=\"dialogImportExcel\" width=\"500px\">\n      <v-card>\n        <v-card-title>Choose excel file</v-card-title>\n        <v-card-text>\n          <v-file-input outlined dense label=\"File input\" v-model=\"file\" accept=\".xls,.xlsx\"></v-file-input>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"darken-1\" text @click=\"dialogImportExcel = false\">Close</v-btn>\n          <v-btn color=\"primary darken-1\" text @click=\"importFile\" :disabled=\"!file\">Import</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"dialogImportJSON\" width=\"500px\">\n      <v-card>\n        <v-card-title>Import via JSON</v-card-title>\n        <v-card-text>\n          <v-textarea outlined name=\"input-7-4\" label=\"import data\" v-model=\"dataImport\"></v-textarea>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"darken-1\" text @click=\"closeDialog\"> Cancel </v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"importJson\" :disabled=\"!dataImport\">Import</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport * as xlsx from 'xlsx';\nexport default {\n  name: 'import-dialog',\n  props: ['receiveDataRows'],\n  data() {\n    return {\n      file: null,\n      dialogImportExcel: false,\n      dialogImportJSON: false,\n      dataImport: '',\n    };\n  },\n  methods: {\n    importFile() {\n      let fileReader = new FileReader();\n      fileReader.readAsBinaryString(this.file);\n      fileReader.onload = this.handleFileLoad;\n    },\n    handleFileLoad(e) {\n      let data = e.target.result;\n      let workbook = xlsx.read(data, { type: 'binary' });\n      const firstSheet = Array.isArray(workbook.SheetNames) && workbook.SheetNames.length > 0 && workbook.SheetNames[0];\n      if (!firstSheet) {\n        return this.$toasted.show('Invalid Excel File. Please reupload.', { type: 'error' });\n      }\n      const rowObject = xlsx.utils.sheet_to_row_object_array(workbook.Sheets[firstSheet]);\n      this.receiveDataRows(rowObject);\n      this.dialogImportExcel = false;\n    },\n    closeDialog() {\n      this.dialogImportJSON = false;\n    },\n    importJson() {\n      try {\n        const dataItems = JSON.parse(this.dataImport);\n        this.receiveDataRows(dataItems);\n        this.dialogImportJSON = false;\n      } catch (err) {\n        return this.$toasted.show('Invalid JSON', { type: 'error' });\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ImportDialog.vue?vue&type=template&id=b9ee3ade&\"\nimport script from \"./ImportDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\"Import\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\"fa-vcard-o\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){_vm.dialogImportJSON = true;\n          _vm.dataImport = '';}}},[_c('v-list-item-title',[_vm._v(\"JSON\")])],1),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":function($event){_vm.dialogImportExcel = true;\n          _vm.file = null;}}},[_c('v-list-item-title',[_vm._v(\"Excel\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportExcel),callback:function ($$v) {_vm.dialogImportExcel=$$v},expression:\"dialogImportExcel\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Choose excel file\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-file-input',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"File input\",\"accept\":\".xls,.xlsx\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogImportExcel = false}}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary darken-1\",\"text\":\"\",\"disabled\":!_vm.file},on:{\"click\":_vm.importFile}},[_vm._v(\"Import\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportJSON),callback:function ($$v) {_vm.dialogImportJSON=$$v},expression:\"dialogImportJSON\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Import via JSON\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"import data\"},model:{value:(_vm.dataImport),callback:function ($$v) {_vm.dataImport=$$v},expression:\"dataImport\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":!_vm.dataImport},on:{\"click\":_vm.importJson}},[_vm._v(\"Import\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"","<template>\n  <v-toolbar flat>\n    <v-toolbar-title class=\"mr-6\">{{ toolbarTitle }}</v-toolbar-title>\n    <slot name=\"gridCounter\"></slot>\n    <copy-clipboard v-if=\"onCopy\" :on-copy=\"onCopy\"></copy-clipboard>\n    <export-data\n      v-if=\"items && items.length > 0 && !hideExportData\"\n      :data=\"items\"\n      :file-name=\"fileName\"\n      :format-data-service=\"formatDataService\"\n    ></export-data>\n    <import-dialog v-if=\"!!receiveDataRows\" :receiveDataRows=\"receiveDataRows\"></import-dialog>\n    <v-btn x-small class=\"mr-2 btn-height-22 white--text\" color=\"error\" :disabled=\"!isDeleteEnabled\" @click=\"onDelete\" v-if=\"!!onDelete\">Delete<v-icon x-small right> fa-trash-o</v-icon></v-btn>\n    <slot name=\"customAction\"></slot>\n    <slot name=\"search\"></slot>\n  </v-toolbar>\n</template>\n<script>\nimport ExportData from './ExportData';\nimport CopyClipboard from '../Sidebar/CopyClipboard';\nimport ImportDialog from './ImportDialog.vue';\nexport default {\n  name: 'grid-toolbar',\n  props: [\n    'toolbarTitle',\n    'onCopy',\n    'items',\n    'fileName',\n    'formatDataService',\n    'receiveDataRows',\n    'onDelete',\n    'isDeleteEnabled',\n    'onSearch',\n    'hideExportData',\n  ],\n  components: { ExportData, CopyClipboard, ImportDialog },\n};\n</script>\n","import { render, staticRenderFns } from \"./GridToolbar.vue?vue&type=template&id=79702f05&\"\nimport script from \"./GridToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./GridToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.label)?_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(_vm._s(_vm.label)+\" \"),_vm._t(\"afterLabel\")],2)]):_vm._e(),_vm._v(\" \"),(_vm.value)?_c('div',{staticClass:\"font-weight-medium text-ellipses\"},[_c('span',{attrs:{\"title\":_vm.value}},[_vm._v(_vm._s(_vm.value)),_vm._t(\"afterLabel\")],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextFieldDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextFieldDisplay.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div v-if=\"label\" class=\"grey--text caption mb-2\">\n      <span>{{ label }} <slot name=\"afterLabel\"></slot></span>\n    </div>\n    <div v-if=\"value\" class=\"font-weight-medium text-ellipses\">\n      <span :title=\"value\">{{ value }}<slot name=\"afterLabel\"></slot></span>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'text-field-display',\n  props: ['label', 'value'],\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import { render, staticRenderFns } from \"./TextFieldDisplay.vue?vue&type=template&id=40fe5136&\"\nimport script from \"./TextFieldDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./TextFieldDisplay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextFieldDisplay.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import _cloneDeep from 'lodash/cloneDeep';\nimport * as localstorageUtil from '../utils/localstorage';\nimport LOCALSTORAGE from '../constants/localStorage';\n\nconst formatSelectedItemsWithSlaveIds = selectedItems => {\n  return Object.keys(selectedItems).reduce((acc, service) => {\n    acc[service] = (selectedItems[service] || []).map(val => val && val.slaveId).filter(val => val);\n    return acc;\n  }, {});\n};\n\nconst filterReleaseMapBySelectedItems = (releaseMap, selectedServicesSlaveIds) => {\n  return Object.keys(releaseMap).reduce((acc, serviceName) => {\n    const value = Object.keys(releaseMap[serviceName]).reduce((acc, slaveId) => {\n      if (selectedServicesSlaveIds[serviceName] && selectedServicesSlaveIds[serviceName].includes(slaveId)) {\n        acc.push(releaseMap[serviceName][slaveId]);\n      }\n      return acc;\n    }, []);\n\n    acc[serviceName] = value;\n    return acc;\n  }, {});\n};\n\nexport const slaveReleaseList = ({ releaseMap, selectedItems }) => {\n  const selectedServicesSlaveIds = formatSelectedItemsWithSlaveIds(selectedItems);\n  const filteredReleaseMap = filterReleaseMapBySelectedItems(releaseMap, selectedServicesSlaveIds);\n  return Object.keys(filteredReleaseMap).reduce((acc, service) => {\n    const slaveAppsReleasesCount = filteredReleaseMap[service].map(val => (val && val.length) || Infinity); // at least one\n    const indexOfMinValue = slaveAppsReleasesCount.indexOf(Math.min(...slaveAppsReleasesCount));\n    acc[service] = filteredReleaseMap[service][indexOfMinValue] || [];\n    return acc;\n  }, {});\n};\n\nexport const setAppSlaveId = (slaveId, slaveDeviceInfo) => {\n  localstorageUtil.setItem(LOCALSTORAGE.SLAVE_ID, slaveId);\n  localstorageUtil.setItem(LOCALSTORAGE.SLAVE_DEVICE_INFO, JSON.stringify(slaveDeviceInfo));\n};\n\nexport const getAppSlaveId = () => {\n  return localstorageUtil.getItem(LOCALSTORAGE.SLAVE_ID);\n};\n\nexport const getAppSlaveDeviceInfo = () => {\n  const deviceInfo = localstorageUtil.getItem(LOCALSTORAGE.SLAVE_DEVICE_INFO);\n  try {\n    return JSON.parse(deviceInfo);\n  } catch (err) {\n    return null;\n  }\n};\n\nexport const removeAppSlaveId = () => {\n  localstorageUtil.removeItem(LOCALSTORAGE.SLAVE_ID);\n  localstorageUtil.removeItem(LOCALSTORAGE.SLAVE_DEVICE_INFO);\n};\n\nfunction tenPower(n) {\n  return Math.pow(10, n - 1);\n}\n\nfunction findVersionCount(versions) {\n  const RC_val = 'rc';\n  return versions.reduce((acc, version) => {\n    const versionNumber = version.toLowerCase().split('v')[1];\n    const versions = versionNumber.split('.');\n    const numVersions = versions.map(val => {\n      if (isNaN(+val) && val.indexOf(RC_val)) {\n        let newVal = val.split('-')[0];\n        let rcVal = val.split('-rc')[1];\n\n        return +newVal - 0.5 / +rcVal;\n      }\n      return +val;\n    });\n    const versionValue = numVersions.reduce((acc, curr, index) => {\n      const val = tenPower(numVersions.length - index) * curr;\n      acc = acc + val;\n      return acc;\n    }, 0);\n    acc[versionValue] = version;\n    return acc;\n  }, {});\n}\n\nfunction findMaxVersionValue(versions) {\n  const versionCounts = findVersionCount(versions);\n  const maxVal = Math.max(...Object.keys(versionCounts));\n  return maxVal;\n}\n\nexport function findMaxVersion(versions) {\n  const versionCounts = findVersionCount(versions);\n  const maxVal = Math.max(...Object.keys(versionCounts));\n  return versionCounts[maxVal];\n}\n\nexport function sortVersions(versions) {\n  const versionCountMap = findVersionCount(versions);\n  const versionCounts = Object.keys(versionCountMap).sort((a,b) => b-a); // decending order\n  return versionCounts.map(versionCount => versionCountMap[versionCount]);\n}\n\nexport function getAvailableVersions(allVersions, selectedVersions) {\n  const selectedVs = _cloneDeep(selectedVersions);\n  const allVs = _cloneDeep(allVersions);\n  const maxSelectedVersion = findMaxVersionValue(selectedVs);\n  const allVersionsCounts = findVersionCount(allVs);\n  const availableVersions = Object.keys(allVersionsCounts).reduce((acc, curr) => {\n    if (+curr >= maxSelectedVersion) {\n      acc.push(allVersionsCounts[curr]);\n    }\n    return acc;\n  }, []);\n  return sortVersions(availableVersions);\n}\n\n\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('configure-cron-form',{attrs:{\"valid\":_vm.valid,\"error\":_vm.error,\"onSave\":_vm.onSave,\"minutes\":_vm.minutes,\"onCancel\":_vm.onCancel,\"onDelete\":_vm.onDelete,\"isInitialized\":_vm.isInitialized,\"displayName\":_vm.service.display_name},on:{\"updateValid\":function($event){_vm.valid=$event},\"updateMinutes\":function($event){_vm.minutes = $event}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureCronView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigureCronView.vue?vue&type=script&lang=js&\"","<template>\n  <configure-cron-form\n    :valid=\"valid\"\n    :error=\"error\"\n    :onSave=\"onSave\"\n    :minutes=\"minutes\"\n    :onCancel=\"onCancel\"\n    :onDelete=\"onDelete\"\n    :isInitialized=\"isInitialized\"\n    :displayName=\"service.display_name\"\n    v-on:updateValid=\"valid=$event\"\n    v-on:updateMinutes=\"minutes = $event\"\n  ></configure-cron-form>\n</template>\n<script>\nimport _get from 'lodash/get';\nimport FormError from '../Common/FormError.vue';\nimport ConfigureCronForm from '../Common/ConfigureCronForm.vue';\nimport * as appsService from '../../services/appsService';\nimport * as rubixService from '../../services/rubixService';\nimport ServiceCronPicker from '../Common/ServiceCronPicker.vue';\nimport * as slaveAppsService from '../../services/slaveAppsService';\n\nexport default {\n  name: 'configure-cron-view',\n  props: ['service', 'onCancel', 'sync', 'slaveId', 'isSystemService'],\n  components: { ServiceCronPicker, FormError, ConfigureCronForm },\n  data() {\n    return {\n      valid: false,\n      minutes: 0,\n      error: {\n        message: null,\n      },\n      isInitialized: false,\n    };\n  },\n  mounted() {\n    this.minutes = _get(this.service, 'restart_job.timer', 0);\n    this.error.message = _get(this.service, 'restart_job.error', null);\n    this.isInitialized = true;\n  },\n  methods: {\n    getApiService() {\n      if (this.service.slaveId) {\n        return { service: slaveAppsService, slaveId: this.service.slaveId };\n      }\n\n      if (this.isSystemService) {\n        return { service: rubixService, slaveId: null };\n      }\n\n      return { service: appsService, slaveId: null };\n    },\n    onSave() {\n      const payload = {\n        timer: +this.minutes || 0,\n        service: this.service.service,\n      };\n      const { service, slaveId } = this.getApiService();\n      service.createRestartJob(payload, slaveId).then(() => {\n        this.$toasted.show('Successfully updated');\n        this.onCancel();\n        this.syncDetails();\n      });\n    },\n    syncDetails() {\n      if (typeof this.sync === 'function') {\n        this.sync();\n      }\n    },\n    onDelete() {\n      const payload = {\n        service: this.service.service,\n      };\n      const { service, slaveId } = this.getApiService();\n\n      service.deleteRestartJob(payload, slaveId).then(() => {\n        this.$toasted.show('Successfully deleted');\n        this.onCancel();\n        this.syncDetails();\n      });\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ConfigureCronView.vue?vue&type=template&id=e8c106b4&\"\nimport script from \"./ConfigureCronView.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfigureCronView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",class:_vm.className,attrs:{\"loading\":_vm.loading,\"x-small\":_vm.isSmall,\"disabled\":_vm.disabled,\"color\":_vm.color,\"block\":_vm.block},on:{\"click\":_vm.click}},[_vm._v(\"\\n  \"+_vm._s(_vm.title)+\"\\n  \"),(_vm.afterIcon)?_c('v-icon',{attrs:{\"x-small\":_vm.isSmall,\"right\":\"\"}},[_vm._v(_vm._s(_vm.afterIcon))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxButton.vue?vue&type=script&lang=js&\"","<template>\n  <v-btn\n    :loading=\"loading\"\n    :x-small=\"isSmall\"\n    :disabled=\"disabled\"\n    :color=\"color\"\n    v-on:click=\"click\"\n    :class=\"className\"\n    :block=\"block\"\n    class=\"mr-1 btn-height-22 white--text\"\n  >\n    {{ title }}\n    <v-icon :x-small=\"isSmall\" v-if=\"afterIcon\" right>{{ afterIcon }}</v-icon>\n  </v-btn>\n</template>\n<script>\nexport default {\n  name: 'rbx-button',\n  props: ['title', 'after-icon', 'color', 'click', 'is-small', 'class-name', 'disabled', 'block', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./RbxButton.vue?vue&type=template&id=dfa08e4e&\"\nimport script from \"./RbxButton.vue?vue&type=script&lang=js&\"\nexport * from \"./RbxButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"right\":\"\",\"width\":\"450px\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"loading\":_vm.loadingData}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.pluginName)+\" - \"+_vm._s(_vm.formType))]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-icon',{staticClass:\"mr-6\",attrs:{\"color\":\"primary\",\"disabled\":!_vm.valid},on:{\"click\":_vm.postConfig}},[_vm._v(\"fa-floppy-o\")]),_vm._v(\" \"),_c('v-icon',{on:{\"click\":_vm.onClose}},[_vm._v(\"fa-times-circle\")])],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-container',{staticClass:\"pa-4 mt-4\"},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.formType === _vm.formTypes.YML_CONFIG && !_vm.loadingData)?_c('yaml-editor',{attrs:{\"code\":_vm.config},on:{\"input\":_vm.onEditorValueChange}}):_vm._e(),_vm._v(\" \"),(_vm.formType === _vm.formTypes.JSON_CONFIG && !_vm.loadingData)?_c('json-editor',{attrs:{\"code\":_vm.config},on:{\"input\":_vm.onEditorValueChange}}):_vm._e(),_vm._v(\" \"),(_vm.formType === _vm.formTypes.ENV_CONFIG && !_vm.loadingData)?_c('env-editor',{attrs:{\"code\":_vm.config},on:{\"input\":_vm.onEditorValueChange}}):_vm._e(),_vm._v(\" \"),(_vm.formType === _vm.formTypes.TXT_CONFIG && !_vm.loadingData)?_c('txt-editor',{attrs:{\"code\":_vm.config},on:{\"input\":_vm.onEditorValueChange}}):_vm._e()],1),_vm._v(\" \"),_c('form-error',{attrs:{\"error\":_vm.error}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvEditor.vue?vue&type=script&lang=js&\"","<template>\n<!--  https://github.com/koca/vue-prism-editor/issues/87-->\n<!--  <prism-editor class=\"my-editor\" v-model=\"value\" :highlight=\"highlighter\" line-numbers></prism-editor>-->\n  <prism-editor class=\"my-editor\" v-model=\"value\" :highlight=\"highlighter\"></prism-editor>\n</template>\n\n<script>\nimport { PrismEditor } from 'vue-prism-editor';\nimport 'vue-prism-editor/dist/prismeditor.min.css'; // import the styles somewhere\n\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-yaml';\nimport 'prismjs/themes/prism-tomorrow.css'; // import syntax highlighting styles\n\nexport default {\n  components: {\n    PrismEditor,\n  },\n  props: ['code'],\n  data(vm) {\n    return { value: vm.code };\n  },\n  watch: {\n    value: function (newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.onInput(newVal);\n      }\n    },\n  },\n  methods: {\n    highlighter(code) {\n      return highlight(code, languages.yml); // languages.<insert language> to return html with markup\n    },\n    onInput(v) {\n      this.$emit('input', v);\n    },\n  },\n};\n</script>\n\n<style>\n/* required class */\n.my-editor {\n  /* we dont use `language-` classes anymore so thats why we need to add background and text color manually */\n  background: #2d2d2d;\n  color: #ccc;\n\n  /* you must provide font-family font-size line-height. Example: */\n  font-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;\n  font-size: 14px;\n  line-height: 1.5;\n  padding: 5px;\n}\n\n/* optional class for removing the outline */\n.prism-editor__textarea:focus {\n  outline: none;\n}\n\n/* remove extra top margin */\n.v-application .mt-4 {\n  margin-top: 0 !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./EnvEditor.vue?vue&type=template&id=aceb9ed2&\"\nimport script from \"./EnvEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./EnvEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EnvEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('prism-editor',{staticClass:\"my-editor\",attrs:{\"highlight\":_vm.highlighter},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JsonEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JsonEditor.vue?vue&type=script&lang=js&\"","<template>\n<!--  https://github.com/koca/vue-prism-editor/issues/87-->\n<!--  <prism-editor class=\"my-editor\" v-model=\"value\" :highlight=\"highlighter\" line-numbers></prism-editor>-->\n  <prism-editor class=\"my-editor\" v-model=\"value\" :highlight=\"highlighter\"></prism-editor>\n</template>\n\n<script>\nimport { PrismEditor } from 'vue-prism-editor';\nimport 'vue-prism-editor/dist/prismeditor.min.css'; // import the styles somewhere\n\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-json';\nimport 'prismjs/themes/prism-tomorrow.css'; // import syntax highlighting styles\n\nexport default {\n  components: {\n    PrismEditor,\n  },\n  props: ['code'],\n  data(vm) {\n    return { value: vm.code };\n  },\n  watch: {\n    value: function (newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.onInput(newVal);\n      }\n    },\n  },\n  methods: {\n    highlighter(code) {\n      return highlight(code, languages.json); // languages.<insert language> to return html with markup\n    },\n    onInput(v) {\n      this.$emit('input', v);\n    },\n  },\n};\n</script>\n\n<style>\n/* required class */\n.my-editor {\n  /* we dont use `language-` classes anymore so thats why we need to add background and text color manually */\n  background: #2d2d2d;\n  color: #ccc;\n\n  /* you must provide font-family font-size line-height. Example: */\n  font-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;\n  font-size: 14px;\n  line-height: 1.5;\n  padding: 5px;\n}\n\n/* optional class for removing the outline */\n.prism-editor__textarea:focus {\n  outline: none;\n}\n\n/* remove extra top margin */\n.v-application .mt-4 {\n  margin-top: 0 !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./JsonEditor.vue?vue&type=template&id=1645cf5a&\"\nimport script from \"./JsonEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./JsonEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JsonEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('prism-editor',{staticClass:\"my-editor\",attrs:{\"highlight\":_vm.highlighter},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-navigation-drawer v-model=\"isOpen\" fixed right width=\"450px\">\n    <v-card :loading=\"loadingData\" style=\"height: 100%\">\n      <v-toolbar flat>\n        <v-toolbar-title>{{ pluginName }} - {{ formType }}</v-toolbar-title>\n        <v-spacer />\n        <v-icon class=\"mr-6\" color=\"primary\" @click=\"postConfig\" :disabled=\"!valid\">fa-floppy-o</v-icon>\n        <v-icon @click=\"onClose\">fa-times-circle</v-icon>\n      </v-toolbar>\n      <v-divider></v-divider>\n      <v-container class=\"pa-4 mt-4\">\n        <v-form v-model=\"valid\" ref=\"form\" lazy-validation>\n          <yaml-editor\n            v-if=\"formType === formTypes.YML_CONFIG && !loadingData\"\n            :code=\"config\"\n            @input=\"onEditorValueChange\"\n          ></yaml-editor>\n          <json-editor\n            v-if=\"formType === formTypes.JSON_CONFIG && !loadingData\"\n            :code=\"config\"\n            @input=\"onEditorValueChange\"\n          ></json-editor>\n          <env-editor\n            v-if=\"formType === formTypes.ENV_CONFIG && !loadingData\"\n            :code=\"config\"\n            @input=\"onEditorValueChange\"\n          ></env-editor>\n          <txt-editor\n            v-if=\"formType === formTypes.TXT_CONFIG && !loadingData\"\n            :code=\"config\"\n            @input=\"onEditorValueChange\"\n          ></txt-editor>\n        </v-form>\n        <form-error :error=\"error\"></form-error>\n      </v-container>\n    </v-card>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport FormError from '../Common/FormError.vue';\nimport EnvEditor from '../Common/EnvEditor.vue';\nimport YamlEditor from '../Common/YamlEditor.vue';\nimport JsonEditor from '../Common/JsonEditor.vue';\nimport {\n  ENV_CONFIG,\n  JSON_CONFIG,\n  TXT_CONFIG,\n  YML_CONFIG,\n  SERVICE_NAMES,\n  RUBIX_APP_TYPES,\n} from '../../constants/appConstant';\n\nfunction resolveConfigFile(appType, pluginName) {\n  if (pluginName === SERVICE_NAMES.RUBIX_FLOW_FRAMEWORK || pluginName === SERVICE_NAMES.RUBIX_BROKER) {\n    return YML_CONFIG;\n  } else if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return JSON_CONFIG;\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return TXT_CONFIG;\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return ENV_CONFIG;\n  }\n  return YML_CONFIG;\n}\n\nexport default {\n  name: 'config-form',\n  props: ['onClose', 'isOpen', 'pluginName', 'fetchConfig', 'updateConfig', 'appType'],\n  data: () => ({\n    rules: {\n      required: value => !!value || 'Required.',\n    },\n    valid: false,\n    loadingData: false,\n    config: '',\n    newValue: '',\n    error: { message: '' },\n    formTypes: {\n      ENV_CONFIG,\n      TXT_CONFIG,\n      YML_CONFIG,\n      JSON_CONFIG,\n    },\n  }),\n\n  components: { YamlEditor, FormError, JsonEditor, EnvEditor },\n  computed: {\n    formType() {\n      return resolveConfigFile(this.appType, this.pluginName);\n    },\n  },\n  watch: {\n    isOpen(val) {\n      if (val) this.getConfigs();\n    },\n  },\n  mounted() {\n    this.error.message = '';\n    this.getConfigs();\n  },\n  methods: {\n    getConfigs() {\n      this.loadingData = true;\n      this.fetchConfig(this.pluginName)\n        .then(response => {\n          this.config = response;\n        })\n        .catch(() => {\n          this.config = '';\n        })\n        .finally(() => {\n          this.loadingData = false;\n        });\n    },\n    postConfig() {\n      const postData = { data: this.newValue };\n      this.error.message = '';\n      this.updateConfig(this.pluginName, postData)\n        .then(data => {\n          this.$toasted.show(`Config is updated successfully!`);\n          this.onClose();\n        })\n        .catch(ex => {\n          this.error.message = 'YAML config incorrect.';\n          this.$toasted.show(`Check your YAML config!`, { type: 'error' });\n        });\n    },\n    isCorrectKey(config) {\n      return true; // TODO: YAML validator\n    },\n    onEditorValueChange(config) {\n      this.newValue = config;\n    },\n  },\n};\n</script>\n\n\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfigForm.vue?vue&type=template&id=50aa2aba&\"\nimport script from \"./ConfigForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfigForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"downloadColor\"}},'v-btn',attrs,false),on),[_vm._v(\"\\n      Download\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\"}},[_vm._v(\"fa-download\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'json')}}},[_vm._v(\" JSON \")]),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'excel')}}},[_vm._v(\" Excel \")]),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'csv')}}},[_vm._v(\" CSV \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"","<template>\n  <v-menu offset-y>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn x-small class=\"mr-2 btn-height-22 white--text\" color=\"downloadColor\" v-bind=\"attrs\" v-on=\"on\">\n        Download<v-icon x-small right>fa-download</v-icon>\n      </v-btn>\n    </template>\n    <v-list>\n      <v-list-item @click=\"clickDownload(data, 'json')\"> JSON </v-list-item>\n      <v-list-item @click=\"clickDownload(data, 'excel')\"> Excel </v-list-item>\n      <v-list-item @click=\"clickDownload(data, 'csv')\"> CSV </v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n<script>\nimport { exportJSON, exportCSV, exportExcel } from '../../utils/utils';\n\nexport default {\n  name: 'export-data',\n  props: ['data', 'fileName', 'formatDataService'],\n  methods: {\n    clickDownload(data, type) {\n      let formattedData = data;\n      if (typeof this.formatDataService === 'function') {\n        formattedData = this.formatDataService(data);\n      }\n      switch (type) {\n        case 'csv':\n          return exportCSV(this.fileName, formattedData);\n        case 'excel':\n          return exportExcel(this.fileName, formattedData);\n        case 'json':\n          return exportJSON(this.fileName, JSON.stringify(formattedData));\n      }\n    },\n  },\n};\n</script>\n\n","import { render, staticRenderFns } from \"./ExportData.vue?vue&type=template&id=810fadce&\"\nimport script from \"./ExportData.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('prism-editor',{staticClass:\"my-editor\",attrs:{\"highlight\":_vm.highlighter},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YamlEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YamlEditor.vue?vue&type=script&lang=js&\"","<template>\n<!--  https://github.com/koca/vue-prism-editor/issues/87-->\n<!--  <prism-editor class=\"my-editor\" v-model=\"value\" :highlight=\"highlighter\" line-numbers></prism-editor>-->\n  <prism-editor class=\"my-editor\" v-model=\"value\" :highlight=\"highlighter\"></prism-editor>\n</template>\n\n<script>\nimport { PrismEditor } from 'vue-prism-editor';\nimport 'vue-prism-editor/dist/prismeditor.min.css'; // import the styles somewhere\n\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-yaml';\nimport 'prismjs/themes/prism-tomorrow.css'; // import syntax highlighting styles\n\nexport default {\n  components: {\n    PrismEditor,\n  },\n  props: ['code'],\n  data(vm) {\n    return { value: vm.code };\n  },\n  watch: {\n    value: function (newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.onInput(newVal);\n      }\n    },\n  },\n  methods: {\n    highlighter(code) {\n      return highlight(code, languages.yml); // languages.<insert language> to return html with markup\n    },\n    onInput(v) {\n      this.$emit('input', v);\n    },\n  },\n};\n</script>\n\n<style>\n/* required class */\n.my-editor {\n  /* we dont use `language-` classes anymore so thats why we need to add background and text color manually */\n  background: #2d2d2d;\n  color: #ccc;\n\n  /* you must provide font-family font-size line-height. Example: */\n  font-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;\n  font-size: 14px;\n  line-height: 1.5;\n  padding: 5px;\n}\n\n/* optional class for removing the outline */\n.prism-editor__textarea:focus {\n  outline: none;\n}\n\n/* remove extra top margin */\n.v-application .mt-4 {\n  margin-top: 0 !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./YamlEditor.vue?vue&type=template&id=af211bae&\"\nimport script from \"./YamlEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./YamlEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YamlEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\n\nconst endpoint = '/system-service';\n\nexport const fetchSystemServices = () => {\n  return http.get(endpoint);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const fetchSystemStatByServiceName = serviceName => {\n  return http.get(`${endpoint}/${serviceName}`);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(_vm.isMaster)?_c('v-icon',_vm._g(_vm._b({staticClass:\"mt-n1\",attrs:{\"medium\":\"\",\"color\":\"nubeYellow\"}},'v-icon',attrs,false),on),[_vm._v(\"fa-star\")]):_vm._e()]}}])},[_vm._v(\" \"),_c('span',[_vm._v(\"Master device\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MasterStarIndicator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MasterStarIndicator.vue?vue&type=script&lang=js&\"","<template>\n  <v-tooltip bottom>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-icon  v-bind=\"attrs\" v-on=\"on\" class=\"mt-n1\" v-if=\"isMaster\" medium color=\"nubeYellow\">fa-star</v-icon>\n    </template>\n    <span>Master device</span>\n  </v-tooltip>\n</template>\n<script>\nexport default {\n  name: 'master-star-indicator',\n  props: ['isMaster'],\n};\n</script>\n","import { render, staticRenderFns } from \"./MasterStarIndicator.vue?vue&type=template&id=343ebeee&\"\nimport script from \"./MasterStarIndicator.vue?vue&type=script&lang=js&\"\nexport * from \"./MasterStarIndicator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g(_vm._b({staticClass:\"white--text text-ellipses\"},'span',attrs,false),on),[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")])]}}])},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipTitle.vue?vue&type=script&lang=js&\"","<template>\n  <v-tooltip bottom>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <span v-bind=\"attrs\" v-on=\"on\" class=\"white--text text-ellipses\">\n        {{ title }}\n      </span>\n    </template>\n    <span>{{ title }}</span>\n  </v-tooltip>\n</template>\n<script>\nexport default {\n  name: 'tooltip-title',\n  props: ['title'],\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import { render, staticRenderFns } from \"./TooltipTitle.vue?vue&type=template&id=cce81308&\"\nimport script from \"./TooltipTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./TooltipTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TooltipTitle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"color\":\"warning\"}},[_vm._v(\" fa-exclamation-circle \")]),_vm._v(\" Confirm \")],1),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[_c('v-row',[_vm._v(_vm._s(_vm.dialogText))])],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onClose}},[_vm._v(\" No \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"loading\":_vm.loading,\"text\":\"\"},on:{\"click\":_vm.onConfirm}},[_vm._v(\" Yes \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","<template>\n  <v-dialog v-model=\"isOpen\" persistent max-width=\"290\">\n    <v-card>\n      <v-card-title><v-icon color=\"warning\"> fa-exclamation-circle </v-icon>&nbsp;Confirm </v-card-title>\n      <v-card-text>\n        <v-container>\n          <v-row>{{ dialogText }}</v-row>\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"onClose\"> No </v-btn>\n        <v-btn color=\"red darken-1\" :loading=\"loading\" text @click=\"onConfirm\"> Yes </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: 'confirm-dialog',\n  props: ['on-close', 'on-confirm', 'dialog-text', 'is-open', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=de64f342&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\nimport qs from 'query-string';\nimport * as rubixService from './rubixService';\nimport { RUBIX_APP_TYPES, RUBIX_APP_STATUS_CONTROL_ACTIONS, SERVICE_NAMES } from '../constants/appConstant';\nimport * as systemSettingService from './systemSettingService';\nimport { exportENV, exportJSON, exportOpenVPNConfig, exportYml } from '../utils/utils';\n\nconst endpoint = '/rubix-app';\n\nexport const fetchApps = () => {\n  const queryParams = qs.stringify({\n    browser_download_url: true,\n    latest_version: true,\n  });\n  return http.get(`${endpoint}?${queryParams}`);\n};\n\nexport const fetchAllApps = () => {\n  return systemSettingService.fetchSystemServices();\n};\n\nexport const fetchAllInstalledApps = () => {\n  return http.get(`${endpoint}`).then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchSystemDefaultApps = () => {\n  return systemSettingService\n    .fetchSystemServices()\n    .then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchAppReleases = appName => {\n  return http.get(`${endpoint}/releases/${appName}`);\n};\n\nexport const fetchAppsReleases = services => {\n  return Promise.all(services.map(service => fetchAppReleases(service).catch(err => [])));\n};\n\nexport const fetchAppStatus = (appName, options = {}) => {\n  return http.get(`${endpoint}/stats/${appName}`, options);\n};\n\nexport const uninstallApp = appName => {\n  return http.post(`${endpoint}/uninstall`, { service: appName });\n};\n\nexport const installApp = body => {\n  return http.post(`${endpoint}/install`, [body]);\n};\n\nexport const downloadApp = body => {\n  return http.post(`${endpoint}/download`, [body]);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const uploadApp = (file, serviceName, version) => {\n  let formData = new FormData();\n  formData.append('file', file);\n  formData.append('service', serviceName);\n  formData.append('version', version);\n  return http.post(`${endpoint}/app-upload`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const deleteAppData = serviceName => {\n  return http.post(`${endpoint}/delete-app-data`, [{ service: serviceName }]);\n};\n\nexport const deleteAppDataService = serviceName => {\n  return deleteAppData(serviceName);\n};\n\nexport const downloadAppData = async serviceName => {\n  const data = await rubixService.fetchAppUrl();\n  const url = `${data.data}api/app/download_data?service=${serviceName}`;\n  return http.get(url, {\n    headers: {\n      'Content-Type': 'application/zip',\n    },\n    responseType: 'arraybuffer',\n  });\n};\n\nexport const fetchJSONConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/json-config/${serviceName}`, config);\n};\n\nexport const fetchOpenVPNConfig = (serviceName, axiosConfig) => {\n  return http.get(`${endpoint}/open-vpn-config/${serviceName}`, axiosConfig);\n};\n\nexport const fetchEnvConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/env/${serviceName}`, config);\n};\n\nexport const saveJSONConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/json-config`, { service: serviceName, data: config });\n};\n\nexport const saveENVConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/env`, { service: serviceName, data: config });\n};\n\nexport const saveOpenVPNConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/open-vpn-config`, { service: serviceName, data: config });\n};\n\nexport const deleteJSONConfig = serviceName => {\n  return http.delete(`${endpoint}/json-config`, { data: { service: serviceName } });\n};\n\nexport const deleteENVConfig = serviceName => {\n  return http.delete(`${endpoint}/env`, { data: { service: serviceName } });\n};\n\nexport const deleteOpenVPNConfig = serviceName => {\n  return http.delete(`${endpoint}/open-vpn-config`, { data: { service: serviceName } });\n};\n\nexport const downloadAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config).then(({ data }) => {\n      exportJSON(`${serviceName}-config`, JSON.stringify(data));\n    });\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config).then(({ data }) => {\n      exportENV(`${serviceName}`, data);\n    });\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return fetchOpenVPNConfig(serviceName, config).then(({ data }) => {\n      exportOpenVPNConfig(`${serviceName}`, data);\n    });\n  }\n  return fetchYmlConfig(serviceName).then(({ data }) => {\n    exportYml(`${serviceName}-config`, JSON.stringify(data));\n  });\n};\n\nexport const bulkAppControl = actions => http.post(`${endpoint}/control`, actions);\n\nexport const bulkInstallApps = services => http.post(`${endpoint}/install`, services);\n\nexport const bulkDownloadApps = services => http.post(`${endpoint}/download`, services);\n\nexport const fetchDownloadState = () => http.get(`${endpoint}/download-state`, { restrictToast: true });\n\nexport const deleteDownloadState = () => http.delete(`${endpoint}/download-state`);\n\nexport const createRestartJob = body => {\n  return http.post(`${endpoint}/restart-job`, [body]);\n};\n\nexport const deleteRestartJob = body => {\n  return http.delete(`${endpoint}/restart-job`, { data: [body] });\n};\n\nexport const isSelfRestart = (action, apps, global_uuid) => {\n  return (\n    action === RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART &&\n    apps\n      .filter(app => app.service === 'RUBIX_PLAT')\n      .map(app => app.slaveId)\n      .includes(global_uuid)\n  );\n};\n\nexport const isSelfInstall = (service, isMaster) => {\n  return service === 'RUBIX_PLAT' && isMaster;\n};\n\nexport const fetchYmlConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/yml-config/${serviceName}`, config);\n};\n\nexport const saveYmlConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/yml-config`, { service: serviceName, data: config });\n};\n\nexport const deleteYmlConfig = serviceName => {\n  return http.delete(`${endpoint}/yml-config/${serviceName}`);\n};\n\nexport const fetchAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config).then(({ data }) => data);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config).then(({ data }) => data);\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return fetchOpenVPNConfig(serviceName, config).then(({ data }) => data);\n  }\n  return fetchYmlConfig(serviceName, config).then(({ data }) => data);\n};\n\nexport const saveAppConfig = (serviceName, appType, config) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return saveJSONConfig(serviceName, config || {});\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return saveENVConfig(serviceName, config || '');\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return saveOpenVPNConfig(serviceName, config);\n  }\n  return saveYmlConfig(serviceName, config);\n};\n\nexport const deleteAppConfig = (serviceName, appType) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return deleteJSONConfig(serviceName);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return deleteENVConfig(serviceName);\n  } else if (appType === RUBIX_APP_TYPES.APT_APP) {\n    return deleteOpenVPNConfig(serviceName);\n  }\n  return deleteYmlConfig(serviceName);\n};\n","import http from '../axios';\n\nconst endpoint = '/mqtt-rest-bridge/listener';\n\nexport const fetchMRBListener = () => {\n  return http.get(endpoint);\n};\n\nexport const patchMRBListener = mrb => {\n  return http.patch(endpoint, mrb, { restrictToast: true });\n};\n"],"sourceRoot":""}