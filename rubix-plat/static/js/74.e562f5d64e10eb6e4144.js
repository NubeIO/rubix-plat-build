(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{V4qv:function(e,t,n){"use strict";n.r(t);var s=n("06Hw"),a=n.n(s),r=n("YYXh"),o=n.n(r),i=n("uzYq"),l=n("VleD"),u={data:function(){return{name:"",password:"",msg:""}},computed:{setting:function(){return this.$store.state.setting}},mounted:function(){},methods:{handleSubmit:function(){var e=this;return o()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("auth/login",{name:e.name,password:e.password}).then((function(t){if(l.d("user",t.user),l.d("token",t.token),null!=l.b("token"))if(e.$emit("loggedIn"),null!=e.$route.params.nextUrl)e.$router.push(e.$route.params.nextUrl);else{var n="services";!e.setting.serviceMapping&&e.setting.flowNetwork&&(n="rfn"),e.$router.push({path:n})}e.msg="login succeeded"}));case 2:t.sent;case 3:case"end":return t.stop()}}),t,e)})))()},clear:function(){this.$refs.loginForm.reset()}}},c=n("psIG"),d=Object(c.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex",staticStyle:{height:"100vh"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-card",{staticClass:"elevation-12 below-toolbar"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Login")])]),e._v(" "),n("v-card-text",[n("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("v-text-field",{attrs:{label:"Username",required:"",autofocus:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleSubmit(t))}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("v-text-field",{attrs:{label:"Password",required:"",type:"password"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleSubmit(t))}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!this.name||!this.password,expression:"!this.name || !this.password"}]},[e._v("enter your username and password")]),e._v("\n          "+e._s(e.msg)+"\n        ")],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{small:"",text:""},on:{click:e.clear}},[e._v("Clear")]),e._v(" "),n("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"primary",disabled:!this.name||!this.password},on:{click:e.handleSubmit}},[e._v("Login")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=d.exports}}]);
//# sourceMappingURL=74.e562f5d64e10eb6e4144.js.map