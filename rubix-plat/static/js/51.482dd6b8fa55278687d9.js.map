{"version":3,"sources":["webpack:///./src/components/Common/PageTitle.vue?edf3","webpack:///./src/components/Common/PageTitle.vue?8d7a","webpack:///src/components/Common/PageTitle.vue","webpack:///./src/components/Common/PageTitle.vue","webpack:///./src/components/UpdateService.vue?4bf8","webpack:///./src/components/UpdateService.vue?01df","webpack:///src/components/UpdateService.vue","webpack:///./src/components/UpdateService.vue"],"names":["name","props","component","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","_t","components","PageTitle","data","e1","releases","serviceStatus","selectedId","selectedRelease","author","overlay","service","mounted","getService","id","computed","installedService","installedServices","find","methods","getReleaseList","$http","get","releaseUrl","then","filter","clickContinueAtStep1","stopRunningService","clickBackAtStep3","watch","val","attrs","model","value","callback","$$v","expression","_e","_l","r","key","on","staticStyle","status","version","$event","getServiceStatus","stopService","html_url","login","_f","created_at","zipball_url","tarball_url","download","install","callService"],"mappings":"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","file":"static/js/51.482dd6b8fa55278687d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"text-h5 text-left py-3\"},[_c('span',[_vm._v(_vm._s(_vm.title))]),_vm._t(\"titleActions\"),_vm._v(\" \"),_vm._t(\"spinner\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"","<template>\n  <h1 class=\"text-h5 text-left py-3\">\n    <span>{{ title }}</span\n    ><slot name=\"titleActions\"></slot>\n    <slot name=\"spinner\"></slot>\n  </h1>\n</template>\n<script>\nexport default {\n  name: 'page-title',\n  props: ['title'],\n};\n</script>\n","import { render, staticRenderFns } from \"./PageTitle.vue?vue&type=template&id=7fcf8b0a&\"\nimport script from \"./PageTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./PageTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-title',{attrs:{\"title\":(\"UPDATE SERVICE - \" + (_vm.service.name))}}),_vm._v(\" \"),_c('v-stepper',{model:{value:(_vm.e1),callback:function ($$v) {_vm.e1=$$v},expression:\"e1\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.e1 > 1,\"step\":\"1\"}},[_vm._v(\"Release version\")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),(!_vm.service.stopRunningService)?_c('v-stepper-step',{attrs:{\"complete\":_vm.e1 > 2,\"step\":\"2\"}},[_vm._v(\"Service status\")]):_vm._e(),_vm._v(\" \"),(_vm.service.stopRunningService)?_c('v-stepper-step',{attrs:{\"rules\":[function () { return false; }],\"step\":\"2\"}},[_vm._v(\"\\n        Service status\\n        \"),_c('small',[_vm._v(\"Stop running service\")])]):_vm._e(),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.e1 > 3,\"step\":\"3\"}},[_vm._v(\"Download\")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.e1 > 4,\"step\":\"4\"}},[_vm._v(\"Install\")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.e1 > 5,\"step\":\"5\"}},[_vm._v(\"Start\")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-radio-group',{model:{value:(_vm.selectedId),callback:function ($$v) {_vm.selectedId=$$v},expression:\"selectedId\"}},_vm._l((_vm.releases),function(r){return _c('v-radio',{key:r.id,attrs:{\"label\":r.name,\"value\":r.id}})}),1),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.clickContinueAtStep1}},[_vm._v(\" Continue \")])],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n          Service: \"+_vm._s(_vm.service.name)+\" \"),_c('br'),_vm._v(\"\\n          Status: \"+_vm._s(_vm.serviceStatus.status ? 'Running' : 'Stopped')+\" \"),_c('br'),_vm._v(\"\\n          Current Version: \"+_vm._s(_vm.installedService ? _vm.installedService.version : 'Not Installed')+\" \"),_c('br')]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"secondary\"},on:{\"click\":function($event){_vm.e1 = 1}}},[_vm._v(\"Back\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"nubeGreen\"},on:{\"click\":_vm.getServiceStatus}},[_vm._v(\"Reload\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.stopService()}}},[_vm._v(\"Continue\")])],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n          Name: \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.selectedRelease.html_url}},[_vm._v(_vm._s(_vm.selectedRelease.name))]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n          Author: \"),_c('strong',[_vm._v(_vm._s(_vm.selectedRelease.author.login))]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n          Created at: \"+_vm._s(_vm._f(\"timezone\")(_vm.selectedRelease.created_at))+\" \"),_c('br'),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.selectedRelease.zipball_url}},[_vm._v(\"Source code (zip)\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.selectedRelease.tarball_url}},[_vm._v(\"Source code (tar.gz)\")]),_vm._v(\" \"),_c('br')]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.clickBackAtStep3}},[_vm._v(\" Back \")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"downloadColor\"},on:{\"click\":_vm.download}},[_vm._v(\" Download \")])],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"Install Service\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"secondary\"},on:{\"click\":function($event){_vm.e1 = 3}}},[_vm._v(\" Back \")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.install}},[_vm._v(\" Install \")])],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"5\"}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"Start Service\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"secondary\"},on:{\"click\":function($event){_vm.e1 = 4}}},[_vm._v(\" Back \")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"mr-1 btn-height-22 white--text\",attrs:{\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.callService('start')}}},[_vm._v(\" Start \")])],1)],1)],1),_vm._v(\" \"),_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/string-replace-loader/index.js??ref--6!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateService.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/string-replace-loader/index.js??ref--6!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateService.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <page-title :title=\"`UPDATE SERVICE - ${service.name}`\"></page-title>\n    <v-stepper v-model=\"e1\">\n      <v-stepper-header>\n        <v-stepper-step :complete=\"e1 > 1\" step=\"1\">Release version</v-stepper-step>\n        <v-divider></v-divider>\n        <v-stepper-step :complete=\"e1 > 2\" step=\"2\" v-if=\"!service.stopRunningService\">Service status</v-stepper-step>\n        <v-stepper-step :rules=\"[() => false]\" step=\"2\" v-if=\"service.stopRunningService\">\n          Service status\n          <small>Stop running service</small>\n        </v-stepper-step>\n        <v-divider></v-divider>\n        <v-stepper-step :complete=\"e1 > 3\" step=\"3\">Download</v-stepper-step>\n        <v-divider></v-divider>\n        <v-stepper-step :complete=\"e1 > 4\" step=\"4\">Install</v-stepper-step>\n        <v-divider></v-divider>\n        <v-stepper-step :complete=\"e1 > 5\" step=\"5\">Start</v-stepper-step>\n      </v-stepper-header>\n\n      <v-stepper-items>\n        <v-stepper-content step=\"1\">\n          <v-radio-group v-model=\"selectedId\">\n            <v-radio v-for=\"r in releases\" :key=\"r.id\" :label=\"r.name\" :value=\"r.id\"></v-radio>\n          </v-radio-group>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"primary\" @click=\"clickContinueAtStep1\"> Continue </v-btn>\n        </v-stepper-content>\n\n        <v-stepper-content step=\"2\">\n          <div style=\"text-align: left\">\n            Service: {{ service.name }} <br />\n            Status: {{ serviceStatus.status ? 'Running' : 'Stopped' }} <br />\n            Current Version: {{ installedService ? installedService.version : 'Not Installed' }} <br />\n          </div>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"secondary\" @click=\"e1 = 1\">Back</v-btn>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"nubeGreen\" @click=\"getServiceStatus\">Reload</v-btn>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"primary\" @click=\"stopService()\">Continue</v-btn>\n        </v-stepper-content>\n\n        <v-stepper-content step=\"3\">\n          <div style=\"text-align: left\">\n            Name: <a target=\"_blank\" :href=\"selectedRelease.html_url\">{{ selectedRelease.name }}</a> <br />\n            Author: <strong>{{ selectedRelease.author.login }}</strong> <br />\n            Created at: {{ selectedRelease.created_at | timezone }} <br />\n            <a target=\"_blank\" :href=\"selectedRelease.zipball_url\">Source code (zip)</a> <br />\n            <a target=\"_blank\" :href=\"selectedRelease.tarball_url\">Source code (tar.gz)</a> <br />\n          </div>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"secondary\" @click=\"clickBackAtStep3\"> Back </v-btn>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"downloadColor\" @click=\"download\"> Download </v-btn>\n        </v-stepper-content>\n\n        <v-stepper-content step=\"4\">\n          <div style=\"text-align: left\">Install Service</div>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"secondary\" @click=\"e1 = 3\"> Back </v-btn>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"primary\" @click=\"install\"> Install </v-btn>\n        </v-stepper-content>\n\n        <v-stepper-content step=\"5\">\n          <div style=\"text-align: left\">Start Service</div>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"secondary\" @click=\"e1 = 4\"> Back </v-btn>\n          <v-btn x-small class=\"mr-1 btn-height-22 white--text\" color=\"primary\" @click=\"callService('start')\"> Start </v-btn>\n        </v-stepper-content>\n      </v-stepper-items>\n    </v-stepper>\n\n    <v-overlay :value=\"overlay\">\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n  </div>\n</template>\n\n<script>\nimport axios from '../axios';\nimport { serviceItems } from '../constants/appConstant';\nimport PageTitle from './Common/PageTitle.vue';\n\nexport default {\n  components: { PageTitle },\n  data() {\n    return {\n      e1: 1,\n      releases: [],\n      serviceStatus: {},\n      selectedId: '',\n      selectedRelease: { author: {} },\n      overlay: false,\n      service: {},\n    };\n  },\n  mounted() {\n    const { id } = this.$route.params;\n    this.getService(id);\n  },\n  computed: {\n    installedService() {\n      const { installedServices } = this.$store.state;\n      const serviceItem = serviceItems.find(s => s.id === this.service.name);\n      return installedServices.find(s => s.service === serviceItem.fileName);\n    },\n  },\n  methods: {\n    async getService(id) {\n      const service = await axios.get(`service/${id}`);\n      this.service = service;\n      this.getReleaseList();\n      this.getServiceStatus();\n    },\n    async install() {\n      this.$store.commit('changeLoading', true);\n      const data = { service: this.service.name, version: this.selectedRelease.tag_name };\n      axios.post(`rubix-service/install-service`, data).then(result => {\n        this.$store.commit('changeLoading', false);\n        this.$toasted.show('Install completed');\n        this.e1 = 5;\n      });\n    },\n    async download() {\n      this.$store.commit('changeLoading', true);\n      const data = { service: this.service.name, version: this.selectedRelease.tag_name };\n      axios.post(`rubix-service/download-service`, data).then(r => {\n        this.$toasted.show('Download completed');\n        this.$store.commit('changeLoading', false);\n        this.e1 = 4;\n      });\n    },\n    async getServiceStatus() {\n      this.$store.commit('changeLoading', true);\n      axios.get(`rubix-service/up-service/${this.service.name}`).then(result => {\n        this.$store.commit('changeLoading', false);\n        this.serviceStatus = result;\n      });\n    },\n    async stopService() {\n      if (!this.serviceStatus.status) {\n        this.e1 = 3;\n        return;\n      }\n      await this.callService('stop');\n      this.e1 = 3;\n    },\n    async callService(action) {\n      this.$store.commit('changeLoading', true);\n      axios.post(`rubix-service/call-service`, { action, service: this.service.name }).then(result => {\n        this.$store.commit('changeLoading', false);\n        this.$toasted.show(`${action} success!`);\n      });\n    },\n    getReleaseList() {\n      this.$http.get(this.service.releaseUrl).then(({ data }) => {\n        let releases = data;\n        if (this.service.fromVersion) {\n          releases = data.filter(x => x.tag_name >= this.service.fromVersion);\n        }\n        this.releases = releases;\n        this.selectedId = this.releases[0].id;\n        this.selectedRelease = this.releases[0];\n      });\n    },\n    clickContinueAtStep1() {\n      this.e1 = this.service.stopRunningService ? 3 : 2;\n    },\n    clickBackAtStep3() {\n      this.e1 = this.service.stopRunningService ? 1 : 2;\n    },\n  },\n  watch: {\n    'selectedId': function (val, oldVal) {\n      this.selectedRelease = this.releases.find(r => r.id === val);\n    },\n    '$route.params.id': function (val, oldVal) {\n      this.getService(val);\n      this.e1 = 1;\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./UpdateService.vue?vue&type=template&id=7e9e4ded&\"\nimport script from \"./UpdateService.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateService.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}