{"version":3,"sources":["webpack:///./src/components/Common/PageTitle.vue?c58c","webpack:///./src/components/Common/PageTitle.vue?8d7a","webpack:///src/components/Common/PageTitle.vue","webpack:///./src/components/Common/PageTitle.vue","webpack:///./src/components/RubixApps/RubixApps.vue?4133","webpack:///./src/components/RubixApps/appsEditConfig.vue?dff2","webpack:///src/components/RubixApps/appsEditConfig.vue","webpack:///./src/components/RubixApps/appsEditConfig.vue?f03f","webpack:///./src/components/RubixApps/appsEditConfig.vue?ffb5","webpack:///src/components/RubixApps/AppsDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?ab99","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsDownloadMultiStep.vue?5a5c","webpack:///src/components/RubixApps/AppsUploadMultiStepView.vue","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue?3753","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue","webpack:///./src/components/RubixApps/AppsUploadMultiStepView.vue?ac51","webpack:///src/components/RubixApps/AppsBulkDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue?327b","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue","webpack:///./src/components/RubixApps/AppsBulkDownloadMultiStep.vue?37ce","webpack:///src/components/RubixApps/AppsGrid.vue","webpack:///./src/components/RubixApps/AppsGrid.vue?222d","webpack:///./src/components/RubixApps/RubixApps.vue?bb70","webpack:///src/components/RubixApps/RubixApps.vue","webpack:///./src/components/RubixApps/AppsGrid.vue","webpack:///./src/components/RubixApps/AppsGrid.vue?90e3","webpack:///./src/components/RubixApps/RubixApps.vue","webpack:///./src/components/Sidebar/CopyClipboard.vue?ec71","webpack:///./src/components/Sidebar/CopyClipboard.vue?995d","webpack:///src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Sidebar/CopyClipboard.vue","webpack:///./src/components/Common/GridToolbar.vue?fa49","webpack:///./src/components/Common/ImportDialog.vue?b025","webpack:///src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue","webpack:///./src/components/Common/ImportDialog.vue?e89f","webpack:///./src/components/Common/GridToolbar.vue?35fe","webpack:///src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/GridToolbar.vue","webpack:///./src/components/Common/TextFieldDisplay.vue?5be8","webpack:///./src/components/Common/TextFieldDisplay.vue?7155","webpack:///src/components/Common/TextFieldDisplay.vue","webpack:///./src/components/Common/TextFieldDisplay.vue?e583","webpack:///./src/components/Services/AppStatusChip.vue?2d2b","webpack:///src/components/Services/AppStatusChip.vue","webpack:///./src/components/Services/AppStatusChip.vue?2c17","webpack:///./src/components/Services/AppStatusChip.vue","webpack:///./src/components/Common/RbxButton.vue?1865","webpack:///./src/components/Common/RbxButton.vue?d078","webpack:///src/components/Common/RbxButton.vue","webpack:///./src/components/Common/RbxButton.vue","webpack:///./src/components/Common/ExportData.vue?6012","webpack:///./src/components/Common/ExportData.vue?9000","webpack:///src/components/Common/ExportData.vue","webpack:///./src/components/Common/ExportData.vue","webpack:///./src/services/systemSettingService.js","webpack:///./src/components/Common/ConfirmDialog.vue?964d","webpack:///./src/components/Common/ConfirmDialog.vue?8f62","webpack:///src/components/Common/ConfirmDialog.vue","webpack:///./src/components/Common/ConfirmDialog.vue","webpack:///./src/services/appsService.js"],"names":["name","props","component","_vm","this","_h","$createElement","_self","_c","staticClass","_v","_s","title","data","config","isFetchingConfig","isSavingConfig","isConfigJSON","mounted","fetchAppConfig","isJSON","appDetail","app_type","methods","appsService","saveConfig","attrs","display_name","mode","model","value","callback","$$v","expression","_e","on","closeDialog","shouldStopRubixApp","serviceInfo","status","components","AppStatusChip","valid","currentView","appReleases","serviceStatus","isFetchingAppStatus","selectedVersion","multiStepViewConfig","1","back","forward","hasBack","hasForward","buttonLabel","loader","2","3","4","loading","rules","required","versionRules","cancel","stopAndContinue","spinLoader","continue","install","service","appDetails","version","fetchAppStatus","time_since","state","ref","next","isDeleteAppData","isDeletingAppData","isStartingApp","errorMessage","file","rubixAppTypes","startApp","upload","onFileSelect","versionNumber","Array","isArray","deleteAppData","toggleDeleteAppData","PYTHON_APP","$event","TextFieldDisplay","versionForm","renderReleaseCount","isFetchingAppStatuses","successInstallApps","failureInstallApps","refreshTime","disabled","hasCancel","hasCancelInstallation","cancelTitle","updated","hasSelectedApps","currentDownloadState","DOWNLOAD_COMPLETE","DOWNLOAD_IN_PROGRESS","watch","showDownloadStateView","newVal","created","computed","currentBulkAppDownloadState","$store","selectedApps","length","apps","map","downloadStates","appDownloadStates","_l","app","i","key","domProps","displayName","loadingReleases","releases","$set","serviceName","isDownloading","hasError","successApps","failedApps","error","cancelInstallation","AppsEditConfig","GridToolbar","AppsDownloadMultiStepView","ConfirmDialog","AppsUploadMultiStepView","AppsBulkDownloadMultiStepView","uninstall","deleteDatabase","editConfig","deleteAppConfig","bulkDownload","selectedItems","selectedApp","dialogNames","isFetchingAppDetails","isBulkDownloadAppPersistent","isDeletingConfig","isDeletingDatabase","isUninstallingApp","fetchDownloadStateInterval","isDeletingDownloadState","dialog","remountDialog","headers","formatAppDetails","setting","showCheckDownloadIcon","showDownloadProgressIcon","fetchDownloadAppState","fetchAppDetails","dialogName","unmount","setTimeout","syncAppDetails","openDialog","toggleDialog","$toasted","show","type","item","fetchAllInstalledApps","getFileName","downloadAppData","deleteAppConfigFile","downloadConfig","restartService","bulkDownloadApps","clearDownloadAppStateInterval","clearInterval","downloadStateInterval","setInterval","clearSelectedApps","deleteDownloadState","AppsGrid","scopedSlots","_u","fn","proxy","showFirstLastPage","firstIcon","lastIcon","prevIcon","nextIcon","_g","_b","downloadUrl","PageTitle","copyToClipboard","$copyText","message","$refs","copyClipboard","then","onCopy","dialogImportExcel","dialogImportJSON","dataImport","importFile","fileReader","readAsBinaryString","onload","handleFileLoad","firstSheet","receiveDataRows","rowObject","importJson","dataItems","ExportData","toolbarTitle","items","hideExportData","fileName","formatDataService","onDelete","isDeleteEnabled","_t","label","active","color","reloading","failed","activating","deactivating","maintenance","currentStatus","appStatus","capitalize","defaultStatus","str","String","charAt","toUpperCase","slice","class","className","isSmall","block","click","afterIcon","clickDownload","formattedData","endpoint","fetchSystemServices","http","get","changeServiceStatus","action","post","isOpen","dialogText","onClose","onConfirm","fetchApps","queryParams","qs","stringify","browser_download_url","latest_version","r","filter","is_installed","fetchSystemDefaultApps","systemSettingService","fetchAppReleases","appName","fetchAppsReleases","services","all","options","uninstallApp","installApp","body","downloadApp","uploadApp","formData","FormData","append","deleteAppDataService","appSetting","url","globalIp","rubixServicePort","responseType","fetchJSONConfig","fetchEnvConfig","appType","RUBIX_APP_TYPES","FRONTEND_APP","Error","saveAppConfig","put","saveJSONConfig","saveENVConfig","delete","deleteJSONConfig","deleteENVConfig","downloadAppConfig","exportJSON","exportENV","bulkInstallApps","fetchDownloadState","restrictToast"],"mappings":"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","file":"static/js/7.c7c8cf401709e36253ac.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"text-h5 text-left py-3\"},[_vm._v(_vm._s(_vm.title))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageTitle.vue?vue&type=script&lang=js&\"","<template>\n  <h1 class=\"text-h5 text-left py-3\">{{ title }}</h1>\n</template>\n<script>\nexport default {\n  name: 'page-title',\n  props: ['title'],\n};\n</script>\n","import { render, staticRenderFns } from \"./PageTitle.vue?vue&type=template&id=c9fcf31a&\"\nimport script from \"./PageTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./PageTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-title',{attrs:{\"title\":\"Rubix Apps\"}}),_vm._v(\" \"),_c('apps-grid')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appsEditConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appsEditConfig.vue?vue&type=script&lang=js&\"","<template>\n  <v-card :loading=\"isFetchingConfig\">\n    <v-card-title>{{ appDetail.display_name }} | Edit Config</v-card-title>\n    <v-card-text>\n      <v-container>\n        <v-jsoneditor\n          v-if=\"isConfigJSON\"\n          :options=\"{ mode: 'code' }\"\n          v-model=\"config\"\n          :plus=\"false\"\n          height=\"400px\"\n        ></v-jsoneditor>\n        <v-textarea\n          v-if=\"!isConfigJSON\"\n          outlined\n          name=\"input-7-4\"\n          label=\"Enter ENV config\"\n          v-model=\"config\"\n        ></v-textarea>\n      </v-container>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn color=\"primary\" @click=\"saveConfig\" :loading=\"isSavingConfig\"> Save </v-btn>\n      <v-btn @click=\"closeDialog\" text> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport * as appsService from '../../services/appsService';\nimport { APP_CONFIG_TYPES, JSON_CONFIG_TYPE } from '../../constants/appConstant';\nexport default {\n  name: 'app-edit-config',\n  props: ['appDetail', 'closeDialog'],\n  data() {\n    return {\n      config: null,\n      isFetchingConfig: false,\n      isSavingConfig: false,\n      isConfigJSON: false,\n    };\n  },\n  mounted() {\n    this.fetchAppConfig();\n    this.isConfigJSON = this.isJSON(this.appDetail.app_type);\n  },\n  methods: {\n    isJSON(appType) {\n      return APP_CONFIG_TYPES[appType] === JSON_CONFIG_TYPE;\n    },\n    fetchAppConfig() {\n      const serviceName = this.appDetail.service;\n      const appType = this.appDetail.app_type;\n      this.isFetchingConfig = true;\n      appsService\n        .fetchAppConfig(serviceName, appType, { restrictToast: true })\n        .then(data => {\n          this.config = data;\n        })\n        .catch(err => {})\n        .finally(() => {\n          this.isFetchingConfig = false;\n        });\n    },\n    saveConfig() {\n      const serviceName = this.appDetail.service;\n      const appType = this.appDetail.app_type;\n      this.isSavingConfig = true;\n      appsService\n        .saveAppConfig(serviceName, appType, this.config)\n        .then(data => {\n          this.$toasted.show(`Successfully updated config for ${this.appDetail.display_name}`);\n          this.closeDialog();\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to update config for ${this.appDetail.display_name}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isSavingConfig = false;\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.jsoneditor-poweredBy {\n  display: none;\n}\n.CodeMirror {\n  text-align: left !important;\n}\n.jsoneditor-field {\n  color: #fff !important;\n}\n.jsoneditor-field:hover {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-field:focus {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-value:hover {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor-value:focus {\n  background-color: darkgrey !important;\n  border: 1px solid darkgrey !important;\n}\n\n.jsoneditor {\n  border: none !important;\n}\n.jsoneditor-menu {\n  background-color: #1e1e1e !important;\n  border-bottom: none !important;\n}\n.ace-jsoneditor .ace_scroller {\n  background-color: #1e1e1e;\n}\n.ace-jsoneditor .ace_gutter {\n  background: #1e1e1e;\n  color: #333;\n}\n.ace_variable {\n  color: #fbb93e !important;\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\n  background: darkslategrey;\n}\n.ace_folding-enabled > .ace_gutter-cell {\n  color: white;\n}\n.ace-jsoneditor .ace_gutter-active-line {\n  background-color: darkslategrey;\n}\n.jsoneditor-statusbar {\n  color: #fff !important;\n  background-color: #1e1e1e !important;\n  border-top: none !important;\n}\n</style>\n","import { render, staticRenderFns } from \"./appsEditConfig.vue?vue&type=template&id=235af619&scoped=true&\"\nimport script from \"./appsEditConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./appsEditConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appsEditConfig.vue?vue&type=style&index=0&id=235af619&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"235af619\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingConfig}},[_c('v-card-title',[_vm._v(_vm._s(_vm.appDetail.display_name)+\" | Edit Config\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[(_vm.isConfigJSON)?_c('v-jsoneditor',{attrs:{\"options\":{ mode: 'code' },\"plus\":false,\"height\":\"400px\"},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}}):_vm._e(),_vm._v(\" \"),(!_vm.isConfigJSON)?_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"Enter ENV config\"},model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}}):_vm._e()],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.isSavingConfig},on:{\"click\":_vm.saveConfig}},[_vm._v(\" Save \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatus\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"white--text mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium dark> mdi-arrow-left </v-icon>\n      </v-btn>\n      <span class=\"headline\">{{ multiStepViewConfig[currentView].title }}</span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\">\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <text-field-display\n                  label=\"Active\"\n                  :value=\"(!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\"\n                ></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <app-status-chip :state=\"serviceStatus.state\"></app-status-chip>\n              </v-col>\n              <v-col cols=\"1\" class=\"text-right\">\n                <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                  <v-icon medium dark> mdi-refresh </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display\n                  label=\"Version\"\n                  :value=\"!isFetchingAppStatus && serviceStatus.version ? serviceStatus.version : '-'\"\n                ></text-field-display>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"valid\" ref=\"downloadForm\" lazy-validation>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Active\"\n                    :value=\"\n                      (!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\n                    \"\n                  ></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <app-status-chip :state=\"serviceStatus.state\"></app-status-chip>\n                </v-col>\n                <v-col cols=\"1\" class=\"text-right\">\n                  <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                    <v-icon medium dark> mdi-refresh </v-icon>\n                  </v-btn>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Version\"\n                    :value=\"!isFetchingAppStatus && serviceStatus.version ? serviceStatus.version : '-'\"\n                  ></text-field-display>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-combobox\n                    :loading=\"loading\"\n                    :items=\"appReleases\"\n                    label=\"Select Release Version\"\n                    hideSelected\n                    clearable\n                    v-model=\"selectedVersion\"\n                    item-text=\"name\"\n                    item-value=\"tag_name\"\n                    :rules=\"versionRules\"\n                  >\n                  </v-combobox>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"3\">\n            <v-row>\n              <v-col cols=\"6\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name + ' - ' + appDetails.service }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Version</div>\n                <div class=\"font-weight-medium\">\n                  {{ isFetchingAppStatus ? '-' : selectedVersion }}\n                </div>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"4\">\n            <v-row>\n              <v-col cols=\"12\" class=\"text-left\">\n                <div class=\"font-weight-large\">Successfully installed {{ appDetails.display_name }} app.</div>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">\n                  <span>Version</span>\n                </div>\n                <div class=\"font-weight-medium\">\n                  {{ selectedVersion }}\n                </div>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        color=\"primary\"\n        @click=\"next\"\n        :loading=\"multiStepViewConfig[currentView].loader\"\n        v-if=\"multiStepViewConfig[currentView].hasForward\"\n      >\n        {{\n          typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n            ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n            : multiStepViewConfig[currentView].buttonLabel\n        }}\n      </v-btn>\n      <v-btn @click=\"cancel\" text> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n\n  <!-- <v-progress-circular indeterminate size=\"64\"></v-progress-circular> -->\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport * as appsService from '../../services/appsService';\nimport { RUBIX_APP_STATUS_CONTROL_ACTIONS, ALWAYS_RUNNING_RUBIX_APP } from '../../constants/appConstant';\n\nfunction shouldStopRubixApp(serviceInfo) {\n  return serviceInfo.status && ALWAYS_RUNNING_RUBIX_APP.RUBIX_PLAT !== serviceInfo.service;\n}\n\nexport default {\n  name: 'apps-download-multi-step',\n  props: ['app-details', 'close-dialog', 'deleteDownloadState'],\n  components: { AppStatusChip, TextFieldDisplay },\n  data() {\n    return {\n      valid: false,\n      currentView: 1,\n      appReleases: [],\n      serviceStatus: {},\n      isFetchingAppStatus: false,\n      selectedVersion: null,\n      multiStepViewConfig: {\n        1: {\n          back: 1,\n          forward: 2,\n          title: 'App Status',\n          hasBack: false,\n          hasForward: true,\n          buttonLabel: serviceInfo => {\n            if (shouldStopRubixApp(serviceInfo)) {\n              return 'Stop';\n            }\n            return 'Continue';\n          },\n          loader: false,\n        },\n        2: {\n          back: 1,\n          forward: 3,\n          title: 'Download App',\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Download',\n          loader: false,\n        },\n        3: {\n          back: 2,\n          forward: 4,\n          title: 'Install App',\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Install',\n          loader: false,\n        },\n        4: {\n          back: 3,\n          forward: 4,\n          title: 'Installation Complete',\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Ok',\n          loader: false,\n        },\n      },\n      loading: true,\n      rules: {\n        required: value => !!value || 'Required.',\n      },\n      versionRules: [value => !!value || 'Version No. is required.'],\n    };\n  },\n  async mounted() {\n    const appName = this.appDetails.service;\n    this.loading = true;\n    await this.fetchAppStatus();\n    await appsService\n      .fetchAppReleases(appName)\n      .then(releases => {\n        this.appReleases = releases;\n        this.loading = false;\n      })\n      .catch(err => {\n        console.error(err);\n      })\n      .finally(() => {\n        this.loading = false;\n      });\n  },\n  methods: {\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    cancel() {\n      this.closeDialog(true);\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      const serviceStatus = this.serviceStatus.status;\n      const serviceName = this.serviceStatus.service;\n      if (shouldStopRubixApp(this.serviceStatus)) {\n        this.spinLoader(true);\n        appsService\n          .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP, serviceName)\n          .then(data => {\n            this.spinLoader(false);\n            this.currentView++;\n            return this.fetchAppStatus();\n          })\n          .catch(err => {\n            this.spinLoader(false);\n          });\n      } else {\n        this.currentView++;\n      }\n    },\n    continue() {\n      this.closeDialog(true);\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    async download() {\n      const valid = this.$refs.downloadForm.validate();\n      if (!valid) {\n        return;\n      }\n      this.spinLoader(true);\n\n      const data = {\n        service: this.appDetails.service,\n        version: this.selectedVersion,\n      };\n\n      appsService\n        .downloadApp(data)\n        .then(res => {\n          this.spinLoader(false);\n          this.currentView++;\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.versionRules.push(() => err.message);\n            this.$refs.downloadForm.validate();\n            this.versionRules.pop();\n          }\n          this.spinLoader(false);\n        });\n    },\n    install() {\n      this.spinLoader(true);\n      const data = {\n        service: this.appDetails.service,\n        version: this.selectedVersion,\n      };\n\n      appsService\n        .installApp(data)\n        .then(res => {\n          this.spinLoader(false);\n          this.fetchAppStatus();\n          this.currentView++;\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          this.currentView--;\n          if (err && err.message) {\n            this.versionRules.push(() => err.message);\n            this.$refs.downloadForm.validate();\n            this.versionRules.pop();\n          }\n        })\n        .finally(() => {\n          this.deleteDownloadState();\n        });\n    },\n    fetchAppStatus() {\n      this.isFetchingAppStatus = true;\n      return appsService\n        .fetchAppStatus(this.appDetails.service, { restrictToast: true })\n        .then(data => {\n          this.selectedVersion = data.version;\n          this.serviceStatus = data;\n        })\n        .catch(err => {\n          this.selectedVersion = null;\n          this.serviceStatus = {};\n        })\n        .finally(() => {\n          this.isFetchingAppStatus = false;\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsDownloadMultiStep.vue?vue&type=template&id=3c75240c&\"\nimport script from \"./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsDownloadMultiStep.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatus}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"white--text mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.multiStepViewConfig[_vm.currentView].title))])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Version\",\"value\":!_vm.isFetchingAppStatus && _vm.serviceStatus.version ? _vm.serviceStatus.version : '-'}})],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"downloadForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Version\",\"value\":!_vm.isFetchingAppStatus && _vm.serviceStatus.version ? _vm.serviceStatus.version : '-'}})],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-combobox',{attrs:{\"loading\":_vm.loading,\"items\":_vm.appReleases,\"label\":\"Select Release Version\",\"hideSelected\":\"\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(_vm.selectedVersion),callback:function ($$v) {_vm.selectedVersion=$$v},expression:\"selectedVersion\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"6\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name + ' - ' + _vm.appDetails.service)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.isFetchingAppStatus ? '-' : _vm.selectedVersion)+\"\\n              \")])])],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"font-weight-large\"},[_vm._v(\"Successfully installed \"+_vm._s(_vm.appDetails.display_name)+\" app.\")])])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(\"Version\")])]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.selectedVersion)+\"\\n              \")])])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader},on:{\"click\":_vm.next}},[_vm._v(\"\\n      \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n          ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n          : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatus\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"white--text mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium dark> mdi-arrow-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\">{{ multiStepViewConfig[currentView].title(appDetails.display_name) }}</span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\">\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n              </v-col>\n              <v-col cols=\"2\" class=\"text-left\">\n                <text-field-display\n                  label=\"Active\"\n                  :value=\"(!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\"\n                ></text-field-display>\n              </v-col>\n              <v-col cols=\"3\" class=\"text-left\">\n                <app-status-chip v-if=\"!isFetchingAppStatus\" :state=\"serviceStatus.state\"></app-status-chip>\n              </v-col>\n              <v-col cols=\"1\" class=\"text-right\">\n                <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                  <v-icon medium dark> mdi-refresh </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"valid\" ref=\"uploadForm\" lazy-validation>\n              <v-row>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <text-field-display label=\"Name\" :value=\"appDetails.display_name\"></text-field-display>\n                </v-col>\n                <v-col cols=\"2\" class=\"text-left\">\n                  <text-field-display\n                    label=\"Active\"\n                    :value=\"\n                      (!isFetchingAppStatus && serviceStatus.time_since ? serviceStatus.time_since : '-') || 'N/A'\n                    \"\n                  ></text-field-display>\n                </v-col>\n                <v-col cols=\"3\" class=\"text-left\">\n                  <app-status-chip v-if=\"!isFetchingAppStatus\" :state=\"serviceStatus.state\"></app-status-chip>\n                </v-col>\n                <v-col cols=\"1\" class=\"text-right\">\n                  <v-btn @click=\"fetchAppStatus\" icon medium color=\"success\" class=\"white--text\">\n                    <v-icon medium dark> mdi-refresh </v-icon>\n                  </v-btn>\n                </v-col>\n              </v-row>\n              <v-row cols=\"8\" class=\"pa-3\">\n                <v-file-input\n                  v-model=\"file\"\n                  :rules=\"[rules.required]\"\n                  counter\n                  show-size\n                  @change=\"onFileSelect\"\n                  truncate-length=\"15\"\n                ></v-file-input>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\" class=\"text-left ml-8\">\n                  <v-text-field\n                    label=\"Version\"\n                    type=\"text\"\n                    single-line\n                    v-model=\"version\"\n                    :rules=\"[rules.required]\"\n                  ></v-text-field>\n                </v-col>\n              </v-row>\n              <v-alert v-if=\"errorMessage\" class=\"text-left\" dense outlined type=\"error\">\n                {{ errorMessage }}\n              </v-alert>\n            </v-form>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"3\">\n            <v-row>\n              <v-col cols=\"6\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name + ' - ' + appDetails.service }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text mb-2 caption\">Version</div>\n                <div class=\"font-weight-medium\">\n                  {{ version }}\n                </div>\n              </v-col>\n              <v-col cols=\"12\" class=\"text-left\" v-if=\"serviceStatus.app_type === rubixAppTypes.PYTHON_APP\">\n                <rbx-button\n                  v-if=\"!isDeleteAppData\"\n                  color=\"pink\"\n                  :click=\"toggleDeleteAppData\"\n                  title=\"Delete App Data\"\n                ></rbx-button>\n                <v-card v-if=\"isDeleteAppData\">\n                  <v-card-title class=\"headline\"> Confirm? </v-card-title>\n                  <v-card-text>Do you want to delete app data?</v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"green darken-1\" text @click=\"isDeleteAppData = false\"> Cancel </v-btn>\n                    <v-btn color=\"red darken-1\" :loading=\"isDeletingAppData\" text @click=\"deleteAppData\"> Yes </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n\n          <v-stepper-content step=\"4\">\n            <v-row>\n              <v-col cols=\"12\" class=\"text-left\">\n                <div class=\"font-weight-large\">Successfully installed {{ appDetails.display_name }} app.</div>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">Name</div>\n                <div class=\"font-weight-medium\">\n                  {{ appDetails.display_name }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\" class=\"text-left\">\n                <div class=\"grey--text caption mb-2\">\n                  <span>Version</span>\n                </div>\n                <div class=\"font-weight-medium\">\n                  {{ serviceStatus.version }}\n                </div>\n              </v-col>\n              <v-col cols=\"4\">\n                <rbx-button color=\"success\" :click=\"startApp\" :loading=\"isStartingApp\" title=\"Start App\"></rbx-button>\n              </v-col>\n            </v-row>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        color=\"primary\"\n        @click=\"next\"\n        :loading=\"multiStepViewConfig[currentView].loader\"\n        v-if=\"multiStepViewConfig[currentView].hasForward\"\n      >\n        {{\n          typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n            ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n            : multiStepViewConfig[currentView].buttonLabel\n        }}\n      </v-btn>\n      <v-btn @click=\"cancel\" text> Cancel </v-btn>\n    </v-card-actions>\n  </v-card>\n\n  <!-- <v-progress-circular indeterminate size=\"64\"></v-progress-circular> -->\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip.vue';\nimport TextFieldDisplay from '../Common/TextFieldDisplay.vue';\nimport * as appsService from '../../services/appsService';\nimport RbxButton from '../Common/RbxButton';\nimport {\n  RUBIX_APP_STATUS_CONTROL_ACTIONS,\n  ALWAYS_RUNNING_RUBIX_APP,\n  RUBIX_APP_TYPES,\n} from '../../constants/appConstant';\n\nfunction shouldStopRubixApp(serviceInfo) {\n  return serviceInfo.status && ALWAYS_RUNNING_RUBIX_APP.RUBIX_PLAT !== serviceInfo.service;\n}\n\nexport default {\n  name: 'apps-upload-multi-step',\n  props: ['app-details', 'close-dialog'],\n  components: { AppStatusChip, TextFieldDisplay, RbxButton },\n  data() {\n    return {\n      isDeleteAppData: false,\n      isDeletingAppData: false,\n      valid: false,\n      currentView: 1,\n      version: null,\n      serviceStatus: {},\n      isFetchingAppStatus: false,\n      isStartingApp: false,\n      errorMessage: '',\n      file: null,\n      rubixAppTypes: RUBIX_APP_TYPES,\n      multiStepViewConfig: {\n        1: {\n          back: 1,\n          forward: 2,\n          title: serviceName => `${serviceName} | App Status`,\n          hasBack: false,\n          hasForward: true,\n          buttonLabel: serviceInfo => {\n            if (shouldStopRubixApp(serviceInfo)) {\n              return 'Stop';\n            }\n            return 'Continue';\n          },\n          loader: false,\n        },\n        2: {\n          back: 1,\n          forward: 3,\n          title: serviceName => `${serviceName} | Upload App`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Upload',\n          loader: false,\n        },\n        3: {\n          back: 2,\n          forward: 4,\n          title: serviceName => `${serviceName} | Install App`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Install',\n          loader: false,\n        },\n        4: {\n          back: 3,\n          forward: 4,\n          title: serviceName => `${serviceName} | Installation Complete`,\n          hasBack: true,\n          hasForward: true,\n          buttonLabel: 'Ok',\n          loader: false,\n        },\n      },\n      loading: true,\n      rules: {\n        required: value => !!value || 'Required.',\n      },\n      versionRules: [value => !!value || 'Version No. is required.'],\n    };\n  },\n  async mounted() {\n    await this.fetchAppStatus();\n  },\n  methods: {\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    cancel() {\n      this.closeDialog(true);\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.upload();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      const serviceStatus = this.serviceStatus.status;\n      const serviceName = this.serviceStatus.service;\n      if (shouldStopRubixApp(this.serviceStatus)) {\n        this.spinLoader(true);\n        appsService\n          .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.STOP, serviceName)\n          .then(data => {\n            this.spinLoader(false);\n            this.currentView++;\n            return this.fetchAppStatus();\n          })\n          .catch(err => {\n            this.spinLoader(false);\n          });\n      } else {\n        this.currentView++;\n      }\n    },\n    startApp() {\n      const serviceName = this.serviceStatus.service;\n      this.isStartingApp = true;\n      appsService\n        .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.START, serviceName)\n        .then(data => {\n          this.$toasted.show(`Successfully started ${serviceName}`);\n          this.continue();\n          return this.fetchAppStatus();\n        })\n        .catch(err => {\n          this.$toasted.show(`Could not start ${serviceName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isStartingApp = false;\n        });\n    },\n    continue() {\n      this.closeDialog(true);\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    upload() {\n      const valid = this.$refs.uploadForm.validate();\n      if (!valid) {\n        return;\n      }\n      this.spinLoader(true);\n      appsService\n        .uploadApp(this.file, this.appDetails.service, this.version)\n        .then(res => {\n          this.currentView++;\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.errorMessage = err.message;\n          }\n        })\n        .finally(() => {\n          this.spinLoader(false);\n        });\n    },\n    install() {\n      this.spinLoader(true);\n      const data = {\n        service: this.appDetails.service,\n        version: this.version,\n      };\n\n      appsService\n        .installApp(data)\n        .then(res => {\n          this.spinLoader(false);\n          this.fetchAppStatus();\n          this.currentView++;\n          this.errorMessage = '';\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          if (shouldStopRubixApp(this.serviceStatus)) {\n            this.currentView--;\n          } else {\n            this.currentView++;\n          }\n          if (err && err.message && shouldStopRubixApp(this.serviceStatus)) {\n            this.errorMessage = err.message;\n          }\n        });\n    },\n    fetchAppStatus() {\n      this.isFetchingAppStatus = true;\n      return appsService\n        .fetchAppStatus(this.appDetails.service, { restrictToast: true })\n        .then(data => {\n          this.serviceStatus = data;\n        })\n        .catch(err => {\n          this.serviceStatus = {};\n        })\n        .finally(() => {\n          this.isFetchingAppStatus = false;\n        });\n    },\n    onFileSelect() {\n      if (this.file && this.file.name) {\n        const fileName = this.file.name;\n        const versionRegex = new RegExp('[0-9].[0-9].[0-9]');\n        let versionNumber = fileName.match(versionRegex, '');\n        if (versionNumber && Array.isArray(versionNumber)) {\n          versionNumber = versionNumber[0];\n          this.version = 'v' + versionNumber;\n        }\n      }\n    },\n    deleteAppData() {\n      this.isDeletingAppData = true;\n      appsService\n        .deleteAppData(this.serviceStatus.service)\n        .then(() => {\n          this.$toasted.show('Successfully deleted app data');\n          this.isDeleteAppData = false;\n        })\n        .catch(() => {\n          this.$toasted.show('Cannot deleted app data', { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingAppData = false;\n        });\n    },\n    toggleDeleteAppData() {\n      this.isDeleteAppData = !this.isDeleteAppData;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsUploadMultiStepView.vue?vue&type=template&id=171d3d63&\"\nimport script from \"./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsUploadMultiStepView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatus}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"white--text mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(_vm._s(_vm.multiStepViewConfig[_vm.currentView].title(_vm.appDetails.display_name)))])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"2\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[(!_vm.isFetchingAppStatus)?_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}}):_vm._e()],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"uploadForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":_vm.appDetails.display_name}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"2\"}},[_c('text-field-display',{attrs:{\"label\":\"Active\",\"value\":(!_vm.isFetchingAppStatus && _vm.serviceStatus.time_since ? _vm.serviceStatus.time_since : '-') || 'N/A'}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"3\"}},[(!_vm.isFetchingAppStatus)?_c('app-status-chip',{attrs:{\"state\":_vm.serviceStatus.state}}):_vm._e()],1),_vm._v(\" \"),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"medium\":\"\",\"color\":\"success\"},on:{\"click\":_vm.fetchAppStatus}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-refresh \")])],1)],1)],1),_vm._v(\" \"),_c('v-row',{staticClass:\"pa-3\",attrs:{\"cols\":\"8\"}},[_c('v-file-input',{attrs:{\"rules\":[_vm.rules.required],\"counter\":\"\",\"show-size\":\"\",\"truncate-length\":\"15\"},on:{\"change\":_vm.onFileSelect},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left ml-8\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Version\",\"type\":\"text\",\"single-line\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}})],1)],1),_vm._v(\" \"),(_vm.errorMessage)?_c('v-alert',{staticClass:\"text-left\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.errorMessage)+\"\\n            \")]):_vm._e()],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"6\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name + ' - ' + _vm.appDetails.service)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text mb-2 caption\"},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.version)+\"\\n              \")])]),_vm._v(\" \"),(_vm.serviceStatus.app_type === _vm.rubixAppTypes.PYTHON_APP)?_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[(!_vm.isDeleteAppData)?_c('rbx-button',{attrs:{\"color\":\"pink\",\"click\":_vm.toggleDeleteAppData,\"title\":\"Delete App Data\"}}):_vm._e(),_vm._v(\" \"),(_vm.isDeleteAppData)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Confirm? \")]),_vm._v(\" \"),_c('v-card-text',[_vm._v(\"Do you want to delete app data?\")]),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.isDeleteAppData = false}}},[_vm._v(\" Cancel \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"loading\":_vm.isDeletingAppData,\"text\":\"\"},on:{\"click\":_vm.deleteAppData}},[_vm._v(\" Yes \")])],1)],1):_vm._e()],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"font-weight-large\"},[_vm._v(\"Successfully installed \"+_vm._s(_vm.appDetails.display_name)+\" app.\")])])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.appDetails.display_name)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(\"Version\")])]),_vm._v(\" \"),_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\"\\n                \"+_vm._s(_vm.serviceStatus.version)+\"\\n              \")])]),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('rbx-button',{attrs:{\"color\":\"success\",\"click\":_vm.startApp,\"loading\":_vm.isStartingApp,\"title\":\"Start App\"}})],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader},on:{\"click\":_vm.next}},[_vm._v(\"\\n      \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n          ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n          : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"isFetchingAppStatuses\">\n    <v-card-title>\n      <v-btn @click=\"back\" icon medium class=\"white--text mr-1\" v-if=\"multiStepViewConfig[currentView].hasBack\">\n        <v-icon medium dark> mdi-arrow-left </v-icon>\n      </v-btn>\n      <span class=\"sub-headline\"> Bulk Apps | {{ multiStepViewConfig[currentView].title }} </span>\n    </v-card-title>\n    <v-card-text>\n      <v-stepper v-model=\"currentView\">\n        <v-stepper-header>\n          <v-stepper-step :complete=\"currentView > 1\" step=\"1\"> 1 </v-stepper-step>\n\n          <v-divider></v-divider>\n          <v-stepper-step :complete=\"currentView > 2\" step=\"2\"> 2 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step :complete=\"currentView > 3\" step=\"3\"> 3 </v-stepper-step>\n\n          <v-divider></v-divider>\n\n          <v-stepper-step step=\"4\"> 4 </v-stepper-step>\n        </v-stepper-header>\n\n        <v-stepper-items>\n          <v-stepper-content step=\"1\" class=\"pa-0\">\n            <v-alert class=\"mb-0\" v-if=\"!hasSelectedApps\" dense type=\"info\">\n              Please select apps from the grid to bulk download.\n            </v-alert>\n            <v-list flat subheader dense class=\"text-left\">\n              <v-subheader>Selected Apps</v-subheader>\n\n              <v-list-item v-for=\"(app, i) in apps\" :key=\"`selected_apps-${i}`\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"app.displayName\"></v-list-item-title>\n                  <v-list-item-subtitle v-text=\"app.version\"></v-list-item-subtitle>\n                </v-list-item-content>\n                <v-list-item-icon>\n                  <app-status-chip :state=\"app.state\"></app-status-chip>\n                </v-list-item-icon>\n              </v-list-item>\n            </v-list>\n          </v-stepper-content>\n          <v-stepper-content step=\"2\">\n            <v-form v-model=\"versionForm\" ref=\"versionForm\" lazy-validation>\n              <v-row dense class=\"text-left\">\n                <v-col cols=\"12\" v-for=\"(app, i) in apps\" :key=\"`version-form-${renderReleaseCount}-${i}`\">\n                  <v-row dense>\n                    <v-col cols=\"4\">\n                      <text-field-display label=\"Name\" :value=\"app.displayName\"></text-field-display>\n                    </v-col>\n                    <v-col cols=\"8\">\n                      <v-combobox\n                        :loading=\"app.loadingReleases\"\n                        :items=\"app.releases\"\n                        label=\"Select Release Version\"\n                        hideSelected\n                        clearable\n                        v-model=\"app.version\"\n                        item-text=\"name\"\n                        item-value=\"tag_name\"\n                        :rules=\"versionRules\"\n                      >\n                      </v-combobox>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-stepper-content>\n          <v-stepper-content step=\"3\" class=\"pa-0\">\n            <div>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_IN_PROGRESS'\" dense type=\"info\">\n                Downloading Selected App(s) <strong>Please Wait!</strong>\n              </v-alert>\n              <v-alert class=\"mb-0\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\" dense type=\"success\">\n                Downloading Completed\n              </v-alert>\n            </div>\n            <v-list flat subheader dense class=\"text-left\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-subheader>App Download Statuses</v-subheader>\n\n              <v-list-item v-for=\"(app, i) in downloadStates\" :key=\"`download-statuses-${i}`\">\n                <v-list-item-content>\n                  <v-list-item-title v-text=\"app.serviceName\"></v-list-item-title>\n                  <v-list-item-subtitle v-text=\"app.version\"></v-list-item-subtitle>\n                </v-list-item-content>\n                <v-list-item-icon>\n                  <div v-if=\"app.isDownloading\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"yellow\">Downloading</v-chip>\n                    </span>\n                  </div>\n                  <div v-else-if=\"app.hasError\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"red\">Failed</v-chip>\n                    </span>\n                  </div>\n                  <div v-else-if=\"!app.isDownloading && !app.hasError\">\n                    <span class=\"font-weight-medium\">\n                      <v-chip outlined color=\"green\">Downloaded</v-chip>\n                    </span>\n                  </div>\n                </v-list-item-icon>\n              </v-list-item>\n            </v-list>\n          </v-stepper-content>\n          <v-stepper-content step=\"4\" class=\"pa-0\">\n            <v-list flat subheader dense class=\"text-left\" v-if=\"currentDownloadState === 'DOWNLOAD_COMPLETE'\">\n              <v-list-item-group v-if=\"successInstallApps.length > 0\">\n                <v-subheader>Installation Completed Apps</v-subheader>\n\n                <v-list-item v-for=\"(successApps, i) in successInstallApps\" :key=\"`install-complete-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"successApps.service\"></v-list-item-title>\n                    <v-list-item-subtitle v-text=\"successApps.version\"></v-list-item-subtitle>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"blue\">Installed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n              <v-list-item-group v-if=\"failureInstallApps.length > 0\">\n                <v-subheader> Installation Failed Apps</v-subheader>\n                <v-list-item v-for=\"(failedApps, i) in failureInstallApps\" :key=\"`installation-failed-${i}`\">\n                  <v-list-item-content>\n                    <v-list-item-title v-text=\"failedApps.service\"></v-list-item-title>\n                    <v-list-item-subtitle v-text=\"failedApps.version\"></v-list-item-subtitle>\n                    <v-list-item-subtitle v-text=\"failedApps.error\"></v-list-item-subtitle>\n                  </v-list-item-content>\n                  <v-list-item-icon>\n                    <div>\n                      <span class=\"font-weight-medium\">\n                        <v-chip outlined color=\"red\">Failed</v-chip>\n                      </span>\n                    </div>\n                  </v-list-item-icon>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-stepper-content>\n        </v-stepper-items>\n      </v-stepper>\n    </v-card-text>\n    <v-card-actions>\n      <v-card-actions>\n        <v-btn\n          color=\"primary\"\n          @click=\"next\"\n          :loading=\"multiStepViewConfig[currentView].loader\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasForward\"\n        >\n          {{\n            typeof multiStepViewConfig[currentView].buttonLabel === 'function'\n              ? multiStepViewConfig[currentView].buttonLabel(serviceStatus)\n              : multiStepViewConfig[currentView].buttonLabel\n          }}\n        </v-btn>\n        <v-btn\n          color=\"pink\"\n          :disabled=\"multiStepViewConfig[currentView].disabled\"\n          v-if=\"multiStepViewConfig[currentView].hasCancelInstallation\"\n          @click=\"cancelInstallation\"\n          text\n        >\n          Cancel Install\n        </v-btn>\n\n        <v-btn v-if=\"multiStepViewConfig[currentView].hasCancel\" @click=\"cancel\" text> Close </v-btn>\n      </v-card-actions>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport AppStatusChip from '../Services/AppStatusChip';\nimport _zipObject from 'lodash/zipObject';\nimport TextFieldDisplay from '../Common/TextFieldDisplay';\nimport * as appsService from '../../services/appsService';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  props: [\n    'selectedApps',\n    'clearSelectedApps',\n    'closeDialog',\n    'fetchDownloadAppState',\n    'currentDownloadState',\n    'appDownloadStates',\n    'clearDownloadAppStateInterval',\n    'deleteDownloadState',\n  ],\n  components: {\n    AppStatusChip,\n    TextFieldDisplay,\n  },\n  data() {\n    return {\n      versionForm: false,\n      renderReleaseCount: 0,\n      isFetchingAppStatuses: false,\n      successInstallApps: [],\n      failureInstallApps: [],\n      currentView: 1,\n      refreshTime: 10000,\n      versionRules: [value => !!value || 'Version No. is required.'],\n      multiStepViewConfig: {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n          disabled: false,\n          hasCancel: true,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          hasCancelInstallation: true,\n          loader: false,\n          disabled: true,\n          hasCancel: true,\n          cancelTitle: 'Close',\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n          disabled: false,\n          hasCancel: false,\n        },\n      },\n    };\n  },\n  updated() {\n    if (!this.hasSelectedApps && !this.currentDownloadState && this.currentDownloadState !== DOWNLOAD_COMPLETE) {\n      this.currentView = 1;\n      this.multiStepViewConfig[1].disabled = true;\n    } else {\n      this.multiStepViewConfig[1].disabled = false;\n    }\n\n    if (this.currentDownloadState === DOWNLOAD_IN_PROGRESS || !this.currentDownloadState) {\n      this.multiStepViewConfig[3].disabled = true;\n    } else {\n      this.multiStepViewConfig[3].disabled = false;\n    }\n  },\n  watch: {\n    currentDownloadState: function (newVal, oldVal) {\n      this.showDownloadStateView(newVal);\n    },\n  },\n  created() {\n    this.showDownloadStateView(this.currentDownloadState);\n  },\n  computed: {\n    currentBulkAppDownloadState() {\n      return this.$store.state.currentBulkAppDownloadState;\n    },\n    hasSelectedApps() {\n      return this.selectedApps.length > 0;\n    },\n    apps() {\n      return this.selectedApps.map(app => ({\n        serviceName: app.service,\n        state: app.state,\n        version: app.version,\n        latestVersion: app.latest_version,\n        minVersion: app.min_support_version,\n        displayName: app.display_name,\n        loadingReleases: false,\n        releases: [],\n      }));\n    },\n    downloadStates() {\n      if (Array.isArray(this.appDownloadStates) && this.appDownloadStates.length > 0) {\n        this.currentView = 3;\n      }\n      return (this.appDownloadStates || []).map(downloadState => ({\n        isDownloading: !downloadState.download,\n        version: downloadState.version,\n        serviceName: downloadState.service,\n        hasError: !!downloadState.error,\n        errorMessage: downloadState.error,\n      }));\n    },\n  },\n  created() {\n    this.fetchAppsReleases();\n  },\n  methods: {\n    back() {\n      this.currentView = this.currentView - 1;\n    },\n    spinLoader(value) {\n      this.multiStepViewConfig[this.currentView].loader = value;\n    },\n    showDownloadStateView(currentDownloadState) {\n      switch (currentDownloadState) {\n        case DOWNLOAD_IN_PROGRESS:\n          this.currentView = 3; // Download Waiting screen\n          break;\n        case DOWNLOAD_COMPLETE:\n          this.currentView = 3; // Show the download report page\n          this.clearDownloadAppStateInterval();\n          break;\n      }\n    },\n    fetchAppsReleases() {\n      const serviceNames = this.selectedApps.map(val => val.service);\n\n      this.apps.forEach(app => {\n        app.loadingReleases = true;\n      });\n\n      return appsService\n        .fetchAppsReleases(serviceNames)\n        .then(appVersions => {\n          this.apps.forEach((app, index) => {\n            app.releases = appVersions[index];\n          });\n        })\n        .catch(() => {\n          this.$toasted.show('Error fetching available releases');\n        })\n        .finally(() => {\n          this.apps.forEach(app => {\n            app.loadingReleases = false;\n          });\n          this.renderReleaseCount++;\n        });\n    },\n    disableInstallationButton() {\n      this.multiStepViewConfig[3].disabled = true;\n    },\n    bulkDownloadApps() {\n      this.currentView = 3;\n      this.disableInstallationButton();\n      const payload = this.apps.map(app => ({ version: app.version, service: app.serviceName }));\n      this.spinLoader(true);\n      const donwloadPromise = appsService\n        .bulkDownloadApps(payload)\n        .then(() => {\n          this.spinLoader(false);\n          this.fetchDownloadAppState();\n        })\n        .catch(err => {\n          this.spinLoader(false);\n        });\n\n      return donwloadPromise;\n    },\n    async next(step) {\n      const currentView = this.currentView;\n      switch (currentView) {\n        case 1:\n          this.stopAndContinue();\n          break;\n        case 2:\n          this.download();\n          break;\n        case 3:\n          this.install();\n          break;\n        case 4:\n          this.continue();\n          break;\n        default:\n          this.currentView++;\n          break;\n      }\n    },\n    stopAndContinue() {\n      this.currentView++;\n    },\n    download() {\n      if (!this.$refs.versionForm.validate()) {\n        return;\n      }\n      this.bulkDownloadApps();\n    },\n    install() {\n      const installPayload = this.downloadStates\n        .filter(val => !val.hasError)\n        .map(val => ({\n          service: val.serviceName,\n          version: val.version,\n        }));\n      this.spinLoader(true);\n      return appsService\n        .bulkInstallApps(installPayload)\n        .then(data => {\n          this.spinLoader(false);\n          this.currentView = 4; // Installation complete\n          this.successInstallApps = data.filter(val => val.installation);\n          this.failureInstallApps = data.filter(val => !val.installation);\n        })\n        .catch(err => {\n          this.spinLoader(false);\n          this.deleteDownloadState();\n          this.$toasted.show('Unexpected error occured while bulk installing apps. Please try again');\n        });\n    },\n    continue() {\n      this.resetDialog();\n    },\n    cancel() {\n      this.fetchDownloadAppState();\n      this.closeDialog();\n    },\n    cancelInstallation() {\n      this.resetDialog();\n    },\n    resetDialog() {\n      this.versionForm = false;\n      this.renderReleaseCount = 0;\n      this.isFetchingAppStatuses = false;\n      this.currentView = 1;\n      this.multiStepViewConfig = {\n        1: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Selected Apps',\n          buttonLabel: 'Continue',\n          loader: false,\n        },\n        2: {\n          hasBack: true,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Download App',\n          loader: false,\n        },\n        3: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Download',\n          buttonLabel: 'Install',\n          loader: false,\n        },\n        4: {\n          hasBack: false,\n          hasForward: true,\n          title: 'Installation Complete',\n          buttonLabel: 'Ok',\n          loader: false,\n        },\n      };\n      this.deleteDownloadState();\n      this.fetchAppsReleases();\n      this.clearSelectedApps();\n      this.closeDialog(true, { unmount: true });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppsBulkDownloadMultiStep.vue?vue&type=template&id=4dc94440&\"\nimport script from \"./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsBulkDownloadMultiStep.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.isFetchingAppStatuses}},[_c('v-card-title',[(_vm.multiStepViewConfig[_vm.currentView].hasBack)?_c('v-btn',{staticClass:\"white--text mr-1\",attrs:{\"icon\":\"\",\"medium\":\"\"},on:{\"click\":_vm.back}},[_c('v-icon',{attrs:{\"medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sub-headline\"},[_vm._v(\" Bulk Apps | \"+_vm._s(_vm.multiStepViewConfig[_vm.currentView].title)+\" \")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 1,\"step\":\"1\"}},[_vm._v(\" 1 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 2,\"step\":\"2\"}},[_vm._v(\" 2 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"complete\":_vm.currentView > 3,\"step\":\"3\"}},[_vm._v(\" 3 \")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\" 4 \")])],1),_vm._v(\" \"),_c('v-stepper-items',[_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"1\"}},[(!_vm.hasSelectedApps)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n            Please select apps from the grid to bulk download.\\n          \")]):_vm._e(),_vm._v(\" \"),_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"Selected Apps\")]),_vm._v(\" \"),_vm._l((_vm.apps),function(app,i){return _c('v-list-item',{key:(\"selected_apps-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.displayName)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(app.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('app-status-chip',{attrs:{\"state\":app.state}})],1)],1)})],2)],1),_vm._v(\" \"),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"versionForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.versionForm),callback:function ($$v) {_vm.versionForm=$$v},expression:\"versionForm\"}},[_c('v-row',{staticClass:\"text-left\",attrs:{\"dense\":\"\"}},_vm._l((_vm.apps),function(app,i){return _c('v-col',{key:(\"version-form-\" + _vm.renderReleaseCount + \"-\" + i),attrs:{\"cols\":\"12\"}},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('text-field-display',{attrs:{\"label\":\"Name\",\"value\":app.displayName}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-combobox',{attrs:{\"loading\":app.loadingReleases,\"items\":app.releases,\"label\":\"Select Release Version\",\"hideSelected\":\"\",\"clearable\":\"\",\"item-text\":\"name\",\"item-value\":\"tag_name\",\"rules\":_vm.versionRules},model:{value:(app.version),callback:function ($$v) {_vm.$set(app, \"version\", $$v)},expression:\"app.version\"}})],1)],1)],1)}),1)],1)],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"3\"}},[_c('div',[(_vm.currentDownloadState === 'DOWNLOAD_IN_PROGRESS')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\"\\n              Downloading Selected App(s) \"),_c('strong',[_vm._v(\"Please Wait!\")])]):_vm._e(),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_vm._v(\"\\n              Downloading Completed\\n            \")]):_vm._e()],1),_vm._v(\" \"),(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[_c('v-subheader',[_vm._v(\"App Download Statuses\")]),_vm._v(\" \"),_vm._l((_vm.downloadStates),function(app,i){return _c('v-list-item',{key:(\"download-statuses-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(app.serviceName)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(app.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[(app.isDownloading)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"yellow\"}},[_vm._v(\"Downloading\")])],1)]):(app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)]):(!app.isDownloading && !app.hasError)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"green\"}},[_vm._v(\"Downloaded\")])],1)]):_vm._e()])],1)})],2):_vm._e()],1),_vm._v(\" \"),_c('v-stepper-content',{staticClass:\"pa-0\",attrs:{\"step\":\"4\"}},[(_vm.currentDownloadState === 'DOWNLOAD_COMPLETE')?_c('v-list',{staticClass:\"text-left\",attrs:{\"flat\":\"\",\"subheader\":\"\",\"dense\":\"\"}},[(_vm.successInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\"Installation Completed Apps\")]),_vm._v(\" \"),_vm._l((_vm.successInstallApps),function(successApps,i){return _c('v-list-item',{key:(\"install-complete-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(successApps.service)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(successApps.version)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"blue\"}},[_vm._v(\"Installed\")])],1)])])],1)})],2):_vm._e(),_vm._v(\" \"),(_vm.failureInstallApps.length > 0)?_c('v-list-item-group',[_c('v-subheader',[_vm._v(\" Installation Failed Apps\")]),_vm._v(\" \"),_vm._l((_vm.failureInstallApps),function(failedApps,i){return _c('v-list-item',{key:(\"installation-failed-\" + i)},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(failedApps.service)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.version)}}),_vm._v(\" \"),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(failedApps.error)}})],1),_vm._v(\" \"),_c('v-list-item-icon',[_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Failed\")])],1)])])],1)})],2):_vm._e()],1):_vm._e()],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-card-actions',[(_vm.multiStepViewConfig[_vm.currentView].hasForward)?_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.multiStepViewConfig[_vm.currentView].loader,\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled},on:{\"click\":_vm.next}},[_vm._v(\"\\n        \"+_vm._s(typeof _vm.multiStepViewConfig[_vm.currentView].buttonLabel === 'function'\n            ? _vm.multiStepViewConfig[_vm.currentView].buttonLabel(_vm.serviceStatus)\n            : _vm.multiStepViewConfig[_vm.currentView].buttonLabel)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancelInstallation)?_c('v-btn',{attrs:{\"color\":\"pink\",\"disabled\":_vm.multiStepViewConfig[_vm.currentView].disabled,\"text\":\"\"},on:{\"click\":_vm.cancelInstallation}},[_vm._v(\"\\n        Cancel Install\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.multiStepViewConfig[_vm.currentView].hasCancel)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Close \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-toolbar flat>\n      <grid-toolbar :hide-export-data=\"true\" :items=\"selectedItems\" toolbarTitle=\"Rubix Apps\">\n        <template v-slot:customAction>\n          <span>\n            <v-btn\n              :disabled=\"isDeletingDownloadState\"\n              @click=\"() => bulkDownloadApps(selectedItems)\"\n              x-small\n              color=\"green\"\n              class=\"white--text\"\n            >\n              Download Apps\n              <v-icon x-small right dark> mdi-download </v-icon>\n            </v-btn>\n            <v-progress-circular\n              v-if=\"showDownloadProgressIcon\"\n              :width=\"2\"\n              :size=\"15\"\n              color=\"white\"\n              indeterminate\n            ></v-progress-circular>\n            <v-icon v-if=\"showCheckDownloadIcon\" x-medium dark> mdi-check</v-icon>\n          </span>\n        </template>\n      </grid-toolbar>\n    </v-toolbar>\n    <v-data-table\n      show-select\n      item-key=\"service\"\n      :headers=\"headers\"\n      :items=\"appDetails\"\n      :single-select=\"false\"\n      v-model=\"selectedItems\"\n      :loading=\"isFetchingAppDetails\"\n      :footer-props=\"{\n        showFirstLastPage: true,\n        firstIcon: 'mdi-chevron-double-left',\n        lastIcon: 'mdi-chevron-double-right',\n        prevIcon: 'mdi-chevron-left',\n        nextIcon: 'mdi-chevron-right',\n      }\"\n    >\n      <template v-slot:item.state=\"{ item }\">\n        <app-status-chip :state=\"item.state\"></app-status-chip>\n      </template>\n      <template v-slot:item.restart=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => restartService(item)\"\n              icon\n              small\n              color=\"success\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon dark> mdi-restart </v-icon>\n            </v-btn>\n          </template>\n          <span>Restart Service</span>\n        </v-tooltip>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <span>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                @click=\"() => toggleDialog(dialogNames.install, item)\"\n                icon\n                small\n                color=\"success\"\n                class=\"white--text\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon small dark> mdi-download </v-icon>\n              </v-btn>\n            </template>\n            <span>Download</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                @click=\"() => toggleDialog(dialogNames.upload, item)\"\n                icon\n                small\n                color=\"yellow\"\n                class=\"white--text\"\n              >\n                <v-icon small dark> mdi-upload </v-icon>\n              </v-btn>\n            </template>\n            <span>Upload</span>\n          </v-tooltip>\n\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-if=\"item.isUninstallable\"\n                @click=\"() => toggleDialog(dialogNames.uninstall, item)\"\n                icon\n                small\n                color=\"error\"\n                class=\"white--text\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon small dark> mdi-delete </v-icon>\n              </v-btn>\n            </template>\n            <span>Delete App</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                :href=\"item.downloadUrl\"\n                target=\"_blank\"\n                tar\n                v-if=\"item.downloadUrl\"\n                icon\n                small\n              >\n                <v-icon small dark> mdi-zip-box</v-icon>\n              </v-btn>\n            </template>\n            <span>Download ZIP</span>\n          </v-tooltip>\n        </span>\n      </template>\n\n      <template v-slot:item.configFile=\"{ item }\">\n        <v-tooltip bottom v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp'\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => toggleDialog(dialogNames.editConfig, item)\"\n              icon\n              small\n              color=\"blue\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-pencil </v-icon>\n            </v-btn>\n          </template>\n          <span>Edit Config File</span>\n        </v-tooltip>\n        <v-tooltip bottom v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp'\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => downloadConfig(item)\"\n              icon\n              small\n              color=\"success\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-download </v-icon>\n            </v-btn>\n          </template>\n          <span>Download Config File</span>\n        </v-tooltip>\n        <v-tooltip bottom v-if=\"item.app_type == 'PythonApp' || item.app_type == 'FrontendApp'\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-if=\"item.isUninstallable\"\n              @click=\"() => toggleDialog(dialogNames.deleteAppConfig, item)\"\n              icon\n              small\n              color=\"error\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-delete </v-icon>\n            </v-btn>\n          </template>\n          <span>Delete Configuration</span>\n        </v-tooltip>\n      </template>\n\n      <template v-slot:item.databaseOperations=\"{ item }\">\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              @click=\"() => downloadAppData(item)\"\n              icon\n              small\n              color=\"success\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-download </v-icon>\n            </v-btn>\n          </template>\n          <span>Download Database</span>\n        </v-tooltip>\n        <v-tooltip bottom>\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-if=\"item.isUninstallable\"\n              @click=\"() => toggleDialog(dialogNames.deleteDatabase, item)\"\n              icon\n              small\n              color=\"error\"\n              class=\"white--text\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              <v-icon small dark> mdi-delete </v-icon>\n            </v-btn>\n          </template>\n          <span>Delete Database</span>\n        </v-tooltip>\n      </template>\n    </v-data-table>\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.uninstall]\"\n      :on-close=\"() => closeDialog(dialogNames.uninstall)\"\n      :on-confirm=\"() => uninstall(dialogNames.uninstall)\"\n      :loading=\"isUninstallingApp\"\n      dialog-text=\"Do you want to uninstall the app?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteDatabase]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteDatabase)\"\n      :on-confirm=\"() => deleteDatabase(dialogNames.deleteDatabase)\"\n      :loading=\"isDeletingDatabase\"\n      dialog-text=\"Do you want to delete the app's database?\"\n    ></confirm-dialog>\n\n    <confirm-dialog\n      :is-open=\"dialog[dialogNames.deleteAppConfig]\"\n      :on-close=\"() => closeDialog(dialogNames.deleteAppConfig)\"\n      :on-confirm=\"() => deleteAppConfigFile()\"\n      :loading=\"isDeletingConfig\"\n      dialog-text=\"Do you want to delete the app's config file?\"\n    ></confirm-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.upload]\" max-width=\"500px\">\n      <apps-upload-multi-step-view\n        v-if=\"dialog[dialogNames.upload]\"\n        :app-details=\"selectedApp\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.upload, syncAppDetails)\"\n      ></apps-upload-multi-step-view>\n    </v-dialog>\n\n    <v-dialog presistent v-model=\"dialog[dialogNames.editConfig]\" max-width=\"500px\">\n      <apps-edit-config\n        v-if=\"dialog[dialogNames.editConfig]\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.editConfig, syncAppDetails)\"\n        :app-detail=\"selectedApp\"\n      ></apps-edit-config>\n    </v-dialog>\n\n    <v-dialog persistent v-model=\"dialog[dialogNames.install]\" max-width=\"500px\">\n      <apps-download-multi-step-view\n        v-if=\"dialog[dialogNames.install]\"\n        :delete-download-state=\"deleteDownloadState\"\n        :app-details=\"selectedApp\"\n        :close-dialog=\"syncAppDetails => closeDialog(dialogNames.install, syncAppDetails)\"\n      ></apps-download-multi-step-view>\n    </v-dialog>\n\n    <v-dialog :persistent=\"isBulkDownloadAppPersistent\" v-model=\"dialog[dialogNames.bulkDownload]\" max-width=\"500px\">\n      <apps-bulk-download-multi-step-view\n        v-if=\"remountDialog[dialogNames.bulkDownload]\"\n        :current-download-state=\"currentDownloadState\"\n        :selected-apps=\"selectedItems\"\n        :fetch-download-app-state=\"fetchDownloadAppState\"\n        :app-download-states=\"appDownloadStates\"\n        :clear-selected-apps=\"clearSelectedApps\"\n        :delete-download-state=\"deleteDownloadState\"\n        :clear-download-app-state-interval=\"clearDownloadAppStateInterval\"\n        :close-dialog=\"(syncAppDetails, config) => closeDialog(dialogNames.bulkDownload, syncAppDetails, config)\"\n      ></apps-bulk-download-multi-step-view>\n    </v-dialog>\n  </v-card>\n</template>\n\n<script>\nimport JsZip from 'jszip';\nimport GridToolbar from '../Common/GridToolbar';\nimport AppsEditConfig from './appsEditConfig';\nimport AppsDownloadMultiStepView from './AppsDownloadMultiStep';\nimport AppsUploadMultiStepView from './AppsUploadMultiStepView';\nimport AppStatusChip from '../../components/Services/AppStatusChip';\nimport AppsBulkDownloadMultiStepView from './AppsBulkDownloadMultiStep';\nimport ConfirmDialog from '../Common/ConfirmDialog';\nimport * as appsService from '../../services/appsService';\nimport { RUBIX_APP_STATUS_CONTROL_ACTIONS } from '../../constants/appConstant';\n\nconst DOWNLOAD_IN_PROGRESS = 'DOWNLOAD_IN_PROGRESS';\nconst DOWNLOAD_COMPLETE = 'DOWNLOAD_COMPLETE';\n\nexport default {\n  name: 'systemServices',\n  components: {\n    AppsEditConfig,\n    GridToolbar,\n    AppsDownloadMultiStepView,\n    ConfirmDialog,\n    AppStatusChip,\n    AppsUploadMultiStepView,\n    AppsBulkDownloadMultiStepView,\n  },\n  data() {\n    const dialogNames = {\n      install: 'install',\n      uninstall: 'uninstall',\n      upload: 'upload',\n      deleteDatabase: 'deleteDatabase',\n      editConfig: 'editConfig',\n      deleteAppConfig: 'deleteAppConfig',\n      bulkDownload: 'bulkDownload',\n    };\n    return {\n      selectedItems: [],\n      refreshTime: 5000,\n      appDownloadStates: [],\n      selectedApp: null,\n      dialogNames: dialogNames,\n      isFetchingAppDetails: false,\n      isBulkDownloadAppPersistent: true,\n      isDeletingConfig: false,\n      isDeletingDatabase: false,\n      isUninstallingApp: false,\n      currentDownloadState: null,\n      fetchDownloadStateInterval: null,\n      isDeletingDownloadState: false,\n      dialog: {\n        [dialogNames.install]: false,\n        [dialogNames.upload]: false,\n        [dialogNames.uninstall]: false,\n        [dialogNames.deleteDatabase]: false,\n        [dialogNames.editConfig]: false,\n        [dialogNames.deleteAppConfig]: false,\n        [dialogNames.bulkDownload]: false,\n      },\n      remountDialog: {\n        [dialogNames.bulkDownload]: true,\n      },\n      headers: [\n        {\n          text: 'Label',\n          align: 'start',\n          value: 'display_name',\n        },\n        {\n          text: 'Name',\n          align: 'start',\n          value: 'service',\n        },\n        {\n          text: 'Status',\n          align: 'center',\n          value: 'state',\n        },\n        {\n          text: 'Restart',\n          align: 'center',\n          value: 'restart',\n        },\n        {\n          text: 'Installed Version',\n          align: 'center',\n          value: 'installedVersion',\n        },\n        {\n          text: 'Latest Available Version',\n          align: 'center',\n          value: 'latest_version',\n        },\n        {\n          text: 'Actions',\n          align: 'center',\n          value: 'actions',\n        },\n        {\n          text: 'Config File',\n          align: 'center',\n          value: 'configFile',\n        },\n        {\n          text: 'Database',\n          align: 'end',\n          value: 'databaseOperations',\n        },\n      ],\n    };\n  },\n  computed: {\n    appDetails() {\n      return this.formatAppDetails(this.$store.state.appDetails);\n    },\n    setting() {\n      return this.$store.state.setting;\n    },\n    showCheckDownloadIcon() {\n      return this.currentDownloadState === DOWNLOAD_COMPLETE;\n    },\n    showDownloadProgressIcon() {\n      return this.currentDownloadState === DOWNLOAD_IN_PROGRESS;\n    },\n  },\n  mounted() {\n    this.fetchDownloadAppState();\n  },\n  created() {\n    this.fetchAppDetails();\n  },\n  methods: {\n    closeDialog(dialogName, syncAppDetails, config = {}) {\n      this.dialog[dialogName] = false;\n      if (config.unmount && this.remountDialog[dialogName]) {\n        this.remountDialog[dialogName] = false;\n        setTimeout(() => {\n          this.remountDialog[dialogName] = true;\n        }, 500);\n      }\n      syncAppDetails && this.fetchAppDetails(true);\n    },\n    openDialog(dialogName) {\n      this.dialog[dialogName] = true;\n    },\n    toggleDialog(dialogName, item) {\n      if (!this.dialog[dialogName]) {\n        switch (dialogName) {\n          case this.dialogNames.install:\n            if (this.currentDownloadState) {\n              return this.$toasted.show('Please resolve bulk download apps in the top left first.', { type: 'info' });\n            }\n        }\n      }\n      this.dialog[dialogName] = !this.dialog[dialogName];\n\n      if (this.dialog[dialogName]) {\n        this.selectedApp = item;\n      } else {\n        this.selectedApp = null;\n      }\n    },\n    formatAppDetails(appDetails) {\n      return appDetails.map(detail => ({\n        ...detail,\n        activeLabel: detail.status ? 'Running' : 'Stopped',\n        isUninstallable: detail.is_installed,\n        installedVersion: detail.version ? detail.version : '-',\n        downloadUrl: detail.browser_download_url ? detail.browser_download_url : null,\n        updatedAt: detail.date_since ? new Date(detail.date_since).toLocaleDateString() : '-',\n      }));\n    },\n    fetchAppDetails(syncInstalledApp = false) {\n      this.isFetchingAppDetails = true;\n      return appsService\n        .fetchApps()\n        .then(r => {\n          this.$store.commit('changeAppDetails', r);\n          syncInstalledApp && this.fetchAllInstalledApps();\n        })\n        .finally(() => {\n          this.isFetchingAppDetails = false;\n        });\n    },\n    fetchAllInstalledApps() {\n      appsService\n        .fetchAllInstalledApps()\n        .then(r => {\n          this.$store.commit('changeInstalledServices', r);\n        })\n        .catch(e => {});\n    },\n    deleteDatabase() {\n      this.isDeletingDatabase = true;\n      appsService\n        .deleteAppDataService(this.selectedApp.service)\n        .then(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.deleteDatabase);\n        })\n        .finally(() => {\n          this.isDeletingDatabase = false;\n        });\n    },\n    uninstall(dialogName) {\n      this.isUninstallingApp = true;\n      appsService\n        .uninstallApp(this.selectedApp.service)\n        .then(() => {\n          this.fetchAppDetails(true);\n          this.closeDialog(this.dialogNames.uninstall, true);\n        })\n        .catch(() => {\n          this.closeDialog(this.dialogNames.uninstall);\n        })\n        .finally(() => {\n          this.isUninstallingApp = false;\n        });\n    },\n    getFileName(serviceName) {\n      const d = new Date();\n      const datestring = `${d.getDate()}-${\n        d.getMonth() + 1\n      }-${d.getFullYear()}T${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`;\n      return `${serviceName}_${datestring}`;\n    },\n    downloadAppData(appDetail) {\n      const serviceName = appDetail.service;\n\n      appsService\n        .downloadAppData(serviceName, this.setting)\n        .then(async blobData => {\n          const zip = new JsZip();\n          await zip.loadAsync(blobData);\n          const blob = await zip.generateAsync({ type: 'blob' });\n          const date = new Date();\n          const filename = this.getFileName(serviceName);\n          const link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          link.setAttribute('download', `${filename}.zip`);\n          link.click();\n          this.$toasted.show(`${appDetail.service} app data is exported.`);\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to export ${appDetail.service} app data`, { type: 'error' });\n        });\n    },\n    deleteAppConfigFile() {\n      this.isDeletingConfig = true;\n      const serviceName = this.selectedApp.service;\n      const appType = this.selectedApp.app_type;\n\n      appsService\n        .deleteAppConfig(serviceName, appType)\n        .then(data => {\n          this.$toasted.show(`${serviceName} app config file is deleted`);\n          this.closeDialog(this.dialogNames.deleteAppConfig);\n        })\n        .catch(err => {\n          this.$toasted.show(`Failed to delete app config for ${serviceName}`, { type: 'error' });\n        })\n        .finally(() => {\n          this.isDeletingConfig = false;\n        });\n    },\n    downloadConfig(appDetail) {\n      appsService.downloadAppConfig(appDetail.service, appDetail.app_type);\n    },\n    restartService(appDetail) {\n      appsService\n        .changeServiceStatus(RUBIX_APP_STATUS_CONTROL_ACTIONS.RESTART, appDetail.service)\n        .then(() => {\n          this.$toasted.show(`App restarted sucessfully.`);\n        })\n        .catch(() => {\n          this.$toasted.show(`Failed to restart the app.`, { type: 'error' });\n        });\n    },\n    bulkDownloadApps() {\n      this.openDialog(this.dialogNames.bulkDownload);\n    },\n    clearDownloadAppStateInterval() {\n      clearInterval(this.fetchDownloadStateInterval);\n    },\n    downloadStateInterval() {\n      this.fetchDownloadStateInterval = setInterval(() => {\n        this.fetchDownloadAppState();\n      }, this.refreshTime);\n    },\n    fetchDownloadAppState() {\n      return appsService\n        .fetchDownloadState()\n        .then(appDownloadStates => {\n          if (Array.isArray(appDownloadStates) && appDownloadStates.every(state => state && state.download)) {\n            // Completed download\n            this.currentDownloadState = DOWNLOAD_COMPLETE;\n            this.isBulkDownloadAppPersistent = true;\n          } else {\n            this.currentDownloadState = DOWNLOAD_IN_PROGRESS;\n            this.isBulkDownloadAppPersistent = false;\n            if (!this.fetchDownloadStateInterval) {\n              this.downloadStateInterval();\n            }\n          }\n\n          if (Array.isArray(appDownloadStates)) {\n            this.appDownloadStates = appDownloadStates;\n          }\n          return appDownloadStates;\n        })\n        .catch(err => {\n          if (err && err.message) {\n            this.currentDownloadState = null;\n          }\n          if (err && err.message == 'Download state not found') {\n            this.clearDownloadAppStateInterval();\n          }\n          return err;\n        })\n        .finally(() => {});\n    },\n    clearSelectedApps() {\n      this.appDownloadStates = [];\n      this.selectedItems = [];\n    },\n    deleteDownloadState() {\n      this.isDeletingDownloadState = true;\n      return appsService\n        .deleteDownloadState()\n        .then(data => data)\n        .catch(err => err)\n        .finally(() => {\n          this.fetchDownloadAppState();\n          this.clearDownloadAppStateInterval();\n          this.isDeletingDownloadState = false;\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppsGrid.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RubixApps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RubixApps.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <page-title title=\"Rubix Apps\"></page-title>\n    <apps-grid></apps-grid>\n  </div>\n</template>\n<script>\nimport AppsGrid from './AppsGrid';\nimport PageTitle from '../Common/PageTitle.vue';\n\nexport default {\n  name: 'rubix-apps',\n  components: {\n    AppsGrid,\n    PageTitle,\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./AppsGrid.vue?vue&type=template&id=2df1fc11&\"\nimport script from \"./AppsGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./AppsGrid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('grid-toolbar',{attrs:{\"hide-export-data\":true,\"items\":_vm.selectedItems,\"toolbarTitle\":\"Rubix Apps\"},scopedSlots:_vm._u([{key:\"customAction\",fn:function(){return [_c('span',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"disabled\":_vm.isDeletingDownloadState,\"x-small\":\"\",\"color\":\"green\"},on:{\"click\":function () { return _vm.bulkDownloadApps(_vm.selectedItems); }}},[_vm._v(\"\\n            Download Apps\\n            \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1),_vm._v(\" \"),(_vm.showDownloadProgressIcon)?_c('v-progress-circular',{attrs:{\"width\":2,\"size\":15,\"color\":\"white\",\"indeterminate\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.showCheckDownloadIcon)?_c('v-icon',{attrs:{\"x-medium\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-check\")]):_vm._e()],1)]},proxy:true}])})],1),_vm._v(\" \"),_c('v-data-table',{attrs:{\"show-select\":\"\",\"item-key\":\"service\",\"headers\":_vm.headers,\"items\":_vm.appDetails,\"single-select\":false,\"loading\":_vm.isFetchingAppDetails,\"footer-props\":{\n      showFirstLastPage: true,\n      firstIcon: 'mdi-chevron-double-left',\n      lastIcon: 'mdi-chevron-double-right',\n      prevIcon: 'mdi-chevron-left',\n      nextIcon: 'mdi-chevron-right',\n    }},scopedSlots:_vm._u([{key:\"item.state\",fn:function(ref){\n    var item = ref.item;\nreturn [_c('app-status-chip',{attrs:{\"state\":item.state}})]}},{key:\"item.restart\",fn:function(ref){\n    var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.restartService(item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-restart \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Restart Service\")])])]}},{key:\"item.actions\",fn:function(ref){\n    var item = ref.item;\nreturn [_c('span',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.install, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"yellow\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.upload, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-upload \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Upload\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [(item.isUninstallable)?_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.uninstall, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete App\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [(item.downloadUrl)?_c('v-btn',_vm._g(_vm._b({attrs:{\"href\":item.downloadUrl,\"target\":\"_blank\",\"tar\":\"\",\"icon\":\"\",\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-zip-box\")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download ZIP\")])])],1)]}},{key:\"item.configFile\",fn:function(ref){\n    var item = ref.item;\nreturn [(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp')?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"blue\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.editConfig, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-pencil \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Edit Config File\")])]):_vm._e(),_vm._v(\" \"),(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp')?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.downloadConfig(item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download Config File\")])]):_vm._e(),_vm._v(\" \"),(item.app_type == 'PythonApp' || item.app_type == 'FrontendApp')?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [(item.isUninstallable)?_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteAppConfig, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete Configuration\")])]):_vm._e()]}},{key:\"item.databaseOperations\",fn:function(ref){\n    var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"success\"},on:{\"click\":function () { return _vm.downloadAppData(item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-download \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Download Database\")])]),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [(item.isUninstallable)?_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function () { return _vm.toggleDialog(_vm.dialogNames.deleteDatabase, item); }}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e()]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(\"Delete Database\")])])]}}]),model:{value:(_vm.selectedItems),callback:function ($$v) {_vm.selectedItems=$$v},expression:\"selectedItems\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.uninstall],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.uninstall); },\"on-confirm\":function () { return _vm.uninstall(_vm.dialogNames.uninstall); },\"loading\":_vm.isUninstallingApp,\"dialog-text\":\"Do you want to uninstall the app?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteDatabase],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteDatabase); },\"on-confirm\":function () { return _vm.deleteDatabase(_vm.dialogNames.deleteDatabase); },\"loading\":_vm.isDeletingDatabase,\"dialog-text\":\"Do you want to delete the app's database?\"}}),_vm._v(\" \"),_c('confirm-dialog',{attrs:{\"is-open\":_vm.dialog[_vm.dialogNames.deleteAppConfig],\"on-close\":function () { return _vm.closeDialog(_vm.dialogNames.deleteAppConfig); },\"on-confirm\":function () { return _vm.deleteAppConfigFile(); },\"loading\":_vm.isDeletingConfig,\"dialog-text\":\"Do you want to delete the app's config file?\"}}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.upload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.upload, $$v)},expression:\"dialog[dialogNames.upload]\"}},[(_vm.dialog[_vm.dialogNames.upload])?_c('apps-upload-multi-step-view',{attrs:{\"app-details\":_vm.selectedApp,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.upload, syncAppDetails); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"presistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.editConfig]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.editConfig, $$v)},expression:\"dialog[dialogNames.editConfig]\"}},[(_vm.dialog[_vm.dialogNames.editConfig])?_c('apps-edit-config',{attrs:{\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.editConfig, syncAppDetails); },\"app-detail\":_vm.selectedApp}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.install]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.install, $$v)},expression:\"dialog[dialogNames.install]\"}},[(_vm.dialog[_vm.dialogNames.install])?_c('apps-download-multi-step-view',{attrs:{\"delete-download-state\":_vm.deleteDownloadState,\"app-details\":_vm.selectedApp,\"close-dialog\":function (syncAppDetails) { return _vm.closeDialog(_vm.dialogNames.install, syncAppDetails); }}}):_vm._e()],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":_vm.isBulkDownloadAppPersistent,\"max-width\":\"500px\"},model:{value:(_vm.dialog[_vm.dialogNames.bulkDownload]),callback:function ($$v) {_vm.$set(_vm.dialog, _vm.dialogNames.bulkDownload, $$v)},expression:\"dialog[dialogNames.bulkDownload]\"}},[(_vm.remountDialog[_vm.dialogNames.bulkDownload])?_c('apps-bulk-download-multi-step-view',{attrs:{\"current-download-state\":_vm.currentDownloadState,\"selected-apps\":_vm.selectedItems,\"fetch-download-app-state\":_vm.fetchDownloadAppState,\"app-download-states\":_vm.appDownloadStates,\"clear-selected-apps\":_vm.clearSelectedApps,\"delete-download-state\":_vm.deleteDownloadState,\"clear-download-app-state-interval\":_vm.clearDownloadAppStateInterval,\"close-dialog\":function (syncAppDetails, config) { return _vm.closeDialog(_vm.dialogNames.bulkDownload, syncAppDetails, config); }}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RubixApps.vue?vue&type=template&id=e28d3ddc&\"\nimport script from \"./RubixApps.vue?vue&type=script&lang=js&\"\nexport * from \"./RubixApps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{ref:\"copyClipboard\"},[_c('v-btn',{staticClass:\"white-text\",attrs:{\"x-small\":\"\",\"color\":\"#009688\"},on:{\"click\":function () { return _vm.onCopy(_vm.copyToClipboard); }}},[_c('span',[_vm._v(\"Copy \")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-export\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyClipboard.vue?vue&type=script&lang=js&\"","<template>\n  <span ref=\"copyClipboard\">\n    <v-btn @click=\"() => onCopy(copyToClipboard)\" x-small color=\"#009688\" class=\"white-text\">\n      <span>Copy &nbsp;</span>\n      <v-icon small>mdi-export</v-icon>\n    </v-btn>\n  </span>\n</template>\n<script>\nexport default {\n  props: ['on-copy'],\n  methods: {\n    copyToClipboard(message) {\n      this.$copyText(message, this.$refs.copyClipboard).then(\n        () => {\n          this.$toasted.show('Copied to clipboard!', { type: 'success' });\n        },\n        () => {\n          this.$toasted.show('Cannot copy to clipboard.', { type: 'error' });\n        },\n      );\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./CopyClipboard.vue?vue&type=template&id=16b1a201&\"\nimport script from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\nexport * from \"./CopyClipboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"mr-6\"},[_vm._v(_vm._s(_vm.toolbarTitle))]),_vm._v(\" \"),(_vm.onCopy)?_c('copy-clipboard',{staticClass:\"mr-2\",attrs:{\"on-copy\":_vm.onCopy}}):_vm._e(),_vm._v(\" \"),(_vm.items && _vm.items.length > 0 && !_vm.hideExportData)?_c('export-data',{attrs:{\"data\":_vm.items,\"file-name\":_vm.fileName,\"format-data-service\":_vm.formatDataService}}):_vm._e(),_vm._v(\" \"),(!!_vm.receiveDataRows)?_c('import-dialog',{attrs:{\"receiveDataRows\":_vm.receiveDataRows}}):_vm._e(),_vm._v(\" \"),(!!_vm.onDelete)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"disabled\":!_vm.isDeleteEnabled,\"x-small\":\"\",\"color\":\"error\"},on:{\"click\":_vm.onDelete}},[_vm._v(\"\\n    Delete\\n    \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e(),_vm._v(\" \"),_vm._t(\"customAction\"),_vm._v(\" \"),_vm._t(\"search\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <v-menu offset-y>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn x-small color=\"primary\" class=\"white--text mr-2\" v-bind=\"attrs\" v-on=\"on\"\n          >Import<v-icon x-small right dark>mdi-import</v-icon></v-btn\n        >\n      </template>\n      <v-list>\n        <v-list-item link>\n          <v-list-item-title\n            @click=\"\n              dialogImportJSON = true;\n              dataImport = '';\n            \"\n            >Json</v-list-item-title\n          >\n        </v-list-item>\n        <v-list-item link>\n          <v-list-item-title\n            @click=\"\n              dialogImportExcel = true;\n              file = null;\n            \"\n            >Excel</v-list-item-title\n          >\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <v-dialog v-model=\"dialogImportExcel\" width=\"500px\">\n      <v-card>\n        <v-card-title>Choose excel file</v-card-title>\n        <v-card-text>\n          <v-file-input outlined dense label=\"File input\" v-model=\"file\" accept=\".xls,.xlsx\"></v-file-input>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"darken-1\" text @click=\"dialogImportExcel = false\">Close</v-btn>\n          <v-btn color=\"primary darken-1\" text @click=\"importFile\" :disabled=\"!file\">Import</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"dialogImportJSON\" width=\"500px\">\n      <v-card>\n        <v-card-title>Import via JSON</v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-textarea outlined name=\"input-7-4\" label=\"import data\" v-model=\"dataImport\"></v-textarea>\n          </v-container>\n        </v-card-text>\n      </v-card>\n      <v-card-actions>\n        <v-btn color=\"primary darken-1\" text @click=\"importJson\" :disabled=\"!dataImport\">Import</v-btn>\n      </v-card-actions>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport * as xlsx from 'xlsx';\nexport default {\n  name: 'import-dialog',\n  props: ['receiveDataRows'],\n  data() {\n    return {\n      file: null,\n      dialogImportExcel: false,\n      dialogImportJSON: false,\n      dataImport: '',\n    };\n  },\n  methods: {\n    importFile() {\n      let fileReader = new FileReader();\n      fileReader.readAsBinaryString(this.file);\n      fileReader.onload = this.handleFileLoad;\n    },\n    handleFileLoad(e) {\n      let data = e.target.result;\n      let workbook = xlsx.read(data, { type: 'binary' });\n      const firstSheet = Array.isArray(workbook.SheetNames) && workbook.SheetNames.length > 0 && workbook.SheetNames[0];\n      if (!firstSheet) {\n        return this.$toasted.show('Invalid Excel File. Please reupload.', { type: 'error' });\n      }\n      const rowObject = xlsx.utils.sheet_to_row_object_array(workbook.Sheets[firstSheet]);\n      this.receiveDataRows(rowObject);\n      this.dialogImportExcel = false;\n    },\n    importJson() {\n      try {\n        const dataItems = JSON.parse(this.dataImport);\n        this.receiveDataRows(dataItems);\n        this.dialogImportJSON = false;\n      } catch (err) {\n        return this.$toasted.show('Invalid JSON', { type: 'error' });\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ImportDialog.vue?vue&type=template&id=afd0ffe6&\"\nimport script from \"./ImportDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text mr-2\",attrs:{\"x-small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\"Import\"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-import\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){_vm.dialogImportJSON = true;\n            _vm.dataImport = '';}}},[_vm._v(\"Json\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){_vm.dialogImportExcel = true;\n            _vm.file = null;}}},[_vm._v(\"Excel\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportExcel),callback:function ($$v) {_vm.dialogImportExcel=$$v},expression:\"dialogImportExcel\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Choose excel file\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-file-input',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"File input\",\"accept\":\".xls,.xlsx\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogImportExcel = false}}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary darken-1\",\"text\":\"\",\"disabled\":!_vm.file},on:{\"click\":_vm.importFile}},[_vm._v(\"Import\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.dialogImportJSON),callback:function ($$v) {_vm.dialogImportJSON=$$v},expression:\"dialogImportJSON\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Import via JSON\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[_c('v-textarea',{attrs:{\"outlined\":\"\",\"name\":\"input-7-4\",\"label\":\"import data\"},model:{value:(_vm.dataImport),callback:function ($$v) {_vm.dataImport=$$v},expression:\"dataImport\"}})],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary darken-1\",\"text\":\"\",\"disabled\":!_vm.dataImport},on:{\"click\":_vm.importJson}},[_vm._v(\"Import\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridToolbar.vue?vue&type=script&lang=js&\"","<template>\n  <v-toolbar flat>\n    <v-toolbar-title class=\"mr-6\">{{ toolbarTitle }}</v-toolbar-title>\n    <copy-clipboard v-if=\"onCopy\" class=\"mr-2\" :on-copy=\"onCopy\"></copy-clipboard>\n    <export-data\n      v-if=\"items && items.length > 0 && !hideExportData\"\n      :data=\"items\"\n      :file-name=\"fileName\"\n      :format-data-service=\"formatDataService\"\n    ></export-data>\n    <import-dialog v-if=\"!!receiveDataRows\" :receiveDataRows=\"receiveDataRows\"></import-dialog>\n    <v-btn :disabled=\"!isDeleteEnabled\" @click=\"onDelete\" v-if=\"!!onDelete\" x-small color=\"error\" class=\"white--text\">\n      Delete\n      <v-icon x-small right dark> mdi-delete </v-icon>\n    </v-btn>\n    <slot name=\"customAction\"></slot>\n    <slot name=\"search\"></slot>\n  </v-toolbar>\n</template>\n<script>\nimport ExportData from './ExportData';\nimport CopyClipboard from '../Sidebar/CopyClipboard';\nimport ImportDialog from './ImportDialog.vue';\nexport default {\n  name: 'grid-toolbar',\n  props: [\n    'toolbarTitle',\n    'onCopy',\n    'items',\n    'fileName',\n    'formatDataService',\n    'receiveDataRows',\n    'onDelete',\n    'isDeleteEnabled',\n    'onSearch',\n    'hideExportData',\n  ],\n  components: { ExportData, CopyClipboard, ImportDialog },\n};\n</script>\n","import { render, staticRenderFns } from \"./GridToolbar.vue?vue&type=template&id=54c95a08&\"\nimport script from \"./GridToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./GridToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.label)?_c('div',{staticClass:\"grey--text caption mb-2\"},[_c('span',[_vm._v(_vm._s(_vm.label))])]):_vm._e(),_vm._v(\" \"),(_vm.value)?_c('div',{staticClass:\"font-weight-medium text-ellipses\"},[_c('span',{staticClass:\"field-display-value\",attrs:{\"title\":_vm.value}},[_vm._v(_vm._s(_vm.value))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextFieldDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextFieldDisplay.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div v-if=\"label\" class=\"grey--text caption mb-2\">\n      <span>{{ label }}</span>\n    </div>\n    <div v-if=\"value\" class=\"font-weight-medium text-ellipses\">\n      <span :title=\"value\" class=\"field-display-value\">{{ value }}</span>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'text-field-display',\n  props: ['label', 'value'],\n};\n</script>\n<style>\n.text-ellipses {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.field-display-value {\n  color: #fff;\n}\n</style>\n","import { render, staticRenderFns } from \"./TextFieldDisplay.vue?vue&type=template&id=23115561&\"\nimport script from \"./TextFieldDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./TextFieldDisplay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextFieldDisplay.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.state)?_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":_vm.currentStatus.color}},[_vm._v(_vm._s(_vm.currentStatus.displayName))])],1)]):_c('div',[_c('span',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"color\":\"yellow\"}},[_vm._v(_vm._s(_vm.defaultStatus))])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"state\">\n      <span class=\"font-weight-medium\">\n        <v-chip outlined :color=\"currentStatus.color\">{{ currentStatus.displayName }}</v-chip>\n      </span>\n    </div>\n    <div v-else>\n      <span class=\"font-weight-medium\">\n        <v-chip outlined color=\"yellow\">{{ defaultStatus }}</v-chip>\n      </span>\n    </div>\n  </div>\n</template>\n<script>\nconst appStatusStates = {\n  active: {\n    name: 'active',\n    displayName: 'Running',\n    color: 'success',\n  },\n  reloading: {\n    name: 'reloading',\n    displayName: 'Reloading',\n    color: 'yellow',\n  },\n  failed: {\n    name: 'failed',\n    displayName: 'Failed',\n    color: 'red',\n  },\n  activating: {\n    name: 'activating',\n    displayName: 'Activating',\n    color: 'yellow',\n  },\n  deactivating: {\n    name: 'deactivating',\n    displayName: 'Deactivating',\n    color: 'yellow',\n  },\n  maintenance: {\n    name: 'maintenance',\n    displayName: 'Maintenance',\n    color: 'yellow',\n  },\n};\nexport default {\n  name: 'app-status-chip',\n  props: ['status', 'state'],\n  computed: {\n    currentStatus() {\n      const appStatus = appStatusStates[this.state];\n      if (!appStatus) {\n        return {\n          name: 'default',\n          displayName: this.capitalize(this.state),\n          color: 'yellow',\n        };\n      }\n      return appStatus;\n    },\n    defaultStatus() {\n      return this.capitalize(this.state);\n    },\n  },\n  methods: {\n    capitalize(str) {\n      if (!str) {\n        str = '';\n      }\n      str = String(str);\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppStatusChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppStatusChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppStatusChip.vue?vue&type=template&id=05be2074&\"\nimport script from \"./AppStatusChip.vue?vue&type=script&lang=js&\"\nexport * from \"./AppStatusChip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{class:_vm.className,attrs:{\"loading\":_vm.loading,\"x-small\":_vm.isSmall,\"disabled\":_vm.disabled,\"color\":_vm.color,\"block\":_vm.block},on:{\"click\":_vm.click}},[_c('span',[_vm._v(_vm._s(_vm.title)+\"\")]),_vm._v(\" \"),(_vm.afterIcon)?_c('v-icon',{attrs:{\"small\":_vm.isSmall}},[_vm._v(_vm._s(_vm.afterIcon))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RbxButton.vue?vue&type=script&lang=js&\"","<template>\n  <v-btn\n    :loading=\"loading\"\n    :x-small=\"isSmall\"\n    :disabled=\"disabled\"\n    :color=\"color\"\n    v-on:click=\"click\"\n    :class=\"className\"\n    :block=\"block\"\n  >\n    <span>{{ title }}&nbsp;</span>\n    <v-icon :small=\"isSmall\" v-if=\"afterIcon\">{{ afterIcon }}</v-icon>\n  </v-btn>\n</template>\n<script>\nexport default {\n  name: 'rbx-button',\n  props: ['title', 'after-icon', 'color', 'click', 'is-small', 'class-name', 'disabled', 'block', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./RbxButton.vue?vue&type=template&id=63acb41e&\"\nimport script from \"./RbxButton.vue?vue&type=script&lang=js&\"\nexport * from \"./RbxButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text mr-2\",attrs:{\"x-small\":\"\",\"color\":\"#009688\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_c('span',[_vm._v(\"Download\")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"x-small\":\"\",\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-download\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'json')}}},[_vm._v(\"Json\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'excel')}}},[_vm._v(\"Excel\")])],1),_vm._v(\" \"),_c('v-list-item',{attrs:{\"link\":\"\"}},[_c('v-list-item-title',{on:{\"click\":function($event){return _vm.clickDownload(_vm.data, 'csv')}}},[_vm._v(\"CSV\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportData.vue?vue&type=script&lang=js&\"","<template>\n  <v-menu offset-y>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn x-small color=\"#009688\" class=\"white--text mr-2\" dark v-bind=\"attrs\" v-on=\"on\">\n        <span>Download</span>\n        <v-icon x-small right dark>mdi-download</v-icon>\n      </v-btn>\n    </template>\n    <v-list>\n      <v-list-item link>\n        <v-list-item-title @click=\"clickDownload(data, 'json')\">Json</v-list-item-title>\n      </v-list-item>\n      <v-list-item link>\n        <v-list-item-title @click=\"clickDownload(data, 'excel')\">Excel</v-list-item-title>\n      </v-list-item>\n      <v-list-item link>\n        <v-list-item-title @click=\"clickDownload(data, 'csv')\">CSV</v-list-item-title>\n      </v-list-item>\n    </v-list>\n  </v-menu>\n</template>\n<script>\nimport { exportJSON, exportCSV, exportExcel } from '../../utils/utils';\n\nexport default {\n  name: 'export-data',\n  props: ['data', 'fileName', 'formatDataService'],\n  methods: {\n    clickDownload(data, type) {\n      let formattedData = data;\n      if (typeof this.formatDataService === 'function') {\n        formattedData = this.formatDataService(data);\n      }\n      switch (type) {\n        case 'csv':\n          return exportCSV(this.fileName, formattedData);\n        case 'excel':\n          return exportExcel(this.fileName, formattedData);\n        case 'json':\n          return exportJSON(this.fileName, JSON.stringify(formattedData));\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ExportData.vue?vue&type=template&id=783ad752&\"\nimport script from \"./ExportData.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\n\nconst endpoint = '/system-service';\n\nexport const fetchSystemServices = () => {\n  return http.get(endpoint);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const fetchSystemStatByServiceName = serviceName => {\n  return http.get(`${endpoint}/${serviceName}`);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-card-title',[_c('v-icon',{attrs:{\"color\":\"warning\"}},[_vm._v(\" mdi-alert-outline \")]),_vm._v(\"Confirm \")],1),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[_c('v-row',[_vm._v(_vm._s(_vm.dialogText))])],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onClose}},[_vm._v(\" No \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"loading\":_vm.loading,\"text\":\"\"},on:{\"click\":_vm.onConfirm}},[_vm._v(\" Yes \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/string-replace-loader/index.js??ref--6!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","<template>\n  <v-dialog v-model=\"isOpen\" persistent max-width=\"290\">\n    <v-card>\n      <v-card-title><v-icon color=\"warning\"> mdi-alert-outline </v-icon>&nbsp;Confirm </v-card-title>\n      <v-card-text>\n        <v-container>\n          <v-row>{{ dialogText }}</v-row>\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn text @click=\"onClose\"> No </v-btn>\n        <v-btn color=\"red darken-1\" :loading=\"loading\" text @click=\"onConfirm\"> Yes </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: 'confirm-dialog',\n  props: ['on-close', 'on-confirm', 'dialog-text', 'is-open', 'loading'],\n};\n</script>\n","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=0c0ea35a&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from '../axios';\nimport qs from 'query-string';\nimport { RUBIX_APP_TYPES } from '../constants/appConstant';\nimport * as systemSettingService from './systemSettingService';\nimport { exportENV, exportCSV, exportJSON } from '../utils/utils';\n\nconst endpoint = '/rubix-app';\n\nexport const fetchApps = () => {\n  const queryParams = qs.stringify({\n    browser_download_url: true,\n    latest_version: true,\n  });\n  return http.get(`${endpoint}?${queryParams}`);\n};\n\nexport const fetchAllApps = () => {\n  return systemSettingService.fetchSystemServices();\n};\n\nexport const fetchAllInstalledApps = () => {\n  return http.get(`${endpoint}`).then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchSystemDefaultApps = () => {\n  return systemSettingService\n    .fetchSystemServices()\n    .then(r => r.filter(appDetail => appDetail && appDetail.is_installed));\n};\n\nexport const fetchAppReleases = appName => {\n  return http.get(`${endpoint}/releases/${appName}`);\n};\n\nexport const fetchAppsReleases = services => {\n  return Promise.all(services.map(fetchAppReleases));\n};\n\nexport const fetchAppStatus = (appName, options = {}) => {\n  return http.get(`${endpoint}/stats/${appName}`, options);\n};\n\nexport const uninstallApp = appName => {\n  return http.post(`${endpoint}/uninstall`, { service: appName });\n};\n\nexport const installApp = body => {\n  return http.post(`${endpoint}/install`, [body]);\n};\n\nexport const downloadApp = body => {\n  return http.post(`${endpoint}/download`, [body]);\n};\n\nexport const changeServiceStatus = (action, serviceName) => {\n  return http.post(`${endpoint}/control`, [{ action, service: serviceName }]);\n};\n\nexport const uploadApp = (file, serviceName, version) => {\n  let formData = new FormData();\n  formData.append('file', file);\n  formData.append('service', serviceName);\n  formData.append('version', version);\n  return http.post(`${endpoint}/app-upload`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const deleteAppData = serviceName => {\n  return http.post(`${endpoint}/delete-app-data`, [{ service: serviceName }]);\n};\n\nexport const deleteAppDataService = serviceName => {\n  return deleteAppData(serviceName);\n};\n\nexport const downloadAppData = (serviceName, appSetting) => {\n  const url = `http://${appSetting.globalIp}:${appSetting.rubixServicePort}/api/app/download_data?service=${serviceName}`;\n  return http.get(url, {\n    headers: {\n      'Content-Type': 'application/zip',\n    },\n    responseType: 'arraybuffer',\n  });\n};\n\nexport const fetchJSONConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/json-config/${serviceName}`, config);\n};\n\nexport const fetchEnvConfig = (serviceName, config) => {\n  return http.get(`${endpoint}/env/${serviceName}`, config);\n};\n\nexport const fetchAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config);\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const saveJSONConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/json-config`, { service: serviceName, data: config });\n};\n\nexport const saveENVConfig = (serviceName, config) => {\n  return http.put(`${endpoint}/env`, { service: serviceName, data: config });\n};\n\nexport const saveAppConfig = (serviceName, appType, config) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return saveJSONConfig(serviceName, config || {});\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return saveENVConfig(serviceName, config || '');\n  }\n  throw new Error('App type not supported for editing config');\n};\n\nexport const deleteJSONConfig = serviceName => {\n  return http.delete(`${endpoint}/json-config`, { data: { service: serviceName } });\n};\n\nexport const deleteENVConfig = serviceName => {\n  return http.delete(`${endpoint}/env`, { data: { service: serviceName } });\n};\n\nexport const deleteAppConfig = (serviceName, appType) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return deleteJSONConfig(serviceName);\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return deleteENVConfig(serviceName);\n  }\n  throw new Error('App type not supported for deletion');\n};\n\nexport const downloadAppConfig = (serviceName, appType, config = {}) => {\n  if (appType === RUBIX_APP_TYPES.PYTHON_APP) {\n    return fetchJSONConfig(serviceName, config).then(data => {\n      exportJSON(`${serviceName}-config`, JSON.stringify(data));\n    });\n  } else if (appType === RUBIX_APP_TYPES.FRONTEND_APP) {\n    return fetchEnvConfig(serviceName, config).then(data => {\n      exportENV(`${serviceName}`, data);\n    });\n  }\n  throw new Error('App type not supported for download config');\n};\n\nexport const bulkAppControl = actions => http.post(`${endpoint}/control`, actions);\n\nexport const bulkInstallApps = services => http.post(`${endpoint}/install`, services);\n\nexport const bulkDownloadApps = services => http.post(`${endpoint}/download`, services);\n\nexport const fetchDownloadState = () => http.get(`${endpoint}/download-state`, { restrictToast: true });\n\nexport const deleteDownloadState = () => http.delete(`${endpoint}/download-state`);\n"],"sourceRoot":""}