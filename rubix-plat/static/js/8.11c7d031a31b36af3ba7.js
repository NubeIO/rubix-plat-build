(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+SqX":function(t,e,n){"use strict";var a={name:"page-title",props:["title"]},r=n("psIG"),i=Object(r.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("h1",{staticClass:"text-h5 text-left py-3"},[t._v(t._s(t.title))])}),[],!1,null,null,null);e.a=i.exports},"7Vew":function(t,e,n){"use strict";var a={name:"text-field-display",props:["label","value"]},r=n("psIG"),i=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("div",{staticClass:"grey--text caption mb-2"},[n("span",[t._v(t._s(t.label))])]):t._e(),t._v(" "),t.value?n("div",{staticClass:"font-weight-medium text-ellipses"},[n("span",{staticClass:"field-display-value",attrs:{title:t.value}},[t._v(t._s(t.value))])]):t._e()])}),[],!1,null,null,null);e.a=i.exports},E8PC:function(t,e,n){"use strict";e.a=n.p+"static/img/nube-frog-green.489e567.png"},MKDl:function(t,e,n){"use strict";var a={active:{name:"active",displayName:"Running",color:"success"},reloading:{name:"reloading",displayName:"Reloading",color:"yellow"},failed:{name:"failed",displayName:"Failed",color:"red"},activating:{name:"activating",displayName:"Activating",color:"yellow"},deactivating:{name:"deactivating",displayName:"Deactivating",color:"yellow"},maintenance:{name:"maintenance",displayName:"Maintenance",color:"yellow"}},r={name:"app-status-chip",props:["status","state"],computed:{currentStatus:function(){var t=a[this.state];return t||{name:"default",displayName:this.capitalize(this.state),color:"yellow"}},defaultStatus:function(){return this.capitalize(this.state)}},methods:{capitalize:function(t){return t||(t=""),(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}}},i=n("psIG"),s=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.state?n("div",[n("span",{staticClass:"font-weight-medium"},[n("v-chip",{attrs:{outlined:"",color:t.currentStatus.color}},[t._v(t._s(t.currentStatus.displayName))])],1)]):n("div",[n("span",{staticClass:"font-weight-medium"},[n("v-chip",{attrs:{outlined:"",color:"yellow"}},[t._v(t._s(t.defaultStatus))])],1)])])}),[],!1,null,null,null);e.a=s.exports},"Wgf/":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var a=n("uzYq"),r="/system-service",i=function(){return a.a.get(r)},s=function(t,e){return a.a.post(r+"/control",[{action:t,service:e}])}},lkCm:function(t,e,n){"use strict";var a={name:"confirm-dialog",props:["on-close","on-confirm","dialog-text","is-open","loading"]},r=n("psIG"),i=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[n("v-card",[n("v-card-title",[n("v-icon",{attrs:{color:"warning"}},[t._v(" mdi-alert-outline ")]),t._v(" Confirm ")],1),t._v(" "),n("v-card-text",[n("v-container",[n("v-row",[t._v(t._s(t.dialogText))])],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:t.onClose}},[t._v(" No ")]),t._v(" "),n("v-btn",{attrs:{color:"red darken-1",loading:t.loading,text:""},on:{click:t.onConfirm}},[t._v(" Yes ")])],1)],1)],1)}),[],!1,null,null,null);e.a=i.exports},nz6T:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchApps",(function(){return p})),n.d(e,"fetchAllApps",(function(){return m})),n.d(e,"fetchAllInstalledApps",(function(){return h})),n.d(e,"fetchSystemDefaultApps",(function(){return g})),n.d(e,"fetchAppReleases",(function(){return _})),n.d(e,"fetchAppsReleases",(function(){return b})),n.d(e,"fetchAppStatus",(function(){return y})),n.d(e,"uninstallApp",(function(){return w})),n.d(e,"installApp",(function(){return x})),n.d(e,"downloadApp",(function(){return D})),n.d(e,"changeServiceStatus",(function(){return k})),n.d(e,"uploadApp",(function(){return S})),n.d(e,"deleteAppData",(function(){return C})),n.d(e,"deleteAppDataService",(function(){return A})),n.d(e,"downloadAppData",(function(){return T})),n.d(e,"fetchJSONConfig",(function(){return E})),n.d(e,"fetchEnvConfig",(function(){return N})),n.d(e,"fetchAppConfig",(function(){return z})),n.d(e,"saveJSONConfig",(function(){return O})),n.d(e,"saveENVConfig",(function(){return $})),n.d(e,"saveAppConfig",(function(){return R})),n.d(e,"deleteJSONConfig",(function(){return P})),n.d(e,"deleteENVConfig",(function(){return j})),n.d(e,"deleteAppConfig",(function(){return B})),n.d(e,"downloadAppConfig",(function(){return I})),n.d(e,"bulkAppControl",(function(){return q})),n.d(e,"bulkInstallApps",(function(){return F})),n.d(e,"bulkDownloadApps",(function(){return L})),n.d(e,"fetchDownloadState",(function(){return K})),n.d(e,"deleteDownloadState",(function(){return M}));var a=n("/9Wh"),r=n.n(a),i=n("OBCi"),s=n.n(i),o=n("uzYq"),c=n("NWgQ"),l=n.n(c),u=n("A5Vd"),d=n("Wgf/"),v=n("+n12"),f="/rubix-app",p=function(){var t=l.a.stringify({browser_download_url:!0,latest_version:!0});return o.a.get(f+"?"+t)},m=function(){return d.b()},h=function(){return o.a.get(""+f).then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},g=function(){return d.b().then((function(t){return t.filter((function(t){return t&&t.is_installed}))}))},_=function(t){return o.a.get(f+"/releases/"+t)},b=function(t){return s.a.all(t.map((function(t){return _(t).catch((function(t){return[]}))})))},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.a.get(f+"/stats/"+t,e)},w=function(t){return o.a.post(f+"/uninstall",{service:t})},x=function(t){return o.a.post(f+"/install",[t])},D=function(t){return o.a.post(f+"/download",[t])},k=function(t,e){return o.a.post(f+"/control",[{action:t,service:e}])},S=function(t,e,n){var a=new FormData;return a.append("file",t),a.append("service",e),a.append("version",n),o.a.post(f+"/app-upload",a,{headers:{"Content-Type":"multipart/form-data"}})},C=function(t){return o.a.post(f+"/delete-app-data",[{service:t}])},A=function(t){return C(t)},T=function(t,e){var n="http://"+e.globalIp+":"+e.rubixServicePort+"/api/app/download_data?service="+t;return o.a.get(n,{headers:{"Content-Type":"application/zip"},responseType:"arraybuffer"})},E=function(t,e){return o.a.get(f+"/json-config/"+t,e)},N=function(t,e){return o.a.get(f+"/env/"+t,e)},z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return E(t,n).then((function(t){return t.data}));if(e===u.g.FRONTEND_APP)return N(t,n).then((function(t){return t.data}));throw new Error("App type not supported for editing config")},O=function(t,e){return o.a.put(f+"/json-config",{service:t,data:e})},$=function(t,e){return o.a.put(f+"/env",{service:t,data:e})},R=function(t,e,n){if(e===u.g.PYTHON_APP)return O(t,n||{});if(e===u.g.FRONTEND_APP)return $(t,n||"");throw new Error("App type not supported for editing config")},P=function(t){return o.a.delete(f+"/json-config",{data:{service:t}})},j=function(t){return o.a.delete(f+"/env",{data:{service:t}})},B=function(t,e){if(e===u.g.PYTHON_APP)return P(t);if(e===u.g.FRONTEND_APP)return j(t);throw new Error("App type not supported for deletion")},I=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===u.g.PYTHON_APP)return E(t,n).then((function(e){var n=e.data;Object(v.f)(t+"-config",r()(n))}));if(e===u.g.FRONTEND_APP)return N(t,n).then((function(e){var n=e.data;Object(v.d)(""+t,n)}));throw new Error("App type not supported for download config")},q=function(t){return o.a.post(f+"/control",t)},F=function(t){return o.a.post(f+"/install",t)},L=function(t){return o.a.post(f+"/download",t)},K=function(){return o.a.get(f+"/download-state",{restrictToast:!0})},M=function(){return o.a.delete(f+"/download-state")}},vQiG:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"f",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"g",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l}));var a={success:"Successfully updated status change.",error:"Status change unsuccessful."},r={success:"Successfully updated setting.",error:"Status change unsucessful."},i={success:"Upgrade successful.",error:"Upgrade unsuccessful."},s={success:"Successfully created mapping.",error:"Mapping could not be created."},o={success:"Successfully updated mapping.",error:"Mapping could not be updated."},c={success:"Successfully deleted mapping",error:"Mapping could not be deleted"},l={success:"Successfully deleted mapping(s)",error:"Mapping(s) could not be deleted"}},"yu+2":function(t,e,n){"use strict";n.r(e);var a,r=n("TcPG"),i=n.n(r),s=n("+SqX"),o=n("Kz1y"),c=n.n(o),l={name:"icon-button",props:["icon-key","on-click","button-title","color"]},u=n("psIG"),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"pa-2",attrs:{color:t.color,"x-small":"",text:""},on:{click:t.onClick}},[n("v-icon",[t._v(t._s(t.iconKey))]),t._v(" "),t.buttonTitle?n("span",[t._v(" "+t._s(t.buttonTitle))]):t._e()],1)}),[],!1,null,null,null).exports,v=n("lkCm"),f=n("MKDl"),p=n("7Vew"),m=n("A5Vd"),h=n("vQiG"),g={name:"app-details-view",props:["app-detail","sync-app-details","change-service-status"],components:{AppStatusChip:f.a,IconButton:d,ConfirmDialog:v.a,TextFieldDisplay:p.a},data:function(){var t,e,n={startBtn:"startBtn",restartBtn:"restartBtn",stopBtn:"stopBtn",enableBtn:"enableBtn",disableBtn:"disableBtn"},a=(t={},i()(t,n.startBtn,{name:n.startBtn,title:"Start",color:"blue darken-2",iconKey:"mdi-play-circle-outline",action:m.f.START}),i()(t,n.restartBtn,{name:n.restartBtn,title:"Restart",color:"green darken-2",iconKey:"mdi-restart",action:m.f.RESTART}),i()(t,n.stopBtn,{name:n.stopBtn,title:"Stop",onClick:this.onStart,iconKey:"mdi-stop-circle-outline",action:m.f.STOP}),t),r={enable:m.f.ENABLE,disable:m.f.DISABLE},s=[n.startBtn,n.stopBtn,n.restartBtn];return{appActions:c()({},m.f),cardLoading:!1,dialog:(e={},i()(e,m.f.STOP,!1),i()(e,m.f.RESTART,!1),e),btnNames:n,toggleConfig:r,status:this.appDetail.status,isEnabled:this.appDetail.is_enabled,state:this.appDetail.state,version:this.appDetail.version||"-",serviceName:this.appDetail.service||"-",message:this.appDetail.msg||"",displayName:this.appDetail.display_name,activeSince:this.appDetail.time_since||"N/A",actionButtons:s.map((function(t){return a[t]}))}},methods:{handleControlAction:function(t){switch(t){case m.f.START:case m.f.ENABLE:case m.f.DISABLE:this.updateServiceStatus(t);break;case m.f.STOP:case m.f.RESTART:this.dialog[t]=!0}},closeDialog:function(t){this.dialog[t]=!1},handleDialogConfirm:function(t){var e=this;this.updateServiceStatus(t,(function(){return e.closeDialog(t)}))},updateServiceStatus:function(t,e){var n=this;this.cardLoading=!0;var a=t===this.toggleConfig.enable||t===this.toggleConfig.disable;this.changeServiceStatus(t,this.appDetail.service).then((function(t){a||"function"==typeof n.syncAppDetails&&n.syncAppDetails(),n.$toasted.show(h.a.success)})).catch((function(t){console.error(t),n.$toasted.show(h.a.error,{type:"error"})})).finally((function(){n.cardLoading=!1,a&&n.$store.commit("changeAppDetailsStatus",{service:n.appDetail.service,isEnabled:n.isEnabled}),"function"==typeof e&&e()}))}}},_=Object(u.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{elevation:"2",outlined:"",loading:t.cardLoading}},[n("v-card-text",[n("v-row",{staticClass:"mb-n2",attrs:{dense:""}},[n("v-col",{staticClass:"text-left",attrs:{cols:"12"}},[n("text-field-display",{attrs:{value:t.displayName}})],1)],1),t._v(" "),n("v-row",{staticClass:"mb-n2",attrs:{dense:""}},[n("v-col",{staticClass:"text-left justify-flex-start app-status-chip-wrapper",attrs:{cols:"6"}},[n("app-status-chip",{attrs:{state:t.state}})],1),t._v(" "),n("v-col",{staticClass:"app-detail-switch-wrapper",attrs:{cols:"6"}},[n("div",{staticClass:"mr-n3"},[n("span",{staticClass:"grey--text caption"},[t._v("Enable")]),t._v(" "),n("v-switch",{attrs:{inset:"",disabled:t.cardLoading,color:"success"},on:{change:function(e){return t.handleControlAction(t.isEnabled?t.toggleConfig.enable:t.toggleConfig.disable)}},model:{value:t.isEnabled,callback:function(e){t.isEnabled=e},expression:"isEnabled"}})],1)])],1),t._v(" "),n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"text-left",attrs:{cols:"5"}},[n("text-field-display",{attrs:{label:"Service Name",value:t.serviceName}})],1),t._v(" "),n("v-col",{staticClass:"text-left",attrs:{cols:"3"}},[n("text-field-display",{attrs:{label:"Version",value:t.version}})],1),t._v(" "),n("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[n("text-field-display",{attrs:{label:"Active",value:t.activeSince}})],1)],1)],1),t._v(" "),t.appDetail.service?n("div",{staticClass:"mb-3"},[n("span",{staticClass:"flex-box justify-space-between px-2"},t._l(t.actionButtons,(function(e){return n("icon-button",{key:e.name,attrs:{"on-click":function(){return t.handleControlAction(e.action)},"button-title":e.title,"icon-key":e.iconKey,color:e.color}})})),1)]):t._e()],1),t._v(" "),n("confirm-dialog",{attrs:{"is-open":t.dialog.stop,loading:t.cardLoading,"on-close":function(){return t.closeDialog(t.appActions.STOP)},"on-confirm":function(){return t.handleDialogConfirm(t.appActions.STOP)},"dialog-text":"Do you want to stop the app?"}}),t._v(" "),n("confirm-dialog",{attrs:{"is-open":t.dialog.restart,loading:t.cardLoading,"on-close":function(){return t.closeDialog(t.appActions.RESTART)},"on-confirm":function(){return t.handleDialogConfirm(t.appActions.RESTART)},"dialog-text":"Do you want to restart the app?"}})],1)}),[],!1,null,null,null).exports,b=n("nz6T"),y=n("EwjG"),w=n("Wgf/"),x={components:{AppDetailsView:_,PageTitle:s.a},data:function(){return{isLoadingData:!1,recompute:0}},computed:{systemDefaultApps:function(){return this.$store.state.systemDefaultApps}},methods:{fetchSystemDefaultApps:function(){var t=this;return b.fetchSystemDefaultApps().then((function(e){t.$store.commit(y.b,e),t.recompute++})).catch((function(t){console.error(t)})).finally((function(){t.isLoadingData=!1}))},changeServiceStatus:w.a}},D=Object(u.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-text",{attrs:{loading:t.isLoadingData}},[n("page-title",{attrs:{title:"Services"}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutter":""}},t._l(t.systemDefaultApps,(function(e){return n("v-col",{key:e.service,attrs:{cols:"12",lg:"4",md:"6",sm:"12",xs:"12"}},[n("app-details-view",{key:t.recompute+"-"+e.service,attrs:{"app-detail":e,"sync-app-details":t.fetchSystemDefaultApps,"change-service-status":t.changeServiceStatus}})],1)})),1)],1)],1)}),[],!1,null,null,null).exports,k=n("E8PC"),S={components:{AppDetailsView:_,PageTitle:s.a},data:function(){return{logo:k.a,action:"",valid:!1,isLoadingData:!1,recompute:0}},computed:{services:function(){return this.$store.state.installedServices}},mounted:function(){this.fetchAllServices()},methods:{fetchAllServices:function(){var t=this;return this.isLoadingData=!0,b.fetchAllInstalledApps().then((function(e){t.$store.commit("changeInstalledServices",e),t.recompute++})).catch((function(t){console.error(t)})).finally((function(){t.isLoadingData=!1}))},changeServiceStatus:b.changeServiceStatus}},C=Object(u.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-text",[n("page-title",{attrs:{title:"Installed Apps"}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutter":""}},t._l(t.services,(function(e){return n("v-col",{key:e.service,attrs:{cols:"12",lg:"4",md:"6",sm:"12",xs:"12"}},[n("app-details-view",{key:t.recompute+"-"+e.service,attrs:{"app-detail":e,"sync-app-details":t.fetchAllServices,"change-service-status":t.changeServiceStatus}})],1)})),1)],1)],1)}),[],!1,null,"6174c768",null).exports,A=n("tZmG"),T=n.n(A),E=n("06Hw"),N=n.n(E),z=n("YYXh"),O=n.n(z),$=n("uzYq"),R={props:["item","cancel","save"],data:function(){return{rules:{required:function(t){return!!t||"Required."}},confirmDialog:!1}},computed:{formData:function(){return this.item}},methods:{onConfirm:function(){this.confirmDialog=!1,this.save(this.formData)}}},P={name:"networking",components:{UpdateNetworking:Object(u.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{ref:"form",attrs:{"lazy-validation":""}},[n("v-switch",{attrs:{label:"DHCP?"},model:{value:t.formData.isDhcp,callback:function(e){t.$set(t.formData,"isDhcp",e)},expression:"formData.isDhcp"}}),t._v(" "),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Interface",required:""},model:{value:t.formData.interface,callback:function(e){t.$set(t.formData,"interface",e)},expression:"formData.interface"}})],1),t._v(" "),n("v-col",[n("v-switch",{attrs:{label:"Reset Network?",rules:[t.rules.required]},model:{value:t.formData.network_reset,callback:function(e){t.$set(t.formData,"network_reset",e)},expression:"formData.network_reset"}})],1)],1),t._v(" "),n("v-row",[n("v-col",[t.formData.isDhcp?t._e():n("v-text-field",{attrs:{label:"IP Address",required:"",rules:[t.rules.required]},model:{value:t.formData.ip_address,callback:function(e){t.$set(t.formData,"ip_address",e)},expression:"formData.ip_address"}})],1),t._v(" "),n("v-col",[t.formData.isDhcp?t._e():n("v-text-field",{attrs:{label:"Routers",required:"",rules:[t.rules.required]},model:{value:t.formData.routers,callback:function(e){t.$set(t.formData,"routers",e)},expression:"formData.routers"}})],1)],1),t._v(" "),n("v-row",[n("v-col",[t.formData.isDhcp?t._e():n("v-text-field",{attrs:{label:"Domain Name",required:"",rules:[t.rules.required]},model:{value:t.formData.domain_name_server,callback:function(e){t.$set(t.formData,"domain_name_server",e)},expression:"formData.domain_name_server"}})],1),t._v(" "),n("v-col",[t.formData.isDhcp?t._e():n("v-text-field",{attrs:{label:"Netmask",required:"",rules:[t.rules.required]},model:{value:t.formData.netmask,callback:function(e){t.$set(t.formData,"netmask",e)},expression:"formData.netmask"}})],1)],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"darken-1",text:""},on:{click:t.cancel}},[t._v(" Cancel ")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.confirmDialog=!0}}},[t._v(" Save ")])],1)],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        Confirm?\n      ")]),t._v(" "),n("v-card-text",[t._v("Are you sure?")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.confirmDialog=!1}}},[t._v("\n          No\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:t.onConfirm}},[t._v("\n          Yes\n        ")])],1)],1)],1)],1)}),[],!1,null,"1f9575bc",null).exports},data:function(){return{logo:k.a,dialog:!1,portRules:[],fireWallStatus:!1,headers:[],currentItem:{},data:[]}},mounted:function(){this.getData(),this.getFirewallData(),this.getPortRules()},methods:{getPortRules:function(){var t=this;$.a.get("rubix-service/networking/ufw/rules").then((function(e){t.portRules=e}))},enableFirewall:function(t){var e=this;return O()(N.a.mark((function n(){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t?"enable":"disable",n.next=3,$.a.post("rubix-service/networking/ufw/enable",{enable:a}).then((function(t){e.$toasted.show(t.toString()),e.getFirewallData()}));case 3:case"end":return n.stop()}}),n,e)})))()},getFirewallData:function(){var t=this;$.a.get("rubix-service/networking/ufw/status").then((function(e){t.fireWallStatus=e}))},onCancelUpdate:function(){this.dialog=!1},onSave:function(t){var e=this;return O()(N.a.mark((function n(){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=void 0,a=t.isDhcp?{interface:t.interface,network_reset:!!t.network_reset}:{interface:t.interface,network_reset:!!t.network_reset,ip_address:t.ip_address,routers:t.routers,domain_name_server:t.domain_name_server,netmask:t.netmask},$.a.post("rubix-service/networking/"+(t.isDhcp?"dhcp":"static"),a).then((function(t){e.$toasted.show("Success!"),e.dialog=!1,e.getData()})).catch((function(t){var n=t.message;e.$toasted.show(n,{type:"error"})}));case 3:case"end":return n.stop()}}),n,e)})))()},onClickEdit:function(t){this.dialog=!0,this.currentItem=c()({},t)},getData:function(){var t=this;return O()(N.a.mark((function e(){var n,a,r,i,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("rubix-service/networking");case 2:for(i in n=e.sent,a=[],r=[{text:"",value:"name"}],n)a.push(c()({},n[i],{name:i}));for(s in n[T()(n)[0]])r.push({text:s,value:s});r.push({text:"Tools",value:"tools"}),t.headers=r,t.data=a;case 11:case"end":return e.stop()}}),e,t)})))()}}},j=Object(u.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("H3",{attrs:{align:"left"}},[t._v(" Network Inferface ")]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.data,"item-key":"uuid","show-select":"","disable-sort":""},scopedSlots:t._u([{key:"no-data",fn:function(){return[t._v(" No data ")]},proxy:!0},{key:"item.tools",fn:function(e){var a=e.item;return[n("v-btn",{staticClass:"white--text",attrs:{icon:"",small:""}},[n("v-icon",{attrs:{small:"",dark:""},on:{click:function(){return t.onClickEdit(a)}}},[t._v("\n          mdi-square-edit-outline\n        ")])],1)]}}])}),t._v(" "),n("H3",{attrs:{align:"left"}},[t._v(" Firewall ")]),t._v(" "),n("v-row",{staticStyle:{"margin-bottom":"20px"}},[n("v-col",[n("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[n("v-card-title",[n("h5",[t._v("Firewall")]),t._v(" "),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-avatar",{attrs:{size:"35"}},[n("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),n("v-card-text",{staticClass:"card-text-height text-left"},[n("div",[n("span",{staticClass:"value-style"},[t._v("Firewall status: "+t._s(t.fireWallStatus))])]),t._v(" "),n("div",[n("span",{staticClass:"value-style"},[n("v-switch",{attrs:{label:"Enable Firewall"},on:{change:t.enableFirewall},model:{value:t.fireWallStatus,callback:function(e){t.fireWallStatus=e},expression:"fireWallStatus"}})],1)])])],1)],1),t._v(" "),n("v-col",[n("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[n("v-card-title",[n("h5",[t._v("Rule list")]),t._v(" "),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-avatar",{attrs:{size:"35"}},[n("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),n("v-card-text",{staticClass:"card-text-height"},t._l(t.portRules,(function(e){return n("div",{staticClass:"text-left"},[n("span",{staticClass:"value-style"},[t._v(t._s(e.index)+" | "+t._s(e.port)+" | "+t._s(e.action))])])})),0)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Update")])]),t._v(" "),n("v-card-text",[n("update-networking",{attrs:{save:t.onSave,cancel:t.onCancelUpdate,item:t.currentItem}})],1)],1)],1)],1)}),[],!1,null,"381780dc",null).exports,B=n("+n12"),I={components:{PageTitle:s.a},data:function(){return{logo:k.a,freeDisc:{},action:"",timezone:"",timezones:[],time:{},memory:{},confirmDialog:!1,objectKey:T.a}},mounted:function(){var t=this;return O()(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.freeDiscFunc(),t.getSystemTime(),t.getSystemMemory(),t.getTimezones();case 4:case"end":return e.stop()}}),e,t)})))()},computed:{setting:function(){return this.$store.state.setting}},methods:{onChangeTimezone:function(){this.confirmDialog=!0,this.action="changeTimezone"},changeTimezone:function(){var t=this;$.a.post("timezones",{timezone:this.timezone}).then((function(e){t.$toasted.show("success")})).catch((function(e){var n=e.message;t.$toasted.show(n,{type:"error"})}))},getTimezones:function(){var t=this;$.a.get("timezones").then((function(e){t.timezones=e}))},onCancelConfirm:function(){this.confirmDialog=!1,this.timezone="",this.action=""},restartHost:function(){var t=this;return O()(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("rubix-service/system/host/restart",{action:"restart"});case 2:n=e.sent,t.$toasted.show(n.toString());case 4:case"end":return e.stop()}}),e,t)})))()},onConfirm:function(){this.confirmDialog=!1,this[this.action]()},switchReboot:function(t){t&&(this.action="restartHost",this.confirmDialog=!0)},freeDiscFunc:function(){var t=this;$.a.get("rubix-service/disc").then((function(e){t.freeDisc=e}))},getSystemTime:function(){var t=this;$.a.get("rubix-service/time").then((function(e){e.tz_local&&(e.tz_local.forEach((function(t,n){var a="tz_local_["+n+"]";e=c()({},e,i()({},a,t))})),delete e.tz_local),t.time=e}))},getSystemMemory:function(){var t=this;$.a.get("rubix-service/memory").then((function(e){t.memory=e}))},toUpperTextKey:function(t){return Object(B.o)(t)}}},q=(a={name:"services",components:{SystemDefaultServices:D,Networking:j,InstalledServices:C,HostInfo:Object(u.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card-text",[n("page-title",{attrs:{title:"Host Info"}}),t._v(" "),n("div",{staticStyle:{"text-align":"start"}},[n("v-row",[n("v-col",[n("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[n("v-card-title",[n("h5",[t._v("Reboot Host")]),t._v(" "),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-avatar",{attrs:{size:"35"}},[n("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),n("v-card-text",{staticClass:"card-text-height"},[n("v-switch",{attrs:{label:"Reboot"},on:{change:t.switchReboot}})],1)],1)],1),t._v(" "),n("v-col",[n("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[n("v-card-title",[n("h5",[t._v("SYSTEM DISC USAGE")]),t._v(" "),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-avatar",{attrs:{size:"35"}},[n("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),n("v-card-text",{staticClass:"card-text-height"},t._l(t.objectKey(t.freeDisc),(function(e,a){return n("div",{key:a},[t._v("\n                "+t._s(t.toUpperTextKey(e))+": "),n("span",{staticClass:"value-style"},[t._v(t._s(t.freeDisc[e]))])])})),0),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{"x-small":"",color:"pink darken-2",text:""},on:{click:function(e){return t.freeDiscFunc()}}},[n("v-icon",[t._v("mdi-refresh")]),t._v(" Refresh")],1)],1)],1)],1),t._v(" "),n("v-col",[n("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[n("v-card-title",[n("h5",[t._v("SYSTEM TIME")]),t._v(" "),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-avatar",{attrs:{size:"35"}},[n("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),n("v-card-text",{staticClass:"card-text-height"},[t._l(t.objectKey(t.time),(function(e,a){return n("div",{key:a},[t._v("\n                "+t._s(t.toUpperTextKey(e))+": \n                "),"time_utc"==e||"time_local"==e?n("span",{staticClass:"value-style"},[t._v(t._s(t.time[e]))]):t._e(),t._v(" "),"time_utc"!=e&&"time_local"!=e?n("span",{staticClass:"value-style"},[t._v(t._s(t.time[e]))]):t._e()])})),t._v(" "),n("v-autocomplete",{attrs:{items:t.timezones,label:"Timezones","persistent-hint":""},on:{change:t.onChangeTimezone},model:{value:t.timezone,callback:function(e){t.timezone=e},expression:"timezone"}})],2),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{"x-small":"",color:"pink darken-2",text:""},on:{click:function(e){return t.getSystemTime()}}},[n("v-icon",[t._v("mdi-refresh")]),t._v(" Refresh")],1)],1)],1)],1),t._v(" "),n("v-col",[n("v-card",{staticClass:"card-height",attrs:{elevation:"2",outlined:"",tile:""}},[n("v-card-title",[n("h5",[t._v("SYSTEM MEMORY")]),t._v(" "),n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-avatar",{attrs:{size:"35"}},[n("img",{attrs:{alt:"logo",src:t.logo}})])],1)],1),t._v(" "),n("v-card-text",{staticClass:"card-text-height"},t._l(t.objectKey(t.memory),(function(e,a){return n("div",{key:a},[t._v("\n                "+t._s(t.toUpperTextKey(e))+": "),n("span",{staticClass:"value-style"},[t._v(t._s(t.memory[e]))])])})),0),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{"x-small":"",color:"pink darken-2",text:""},on:{click:function(e){return t.getSystemMemory()}}},[n("v-icon",[t._v("mdi-refresh")]),t._v(" Refresh")],1)],1)],1)],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        Confirm?\n      ")]),t._v(" "),n("v-card-text",[t._v("Are you sure?")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.onCancelConfirm}},[t._v("\n          No\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.onConfirm()}}},[t._v("\n          Yes\n        ")])],1)],1)],1)],1)}),[],!1,null,"6711c4e4",null).exports},data:function(){return{tab:0,tabs:["installed-services","items","networking","host-info"],isDisabled:!1}},mounted:function(){this.setTab()},watch:{"$route.query.tab":function(t){this.tab=this.tabs.indexOf(t)},tab:function(t,e){var n=this.$route.query.tab;if(n!==this.tabs[t]){var a=this.tabs[t];this.$router.push({path:"services",query:{tab:a}})}}}},i()(a,"mounted",(function(){var t=this.$route.query.tab;this.tab=this.tabs.indexOf(t)})),i()(a,"methods",{setTab:function(){var t=this.$route.query.tab;this.tab=t?this.tabs.indexOf(t):0}}),i()(a,"computed",{setting:function(){return this.$store.state.setting}}),a),F=Object(u.a)(q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-tabs",{attrs:{"fixed-tabs":"",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{key:0},[t._v(" Installed Apps ")]),t._v(" "),n("v-tab",{key:1},[t._v(" Services ")]),t._v(" "),n("v-tab",{key:2},[t._v(" Networking ")]),t._v(" "),n("v-tab",{key:3},[t._v(" Host Info ")])],1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{key:0},[n("installed-services")],1),t._v(" "),n("v-tab-item",{key:1},[n("system-default-services")],1),t._v(" "),n("v-tab-item",{key:2},[n("networking")],1),t._v(" "),n("v-tab-item",{key:3},[n("host-info")],1)],1)],1)}),[],!1,null,null,null);e.default=F.exports}}]);
//# sourceMappingURL=8.11c7d031a31b36af3ba7.js.map