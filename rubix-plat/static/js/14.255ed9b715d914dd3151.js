(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+SqX":function(e,t,a){"use strict";var i={name:"page-title",props:["title"]},n=a("psIG"),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"text-h5 text-left py-3"},[a("span",[e._v(e._s(e.title))]),e._v(" "),e._t("refreshIcon"),e._v(" "),e._t("titleActions"),e._v(" "),e._t("spinner")],2)}),[],!1,null,null,null);t.a=r.exports},0:function(e,t){},1:function(e,t){},2:function(e,t){},"2wH6":function(e,t,a){"use strict";var i={name:"import-from-excel-dialog",props:["on-close","on-confirm","is-open"],data:function(){return{file:null}}},n=a("psIG"),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",width:"500px"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[a("v-card",[a("v-card-title",[e._v("Choose excel file")]),e._v(" "),a("v-card-text",[a("v-file-input",{attrs:{outlined:"",dense:"",label:"Choose File",accept:".xls,.xlsx"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.onClose(),e.file=null}}},[e._v("Close")]),e._v(" "),a("v-btn",{attrs:{color:"primary darken-1",text:"",disabled:!e.file},on:{click:function(t){e.onConfirm(e.file),e.file=null}}},[e._v("Convert")])],1)],1)],1)}),[],!1,null,null,null);t.a=r.exports},"6MuH":function(e,t,a){"use strict";var i={name:"switch-button",props:["is-enable","enable-text","disable-text","enable-color","disable-color","on-switch"],components:{TooltipIconButton:a("Ui9F").a}},n=a("psIG"),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isEnable?e._e():a("tooltip-icon-button",{attrs:{btnColor:e.disableColor,buttonSize:"medium",btnIcon:"mdi-toggle-switch-off-outline",btnTooltip:e.disableText,onClick:e.onSwitch}}),e._v(" "),e.isEnable?a("tooltip-icon-button",{attrs:{btnColor:e.enableColor,buttonSize:"medium",btnIcon:"mdi-toggle-switch-outline",btnTooltip:e.enableText,onClick:e.onSwitch}}):e._e()],1)}),[],!1,null,null,null);t.a=r.exports},"7Vew":function(e,t,a){"use strict";var i={name:"text-field-display",props:["label","value"]},n=a("psIG"),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.label?a("div",{staticClass:"grey--text caption mb-2"},[a("span",[e._v(e._s(e.label)+" "),e._t("afterLabel")],2)]):e._e(),e._v(" "),e.value?a("div",{staticClass:"font-weight-medium text-ellipses"},[a("span",{attrs:{title:e.value}},[e._v(e._s(e.value)),e._t("afterLabel")],2)]):e._e()])}),[],!1,null,null,null);t.a=r.exports},"8q1a":function(e,t,a){"use strict";var i=a("06Hw"),n=a.n(i),r=a("YYXh"),s=a.n(r),o=a("/9Wh"),l=a.n(o),c=a("t3kO"),u=a.n(c),d=a("snOE"),v=a.n(d),p=a("Kz1y"),m=a.n(p),f=a("uzYq"),g=a("yEOx"),_=a.n(g),b={props:["onSave","onCancel","item"],data:function(){return{rules:{required:function(e){return!!e||"Required."}},valid:!1}},mounted:function(){this.$refs.form.validate()},methods:{},computed:{formData:function(){return this.item.color=this.item.color?this.item.color:"#FF0000FF",this.item}}},h=a("psIG"),x=Object(h.a)(b,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("New Subscription")])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Topic",required:"",rules:[e.rules.required]},model:{value:e.formData.topic,callback:function(t){e.$set(e.formData,"topic",t)},expression:"formData.topic"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-color-picker",{attrs:{"dot-size":"25",mode:"hexa","swatches-max-height":"200"},model:{value:e.formData.color,callback:function(t){e.$set(e.formData,"color",t)},expression:"formData.color"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:function(t){return e.onSave(e.formData)}}},[e._v(" Save ")])],1)],1)}),[],!1,null,null,null).exports,k=a("6MuH"),y=a("+n12"),I={props:{editable:{type:Boolean,default:!0},subscriptions:{type:Array,default:[]}},components:{SubscriptionForm:x,SwitchButton:k.a},data:function(){return{subscriptionDialog:!1,required:function(e){return!!e||"Required."},message:"",topic:"",pause:!1,toggle:"all",selectedIndex:-1,valid:!1,confirmDialog:!1,messages:[],subscriptionItem:{},editedIndex:-1}},mounted:function(){var e=this;this.socket=new WebSocket(Object(y.l)(),"mqtt"),this.socket.addEventListener("message",(function(t){var a=t.data,i=JSON.parse(a);e.pause||e.messages.push(m()({},i,{type:"receive"}))}))},computed:{mqttConfig:function(){return this.$store.state.mqttConfig},filteredMessages:function(){var e=this,t=[].concat(v()(this.messages)),a=[],i={};if(this.subscriptions){a=this.subscriptions;var n=!0,r=!1,s=void 0;try{for(var o,l=u()(a);!(n=(o=l.next()).done);n=!0){var c=o.value;i[c.topic]=c.color}}catch(e){r=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw s}}}return t=t.filter((function(t){var n=!1,r=!0,s=!1,o=void 0;try{for(var l,c=u()(a);!(r=(l=c.next()).done);r=!0){var d=l.value;if(Object(y.q)(t.topic,d.topic)&&d.enable){n=!0,t.color=i[d.topic];break}}}catch(e){s=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw o}}return"all"!==e.toggle&&(n&=t.type===e.toggle),n}))}},updated:function(){var e=this.$el.querySelector("#message-container");e.scrollTop=e.scrollHeight},methods:{pauseMessage:function(){this.pause=!this.pause},onSave:function(){var e=this;f.a.put("mqtt/config",this.mqttConfig).then((function(t){e.$toasted.show("Success"),e.$store.commit("changeMqttConfig",e.mqttConfig)}))},clickDownload:function(e,t){return"csv"===t?Object(y.e)("mqtt-messages",e):"json"===t?Object(y.h)("mqtt-messages",l()(e)):void 0},confirm:function(){this.subscriptions.splice(this.selectedIndex,1),this.confirmDialog=!1,this.onSave()},removeSubscription:function(e){this.confirmDialog=!0,this.selectedIndex=e},editSubscription:function(e){this.subscriptionItem=_()(this.subscriptions[e]),this.subscriptionDialog=!0,this.editedIndex=e},sendMessage:function(){var e=this;return s()(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.form.validate(),e.$refs.form.validate()){t.next=4;break}return t.abrupt("return");case 4:return a={topic:e.topic,message:e.message},e.messages.push({type:"publish",text:e.message,topic:e.topic,time:new Date}),t.next=8,f.a.post("mqtt/send-message",a);case 8:case"end":return t.stop()}}),t,e)})))()},onCloseSubscription:function(){this.subscriptionDialog=!1,this.subscriptionItem={},this.editedIndex=-1},onSaveSubscription:function(e){this.editedIndex>-1?this.subscriptions[this.editedIndex]=e:this.subscriptions?this.subscriptions.push(e):this.subscriptions=[e],this.onSave(),this.onCloseSubscription()},stopTheEvent:function(e){e.stopPropagation()}}},w=Object(h.a)(I,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"3",sm:"4",md:"3"}},[e.editable?a("v-btn",{staticClass:"mb-3",attrs:{small:"",block:""},on:{click:function(t){e.subscriptionDialog=!0,e.subscriptionItem={enable:!0}}}},[e._v("\n        New Subscription"),a("v-icon",{attrs:{small:"",right:""}},[e._v("mdi-shape-square-plus")])],1):e._e(),e._v(" "),e._l(e.subscriptions,(function(t,i){return a("v-btn",{key:i,staticClass:"subscription-item border-left",style:"border-color: "+t.color,attrs:{small:"",block:""}},[a("span",{staticClass:"truncate"},[e._v(e._s(t.topic))]),e._v(" "),a("span",{staticClass:"white--text d-flex"},[a("switch-button",{attrs:{"is-enable":t.enable,"enable-text":"Disable","disable-text":"Enable","enable-color":"exportColor","disable-color":"grey","on-switch":function(){t.enable=!t.enable,e.onSave()}}}),e._v(" "),e.editable?a("a",{staticStyle:{margin:"auto"},on:{click:[function(t){return e.editSubscription(i)},function(t){return t.stopPropagation(),e.stopTheEvent(t)}]}},[a("v-icon",{attrs:{small:"",color:"blue"}},[e._v(" mdi-pencil-circle ")])],1):e._e(),e._v(" \n          "),e.editable?a("a",{staticStyle:{margin:"auto"},on:{click:[function(t){return e.removeSubscription(i)},function(t){return t.stopPropagation(),e.stopTheEvent(t)}]}},[a("v-icon",{attrs:{small:"",color:"red"}},[e._v(" mdi-close-circle ")])],1):e._e()],1)])}))],2),e._v(" "),a("v-col",{attrs:{cols:"9",sm:"8",md:"9"}},[a("v-card",{attrs:{elevation:"2"}},[a("v-card-text",[a("v-row",[a("v-spacer"),e._v(" "),a("div",{staticClass:"text-right mb-5"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"downloadColor"}},"v-btn",n,!1),i),[e._v("Download"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-download")])],1)]}}])},[e._v(" "),a("v-list",[a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(t){return e.clickDownload(e.filteredMessages,"json")}}},[e._v("Json")])],1),e._v(" "),a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(t){return e.clickDownload(e.filteredMessages,"csv")}}},[e._v("CSV")])],1)],1)],1),e._v(" \n              "),a("v-btn",{attrs:{small:"",color:"warning",text:""},on:{click:function(t){e.messages=[]}}},[e._v("Clear")]),e._v(" "),a("v-btn",{attrs:{small:"",color:"dark-grey"},on:{click:e.pauseMessage}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-"+e._s(e.pause?"play":"pause"))])],1),e._v(" "),e.editable?a("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[a("v-btn",{attrs:{value:"all",small:""}},[e._v("All")]),e._v(" "),a("v-btn",{attrs:{value:"receive",small:""}},[e._v("Received")]),e._v(" "),a("v-btn",{attrs:{value:"publish",small:""}},[e._v("Published")])],1):e._e()],1)],1),e._v(" "),a("div",{attrs:{id:"message-container"}},e._l(e.filteredMessages,(function(t,i){return a("div",{key:i,staticClass:"message"},["publish"===t.type?a("v-chip",{class:t.type+"-message",attrs:{color:t.color}},[e._v("\n                Topic: "+e._s(t.topic)+" "),a("br"),e._v("\n                Message: "+e._s(t.text)+" "),a("br"),e._v("\n                Time: "+e._s(e._f("timezone")(t.time))+"\n              ")]):e._e(),e._v(" "),"receive"===t.type?a("v-chip",{class:t.type+"-message border-left",style:"border-color: "+t.color},[e._v("\n                Topic: "+e._s(t.topic)+" "),a("br"),e._v("\n                Message: "+e._s(t.text)+" "),a("br"),e._v("\n                Time: "+e._s(e._f("timezone")(t.time))+"\n              ")]):e._e()],1)})),0)],1),e._v(" "),e.editable?a("v-card-actions",[a("v-form",{ref:"form",staticStyle:{width:"100%"},attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"Topic",rules:[e.required]},model:{value:e.topic,callback:function(t){e.topic=t},expression:"topic"}}),e._v(" "),a("v-text-field",{attrs:{label:"Message",rules:[e.required]},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}},[a("v-icon",{attrs:{slot:"append",color:"primary"},on:{click:e.sendMessage},slot:"append"},[e._v(" mdi-send ")])],1)],1)],1):e._e()],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.subscriptionDialog,callback:function(t){e.subscriptionDialog=t},expression:"subscriptionDialog"}},[a("subscription-form",{attrs:{onCancel:e.onCloseSubscription,onSave:e.onSaveSubscription,item:e.subscriptionItem}})],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("\n        Confirm?\n      ")]),e._v(" "),a("v-card-text",[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"nubeGreen",text:""},on:{click:function(t){e.confirmDialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.confirm}},[e._v("\n          Yes\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.a=w.exports},RnRM:function(e,t,a){"use strict";a.d(t,"q",(function(){return i})),a.d(t,"r",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return o})),a.d(t,"i",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return v})),a.d(t,"m",(function(){return p})),a.d(t,"o",(function(){return m})),a.d(t,"j",(function(){return f})),a.d(t,"p",(function(){return g})),a.d(t,"l",(function(){return _})),a.d(t,"k",(function(){return b})),a.d(t,"d",(function(){return h})),a.d(t,"n",(function(){return x}));var i={required:function(e){return!!e||"Required."},numberRule:function(e){return!isNaN(parseFloat(e))||"Required."}},n="rubix/points/debug",r={name:"",type:"RTU",enable:!0,rtu_port:"/dev/ttyRS485-1",rtu_speed:9600,rtu_stop_bits:1,rtu_parity:"N",rtu_byte_size:8,history_enable:!1,timeout:1,point_interval_ms_between_points:60},s=[{text:"Actions",value:"actions",width:"110px",sortable:!1},{text:"Name",value:"name",align:"start"},{text:"Fault",value:"fault",sortable:!1},{text:"Type",value:"type",sortable:!1},{text:"Enable",value:"enable",width:"110px",sortable:!1},{text:"Point Interval MS",value:"point_interval_ms_between_points",width:"160px",sortable:!1},{text:"Timeout",value:"timeout",width:"110px",sortable:!1},{text:"RTU Port",value:"rtu_port",width:"140px",sortable:!1},{text:"TCP IP",value:"tcp_ip",width:"100px",sortable:!1,groupable:!1},{text:"TCP Port",value:"tcp_port",width:"100px",sortable:!1,groupable:!1},{text:"UUID",value:"uuid",align:"start",sortable:!1}],o=[{name:"even",value:"E"},{name:"odd",value:"O"},{name:"none",value:"N"}],l=["/dev/ttyRS485-1","/dev/ttyRS485-2","/dev/ttyXBEE-1 ","/dev/ttyXBEE-2","/dev/ttyUSB0","/dev/ttyUSB1","/dev/ttyUSB2","/dev/ttyUSB3","/dev/ttyUSB4","/home/pi/dev/gpio1"],c={enable:!1,timeout:0,point_interval_ms_between_points:0},u={name:"",enable:!0,supports_multiple_rw:!1,address:0,ping_point:"",zero_based:!1,history_enable:!1,network_uuid:""},d=[{text:"Actions",value:"actions",sortable:!1,groupable:!1},{text:"Name",value:"name",align:"start",groupable:!1},{text:"Fault",value:"fault",sortable:!1,groupable:!1},{text:"Type",value:"type",sortable:!1,groupable:!1},{text:"Enable",value:"enable",sortable:!1,groupable:!1},{text:"Supports multiple r/w",value:"supports_multiple_rw",sortable:!1,groupable:!1},{text:"Zero Based",value:"zero_based",sortable:!1,groupable:!1},{text:"Address",value:"address",sortable:!1,groupable:!1},{text:"Ping Point",value:"ping_point",sortable:!1,groupable:!1},{text:"UUID",value:"uuid",align:"start",sortable:!1,groupable:!1}],v={enable:!1,supports_multiple_rw:!1,tcp_port:0,ping_point:"",history_enable:!1},p={name:"",register:0,register_length:1,function_code:"READ_HOLDING_REGISTERS",enable:!0,priority_array_write:{_16:0},data_type:"RAW",data_endian:"BEB_LEW",value_round:1,value_operation:"x + 0",input_min:null,input_max:null,scale_min:null,scale_max:null,cov_threshold:0,write_value_once:!0,history_enable:!1,history_type:"INTERVAL",history_interval:15,value:0,device_uuid:"",fallback_value:null},m=[{text:"Actions",value:"actions",width:"100px",sortable:!1,groupable:!1},{text:"Name",value:"name",width:"100px",sortable:!0,groupable:!1},{text:"Priority Array Write",value:"priority_array_write",width:"150px",sortable:!1,groupable:!1},{text:"Fault",value:"fault",sortable:!1,groupable:!1},{text:"Value",value:"value",width:"110px",sortable:!0,groupable:!1},{text:"Value original",value:"value_original",sortable:!1,groupable:!1},{text:"Enable",value:"enable",width:"120px",sortable:!0,groupable:!1},{text:"Last value change timestamp",value:"ts_value",width:"220px",sortable:!0,groupable:!1},{text:"Writable",value:"writable",sortable:!1,groupable:!1}],f=[{text:"Actions",value:"actions",width:"100px",sortable:!1,groupable:!1},{text:"Name",value:"name",width:"100px",sortable:!0,groupable:!1},{text:"Priority Array Write",value:"priority_array_write",width:"150px",sortable:!1,groupable:!1},{text:"Fault",value:"fault",width:"80px",sortable:!1,groupable:!1},{text:"Value",value:"value",width:"110px",sortable:!0,groupable:!1},{text:"Value original",value:"value_original",width:"120px",sortable:!1,groupable:!1},{text:"Fallback Value",value:"fallback_value",width:"170px",sortable:!0,groupable:!1},{text:"Function code",value:"function_code",width:"150px",sortable:!1,groupable:!1},{text:"Driver",value:"driver",sortable:!1,groupable:!1},{text:"Enable",value:"enable",width:"120px",sortable:!0,groupable:!1},{text:"Register",value:"register",sortable:!1,groupable:!1},{text:"Register length",value:"register_length",width:"160px",sortable:!1,groupable:!1},{text:"COV threshold",value:"cov_threshold",width:"170px",sortable:!0,groupable:!1},{text:"Write Value Once",value:"write_value_once",width:"160px",sortable:!1,groupable:!1},{text:"Data type",value:"data_type",width:"120px",sortable:!1,groupable:!1},{text:"Data endian",value:"data_endian",width:"130px",sortable:!1,groupable:!1},{text:"Value round",value:"value_round",width:"140px",sortable:!1,groupable:!1},{text:"Value operation",value:"value_operation",width:"160px",sortable:!1,groupable:!1},{text:"Value raw",value:"value_raw",width:"100px",sortable:!1,groupable:!1},{text:"Input max",value:"input_max",width:"120px",sortable:!1,groupable:!1},{text:"Input min",value:"input_min",width:"120px",sortable:!1,groupable:!1},{text:"Scale max",value:"scale_max",width:"120px",sortable:!1,groupable:!1},{text:"Scale min",value:"scale_min",width:"120px",sortable:!1,groupable:!1},{text:"Writable",value:"writable",width:"110px",sortable:!1,groupable:!1},{text:"Fault message",value:"fault_message",width:"160px",sortable:!1,groupable:!1},{text:"Fault timestamp",value:"ts_fault",width:"160px",sortable:!1,groupable:!1},{text:"Last value change timestamp",value:"ts_value",width:"220px",sortable:!0,groupable:!1},{text:"Created on",value:"created_on",width:"110px",sortable:!1,groupable:!1},{text:"Updated on",value:"updated_on",width:"110px",sortable:!1,groupable:!1},{text:"Device uuid",value:"device_uuid",width:"170px",sortable:!1,groupable:!1},{text:"UUID",value:"uuid",align:"start",width:"170px",sortable:!1,groupable:!1}],g=["READ_COILS","READ_DISCRETE_INPUTS","READ_HOLDING_REGISTERS","READ_INPUT_REGISTERS","WRITE_COIL","WRITE_REGISTER","WRITE_COILS","WRITE_REGISTERS"],_=["RAW","INT16","UINT16","INT32","UINT32","FLOAT","DOUBLE","DIGITAL"],b=["LEB_BEW","LEB_LEW","BEB_LEW","BEB_BEW"],h=["INTERVAL","COV","COV_AND_INTERVAL"],x={enable:!1,register_length:0,function_code:"READ_HOLDING_REGISTERS",data_type:"RAW",data_endian:"BEB_LEW",value_round:1,value_operation:"x + 0",writable:!1,cov_threshold:0,write_value_once:!0,history_enable:!1,history_type:"INTERVAL",history_interval:15,input_min:0,input_max:0,scale_min:0,scale_max:0,value:0,fallback_value:0}},Ui9F:function(e,t,a){"use strict";var i={name:"tooltip-icon-button",props:["btnIcon","btnTooltip","onClick","btnColor","buttonSize","disabled"]},n=a("psIG"),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return["medium"==e.buttonSize?a("v-btn",e._g(e._b({attrs:{disabled:e.disabled,icon:"",medium:"",color:e.btnColor},on:{click:e.onClick}},"v-btn",n,!1),i),[a("v-icon",{attrs:{medium:"",dark:""}},[e._v(" "+e._s(e.btnIcon)+" ")])],1):a("v-btn",e._g(e._b({attrs:{disabled:e.disabled,icon:"",small:"",color:e.btnColor},on:{click:e.onClick}},"v-btn",n,!1),i),[a("v-icon",{attrs:{small:"",dark:""}},[e._v(" "+e._s(e.btnIcon)+" ")])],1)]}}])},[e._v(" "),a("span",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(e.btnTooltip)}})])}),[],!1,null,null,null);t.a=r.exports},ZhgL:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("uzYq"),n=function(e){return i.a.put("setting",e)}},lkCm:function(e,t,a){"use strict";var i={name:"confirm-dialog",props:["on-close","on-confirm","dialog-text","is-open","loading"]},n=a("psIG"),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[a("v-card",[a("v-card-title",[a("v-icon",{attrs:{color:"warning"}},[e._v(" mdi-alert-outline ")]),e._v(" Confirm ")],1),e._v(" "),a("v-card-text",[a("v-container",[a("v-row",[e._v(e._s(e.dialogText))])],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:""},on:{click:e.onClose}},[e._v(" No ")]),e._v(" "),a("v-btn",{attrs:{color:"red darken-1",loading:e.loading,text:""},on:{click:e.onConfirm}},[e._v(" Yes ")])],1)],1)],1)}),[],!1,null,null,null);t.a=r.exports},rO2P:function(e,t,a){"use strict";a.r(t);var i=a("/9Wh"),n=a.n(i),r=a("PSh9"),s=a.n(r),o=a("OBCi"),l=a.n(o),c=a("06Hw"),u=a.n(c),d=a("YYXh"),v=a.n(d),p=a("ZhgL"),m=a("+n12"),f=["services","fileManager","lora","bacnetServer","modbus","logging","mqtt","apiClient","rubixApps","ipScanning","schedules","userManagement","bacnetMaster"],g={data:function(){return{importDialog:!1,dataImport:"",isValidData:!1,disableSave:!0}},computed:{setting:function(){return this.$store.state.setting},loading:function(){return this.$store.state.loading}},methods:{closeDialogImport:function(){this.importDialog=!1},save:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$store.commit("changeLoading",!0),p.a(e.setting).then((function(t){e.$store.commit("changeLoading",!1),"successful"===t&&(e.$store.commit("changeSetting",e.setting),e.$toasted.show("Success!"))}));case 2:case"end":return t.stop()}}),t,e)})))()},onChangeImportData:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isValidData=e.disableSave=!Object(m.n)(e.dataImport)||Array.isArray(JSON.parse(e.dataImport))||!Object(m.p)(e.dataImport,f);case 1:case"end":return t.stop()}}),t,e)})))()},clickImport:function(){this.importDialog=!0},clickJsonExport:function(){var e={services:this.setting.services,fileManager:this.setting.fileManager,lora:this.setting.lora,serviceMapping:this.services.serviceMapping,bacnetServer:this.setting.bacnetServer,ipScanning:this.setting.ipScanning,schedules:this.setting.schedules,apiClient:this.setting.apiClient,modbus:this.setting.modbus,mqtt:this.setting.mqtt,logging:this.setting.logging,appManager:this.setting.appManager,userManagement:this.setting.userManagement,bacnetMaster:this.setting.bacnetMaster},t=Object(m.c)(n()(e)),a=t?"Copied to clipboard!":"Failure on copying on clipboard!",i=t?"success":"error";return this.$toasted.show(a,{type:i})},saveImport:function(){var e=this;return v()(u.a.mark((function t(){var a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(m.n)(e.dataImport)){t.next=2;break}return t.abrupt("return",e.$toasted.show("incorrect data type!",{type:"error"}));case 2:return a=JSON.parse(e.dataImport),e.$store.commit("changeLoading",!0),t.next=6,p.a(a);case 6:i=t.sent,e.$store.commit("changeLoading",!1),"successful"===i&&(e.$store.commit("changeSetting",a),e.importDialog=!1,e.dataImport="");case 9:case"end":return t.stop()}}),t,e)})))()}}},_=a("psIG"),b=Object(_.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"sidebar-setting-container"},[a("v-card-text",[a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"text-left",attrs:{xl:"2",lg:"2",sm:"6"}},[a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"primary"},on:{click:e.clickImport}},[e._v("Import"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-import")])],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"exportColor"},on:{click:e.clickJsonExport}},[e._v("Export"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-export")])],1)],1),e._v(" "),a("v-col",{attrs:{xl:"3",lg:"3",sm:"6"}},[a("v-switch",{attrs:{label:"Enable Sidebar Search"},on:{change:e.save},model:{value:e.setting.sidebarSearch,callback:function(t){e.$set(e.setting,"sidebarSearch",t)},expression:"setting.sidebarSearch"}})],1),e._v(" "),a("v-col",{attrs:{xl:"3",lg:"3",sm:"6"}},[a("v-switch",{attrs:{label:"Show All Menus"},on:{change:e.save},model:{value:e.setting.showAllMenus,callback:function(t){e.$set(e.setting,"showAllMenus",t)},expression:"setting.showAllMenus"}})],1)],1),e._v(" "),a("v-card",{staticClass:"mb-5",attrs:{outlined:""}},[a("v-card-title",[e._v("Rubix")]),e._v(" "),a("v-card-text",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Services Manager"},on:{change:e.save},model:{value:e.setting.services,callback:function(t){e.$set(e.setting,"services",t)},expression:"setting.services"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Rubix Apps"},on:{change:e.save},model:{value:e.setting.rubixApps,callback:function(t){e.$set(e.setting,"rubixApps",t)},expression:"setting.rubixApps"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"IO 10 Config"},on:{change:e.save},model:{value:e.setting.io10Config,callback:function(t){e.$set(e.setting,"io10Config",t)},expression:"setting.io10Config"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"BIOS Apps"},on:{change:e.save},model:{value:e.setting.slaveBiosApps,callback:function(t){e.$set(e.setting,"slaveBiosApps",t)},expression:"setting.slaveBiosApps"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Service Mapping"},on:{change:e.save},model:{value:e.setting.serviceMapping,callback:function(t){e.$set(e.setting,"serviceMapping",t)},expression:"setting.serviceMapping"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Mqtt"},on:{change:e.save},model:{value:e.setting.mqtt,callback:function(t){e.$set(e.setting,"mqtt",t)},expression:"setting.mqtt"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Api Client"},on:{change:e.save},model:{value:e.setting.apiClient,callback:function(t){e.$set(e.setting,"apiClient",t)},expression:"setting.apiClient"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Logging"},on:{change:e.save},model:{value:e.setting.logging,callback:function(t){e.$set(e.setting,"logging",t)},expression:"setting.logging"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Ip Scanning"},on:{change:e.save},model:{value:e.setting.ipScanning,callback:function(t){e.$set(e.setting,"ipScanning",t)},expression:"setting.ipScanning"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Driver / Rubix"},on:{change:e.save},model:{value:e.setting.cloudNetworks,callback:function(t){e.$set(e.setting,"cloudNetworks",t)},expression:"setting.cloudNetworks"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Modbus"},on:{change:e.save},model:{value:e.setting.modbus,callback:function(t){e.$set(e.setting,"modbus",t)},expression:"setting.modbus"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"BACnet Master"},on:{change:e.save},model:{value:e.setting.bacnetMaster,callback:function(t){e.$set(e.setting,"bacnetMaster",t)},expression:"setting.bacnetMaster"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"BACnet Server"},on:{change:e.save},model:{value:e.setting.bacnetServer,callback:function(t){e.$set(e.setting,"bacnetServer",t)},expression:"setting.bacnetServer"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"LoRa Network"},on:{change:e.save},model:{value:e.setting.lora,callback:function(t){e.$set(e.setting,"lora",t)},expression:"setting.lora"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Schedules"},on:{change:e.save},model:{value:e.setting.schedules,callback:function(t){e.$set(e.setting,"schedules",t)},expression:"setting.schedules"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"User Management"},on:{change:e.save},model:{value:e.setting.userManagement,callback:function(t){e.$set(e.setting,"userManagement",t)},expression:"setting.userManagement"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"File Manager"},on:{change:e.save},model:{value:e.setting.fileManager,callback:function(t){e.$set(e.setting,"fileManager",t)},expression:"setting.fileManager"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"App Manager"},on:{change:e.save},model:{value:e.setting.appManager,callback:function(t){e.$set(e.setting,"appManager",t)},expression:"setting.appManager"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{label:"Sync Logs"},on:{change:e.save},model:{value:e.setting.syncLogs,callback:function(t){e.$set(e.setting,"syncLogs",t)},expression:"setting.syncLogs"}})],1)],1)],1)],1),e._v(" "),a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("div",{staticClass:"pr-3"},[e._v("Rubix Flow")]),e._v(" "),a("v-switch",{attrs:{color:"green"},on:{change:e.save},model:{value:e.setting.rubixFlow,callback:function(t){e.$set(e.setting,"rubixFlow",t)},expression:"setting.rubixFlow"}})],1),e._v(" "),a("v-card-text",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{sm:"12",xs:"12",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"Flow Network"},on:{change:e.save},model:{value:e.setting.flowNetwork,callback:function(t){e.$set(e.setting,"flowNetwork",t)},expression:"setting.flowNetwork"}})],1),e._v(" "),a("v-col",{attrs:{sm:"12",xs:"12",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"Flow Network Clone"},on:{change:e.save},model:{value:e.setting.flowNetworkClone,callback:function(t){e.$set(e.setting,"flowNetworkClone",t)},expression:"setting.flowNetworkClone"}})],1),e._v(" "),a("v-col",{attrs:{sm:"12",xs:"12",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"RF > Networks | Devices | Points"},on:{change:e.save},model:{value:e.setting.flowNetworkNDP,callback:function(t){e.$set(e.setting,"flowNetworkNDP",t)},expression:"setting.flowNetworkNDP"}})],1),e._v(" "),a("v-col",{attrs:{sm:"12",xs:"12",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"RF > All Network Devices"},on:{change:e.save},model:{value:e.setting.rubixFlowAllNetworkDevices,callback:function(t){e.$set(e.setting,"rubixFlowAllNetworkDevices",t)},expression:"setting.rubixFlowAllNetworkDevices"}})],1),e._v(" "),a("v-col",{attrs:{sm:"12",xs:"12",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"RF > All Points"},on:{change:e.save},model:{value:e.setting.rubixFlowAllPoints,callback:function(t){e.$set(e.setting,"rubixFlowAllPoints",t)},expression:"setting.rubixFlowAllPoints"}})],1),e._v(" "),a("v-col",{attrs:{sm:"12",xs:"12",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"Plugins Distro"},on:{change:e.save},model:{value:e.setting.pluginDistro,callback:function(t){e.$set(e.setting,"pluginDistro",t)},expression:"setting.pluginDistro"}})],1),e._v(" "),a("v-col",{attrs:{sm:"12",xs:"12",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"RF Schedules"},on:{change:e.save},model:{value:e.setting.rfSchedules,callback:function(t){e.$set(e.setting,"rfSchedules",t)},expression:"setting.rfSchedules"}})],1),e._v(" "),a("v-col",{attrs:{xs:"12",sm:"6",md:"4",xl:"3",lg:"3"}},[a("v-checkbox",{attrs:{disabled:!e.setting.rubixFlow,label:"RF Plugin"},on:{change:e.save},model:{value:e.setting.plugins,callback:function(t){e.$set(e.setting,"plugins",t)},expression:"setting.plugins"}})],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.importDialog,callback:function(t){e.importDialog=t},expression:"importDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Import")])]),e._v(" "),a("v-card-text",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.isValidData,expression:"isValidData"}],staticClass:"text-left",attrs:{dense:"","colored-border":"",type:"error",elevation:"2"}},[e._v("Incorrect Data Type!")]),e._v(" "),a("v-container",[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},on:{input:e.onChangeImportData},model:{value:e.dataImport,callback:function(t){e.dataImport=t},expression:"dataImport"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.closeDialogImport}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",disabled:e.disableSave,text:""},on:{click:e.saveImport}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,h=a("uzYq"),x=a("p711"),k=a.n(x),y={props:["onSave","onCancel","item"],data:function(){return{rules:{required:function(e){return!!e||"Required."}},loading:!1,valid:!1,icons:[],search:null,select:null}},watch:{search:function(e){e&&e!==this.formData.icon&&this.getIcons(e)}},computed:{formData:function(){return"userBrowserIp"===this.item.ipType&&(this.item.ip=location.hostname),this.item},setting:function(){return this.$store.state.setting}},mounted:function(){"userBrowserIp"===this.item.ipType&&(this.item.ip=location.hostname)},methods:{onChangeIpType:function(e){"globalIp"===e&&(this.item.ip=this.setting.globalIp),"userBrowserIp"===e&&(this.item.ip=location.hostname)},preSave:function(){this.$refs.form.validate()&&this.formData.icon?this.onSave(this.formData):this.$toasted.show("This icon isnt include in the icon list !",{type:"error"})},changeIcon:function(e){var t=e.name;this.formData.icon=t||""},getIcons:function(e){var t=this;this.loading=!0,h.a.get("icons",{params:{keyword:e}}).then((function(e){t.icons=e,t.loading=!1}))}}},I=Object(_.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Iframe")])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Name",required:"",rules:[e.rules.required]},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-select",{attrs:{label:"Type",items:["linkOnly","iframeOnly","linkAndIframe"],required:"",rules:[e.rules.required]},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}})],1),e._v(" "),a("v-col",{attrs:{cols:"3"}},[a("v-checkbox",{attrs:{label:"Show?"},model:{value:e.formData.show,callback:function(t){e.$set(e.formData,"show",t)},expression:"formData.show"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{disabled:"custom"!==e.formData.ipType,label:"Ip",required:"",rules:[e.rules.required]},model:{value:e.formData.ip,callback:function(t){e.$set(e.formData,"ip",t)},expression:"formData.ip"}}),e._v(" "),a("v-radio-group",{attrs:{row:""},on:{change:e.onChangeIpType},model:{value:e.formData.ipType,callback:function(t){e.$set(e.formData,"ipType",t)},expression:"formData.ipType"}},[a("v-radio",{attrs:{label:"Global IP",value:"globalIp"}}),e._v(" "),a("v-radio",{attrs:{label:"User browser IP",value:"userBrowserIp"}}),e._v(" "),a("v-radio",{attrs:{label:"Custom",value:"custom"}})],1)],1),e._v(" "),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Port",required:"",rules:[e.rules.required]},model:{value:e.formData.port,callback:function(t){e.$set(e.formData,"port",t)},expression:"formData.port"}})],1)],1),e._v(" "),a("v-row",[a("v-col",[a("v-combobox",{attrs:{loading:e.loading,items:e.icons,"search-input":e.search,label:"Select Icon","item-text":"name","item-value":"name",value:e.formData.icon,rules:[e.rules.required]},on:{change:e.changeIcon,"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("v-icon",[e._v(" "+e._s("mdi-"+i.name)+" ")]),e._v(" "),a("v-spacer"),e._v(e._s(i.name)+"\n                ")]}}])})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",disabled:!e.valid,text:""},on:{click:function(t){return e.preSave()}}},[e._v(" Save ")])],1)],1)}),[],!1,null,"0ce4deda",null).exports,w=["ip","port","name","type","icon","show","_id"],D={name:"iframe-setting",components:{IframeForm:I},data:function(){return{currentIframe:{},dialogIframe:!1,hostname:location.hostname,choseIframe:{},confirmDialog:!1,importDialog:!1,dataImport:"",isValidData:!1,disableSave:!0,iframeHeaders:[{text:"Name",align:"start",value:"name"},{text:"Icon",value:"icon"},{text:"IP",value:"ip"},{text:"Port",value:"port"},{text:"Tools",value:"tools"}]}},computed:{iframes:function(){return this.$store.state.iframes}},mounted:function(){},methods:{closeDialogImport:function(){this.importDialog=!1},clickImport:function(){this.importDialog=!0},getIframes:function(){var e=this;h.a.get("iframe").then((function(t){e.$store.commit("changeIframes",t)}))},closeDialog:function(){this.confirmDialog=!1,this.choseIframe={}},toggleConfirmDialog:function(e){this.choseIframe=e,this.confirmDialog=!this.confirmDialog},clickDeleteIframe:function(e){var t=this;return v()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("changeLoading",!0),e.prev=1,e.next=4,h.a.delete("iframe/"+t.choseIframe._id);case 4:t.$store.commit("changeLoading",!1),t.$toasted.show("Success!"),t.getIframes(),t.closeDialog(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t.$store.commit("changeLoading",!1),t.$toasted.show(e.t0,{type:"error"});case 14:case"end":return e.stop()}}),e,t,[[1,10]])})))()},clickUpdateIframe:function(e){this.currentIframe=s()({},e),this.dialogIframe=!0},clickAddIframe:function(){this.currentIframe={},this.dialogIframe=!0},onSaveIframe:function(e){var t=this;k()(e.icon)&&s()(e,{icon:e.icon.name}),this.$store.commit("changeLoading",!0);var a=e._id?"put":"post";h.a[a]("iframe",e).then((function(e){t.$store.commit("changeLoading",!1),t.$toasted.show("Success!"),t.dialogIframe=!1,t.getIframes()}))},onCancelIframe:function(){this.dialogIframe=!1},onChangeImportData:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isValidData=e.disableSave=!Object(m.n)(e.dataImport)||!Object(m.o)(e.dataImport,w);case 1:case"end":return t.stop()}}),t,e)})))()},clickJsonExport:function(){var e=Object(m.c)(n()(this.iframes)),t=e?"Copied to clipboard!":"Failure on copying on clipboard!",a=e?"success":"error";return this.$toasted.show(t,{type:a})},saveImport:function(){var e=this;return v()(u.a.mark((function t(){var a,i,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=JSON.parse(e.dataImport),i=0;case 2:if(!(i<a.length)){t.next=10;break}return e.$store.commit("changeLoading",!0),n=a[i]._id?"put":"post",t.next=7,h.a[n]("iframe",a[i]).then((function(t){e.$store.commit("changeLoading",!1),e.getIframes(),e.importDialog=!1,e.dataImport=""}));case 7:i++,t.next=2;break;case 10:case"end":return t.stop()}}),t,e)})))()}}},C=Object(_.a)(D,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ml-4"},[a("v-row",{staticClass:"ml-1 mt-1"},[a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"nubeGreen"},on:{click:e.clickAddIframe}},[e._v("Create"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-plus")])],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"primary"},on:{click:e.clickImport}},[e._v("Import"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-import")])],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"exportColor"},on:{click:e.clickJsonExport}},[e._v("Export"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-export")])],1)],1),a("br"),e._v(" "),a("v-data-table",{attrs:{headers:e.iframeHeaders,items:e.iframes},scopedSlots:e._u([{key:"item.tools",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{icon:"",small:"",color:"error"},on:{click:function(){return e.toggleConfirmDialog(i)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1),e._v(" "),a("v-btn",{attrs:{icon:"",small:"",color:"nubeGreen"},on:{click:function(){return e.clickUpdateIframe(i)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-rename-box")])],1)]}},{key:"item.ip",fn:function(t){var a=t.item;return[e._v(e._s("userBrowserIp"===a.ipType?e.hostname:a.ip))]}}],null,!0)}),e._v(" "),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogIframe,callback:function(t){e.dialogIframe=t},expression:"dialogIframe"}},[e.dialogIframe?a("iframe-form",{attrs:{onSave:e.onSaveIframe,onCancel:e.onCancelIframe,item:e.currentIframe}}):e._e()],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Confirm?")]),e._v(" "),a("v-card-text",[e._v("Do you want to delete?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:""},on:{click:e.closeDialog}},[e._v("No")]),e._v(" "),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.clickDeleteIframe()}}},[e._v("Yes")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.importDialog,callback:function(t){e.importDialog=t},expression:"importDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Import")])]),e._v(" "),a("v-card-text",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.isValidData,expression:"isValidData"}],staticClass:"text-left",attrs:{dense:"","colored-border":"",type:"error",elevation:"2"}},[e._v("Incorrect Data Type!")]),e._v(" "),a("v-container",[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},on:{input:e.onChangeImportData},model:{value:e.dataImport,callback:function(t){e.dataImport=t},expression:"dataImport"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:""},on:{click:e.closeDialogImport}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:e.disableSave,text:""},on:{click:e.saveImport}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,S=a("snOE"),E=a.n(S),$=a("Kz1y"),T=a.n($),A=a("tZmG"),P=a.n(A),O=a("7Vew"),M=a("8q1a"),R=a("Ui9F"),N=a("y1PV"),F={components:{TextFieldDisplay:O.a,MqttConsole:M.a,TooltipIconButton:R.a},data:function(){return{conventionNaming:m.a,rules:{required:function(e){return!!e||"Required."}},timezones:[],tagData:{},objectKeys:P.a,dialogImport:!1,dataImport:"",selectedIndex:-1,confirmDialog:!1,tagDialog:!1,valid:!1,headers:[{text:"Name",align:"start",value:"name"},{text:"Data",value:"data"},{text:"Tools",value:"tools"}],caseTypes:["headerCase","camelCase","constantCase","paramCase","pascalCase","snakeCase"],descriptions:N.a}},computed:{setting:function(){var e=this.$store.state.setting;return e.timezone||(e.timezone="BaseOnBrowser"),e.caseType||(e.caseType="headerCase"),e},tags:function(){var e=this.$store.state.setting.tags;return e}},watch:{"setting.darkMode":function(e){this.$vuetify.theme.dark=e}},mounted:function(){this.getTimezones()},methods:{saveTag:function(){var e=this;return v()(u.a.mark((function t(){var a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=3;break}return t.abrupt("return");case 3:return a=T()({},e.tagData,{data:JSON.parse(e.tagData.data)}),i=e.tags||[],-1===e.selectedIndex?i.push(a):i[e.selectedIndex]=T()({},a),e.setting.tags=[].concat(E()(i)),t.next=9,h.a.put("setting",e.setting);case 9:e.$store.commit("changeSetting",e.setting),e.tagDialog=!1,e.$toasted.show("success"),e.selectedIndex=-1;case 13:case"end":return t.stop()}}),t,e)})))()},onConfirm:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.tags.splice(e.selectedIndex,1),t.next=3,h.a.put("setting",e.setting);case 3:e.confirmDialog=!1,e.selectedIndex=-1;case 5:case"end":return t.stop()}}),t,e)})))()},closeDialog:function(){this.confirmDialog=!1,this.selectedIndex=-1},closeTagDialog:function(){this.tagDialog=!1,this.selectedIndex=-1},toggleConfirmDialog:function(e){this.selectedIndex=e,this.confirmDialog=!0},toggleTagDialog:function(e){this.selectedIndex=e,this.tagDialog=!0,this.tagData=T()({},this.tags[e],{data:n()(this.tags[e].data)})},clickExport:function(){var e=this.$store.state.setting.tags,t=Object(m.c)(n()(e)),a=t?"Copied to clipboard!":"Failure on copying on clipboard!",i=t?"success":"error";return this.$toasted.show(a,{type:i})},showImportDialog:function(){this.dialogImport=!this.dialogImport},showTagDialog:function(){this.tagData={},this.tagDialog=!0},saveImport:function(){var e=this;return v()(u.a.mark((function t(){var a,i,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$store.state.setting,(i=a.tags)||(i=[]),n=JSON.parse(e.dataImport),i=[].concat(E()(i),E()(n)),a=T()({},a,{tags:i}),t.next=8,h.a.put("setting",a);case 8:e.$store.commit("changeSetting",a),e.dialogImport=!1,e.dataImport="",e.$toasted.show("success");case 12:case"end":return t.stop()}}),t,e)})))()},getTimezones:function(){var e=this;h.a.get("timezones").then((function(t){e.timezones=t,e.timezones.unshift("BaseOnBrowser")}))},onSave:function(){var e=this;h.a.put("setting",this.setting).then((function(t){"successful"===t&&(e.$store.commit("changeSetting",e.setting),e.$toasted.show("Success!"))}))}}},q=Object(_.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"pa-2",attrs:{"no-gutter":""}},[a("v-col",{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xs:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",{class:e.$vuetify.theme.dark?"":"black--text"},[a("v-row",{staticClass:"mb-2"},[a("v-col",{staticClass:"card-title-custom",attrs:{cols:"12"}},[a("text-field-display",{attrs:{value:"Auto Refresh"}}),e._v(" "),a("tooltip-icon-button",{attrs:{btnColor:"grey",btnIcon:"mdi-information-outline",buttonSize:"small",btnTooltip:e.descriptions.AUTO_REFRESH,onClick:function(){}}})],1)],1),e._v(" "),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"text-left mt-n4",attrs:{cols:"9"}},[a("v-radio-group",{attrs:{disabled:!e.setting.enableAutoRefresh},model:{value:e.setting.refreshTime,callback:function(t){e.$set(e.setting,"refreshTime",t)},expression:"setting.refreshTime"}},[a("v-radio",{attrs:{label:"5 sec",value:"5000"}}),e._v(" "),a("v-radio",{attrs:{label:"15 sec",value:"15000"}}),e._v(" "),a("v-radio",{attrs:{label:"30 sec",value:"30000"}})],1),e._v(" "),a("v-text-field",{staticClass:"mb-n3",staticStyle:{width:"50%"},attrs:{disabled:!e.setting.enableAutoRefresh,hint:"Custom - Milisecond",dense:""},model:{value:e.setting.refreshTime,callback:function(t){e.$set(e.setting,"refreshTime",t)},expression:"setting.refreshTime"}})],1),e._v(" "),a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"mr-n3 app-detail-switch-wrapper"},[a("span",{staticClass:"grey--text caption",staticStyle:{right:"15px"}},[e._v("Enable")]),e._v(" "),a("v-switch",{attrs:{inset:"",color:"exportColor"},model:{value:e.setting.enableAutoRefresh,callback:function(t){e.$set(e.setting,"enableAutoRefresh",t)},expression:"setting.enableAutoRefresh"}})],1),e._v(" "),a("div",{staticClass:"mr-n3 app-detail-switch-wrapper"},[a("span",{staticClass:"grey--text caption"},[e._v("Show toast")]),e._v(" "),a("v-switch",{attrs:{inset:"",color:"exportColor"},model:{value:e.setting.toastAutoRefresh,callback:function(t){e.$set(e.setting,"toastAutoRefresh",t)},expression:"setting.toastAutoRefresh"}})],1)])],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"btn-height-22 white--text float-right",attrs:{"x-small":"",color:"primary",disabled:e.setting.enableAutoRefresh&&!e.setting.refreshTime},on:{click:e.onSave}},[e._v(" Save ")])],1)],1)],1),e._v(" "),a("v-divider",{staticClass:"ml-n1",attrs:{vertical:""}}),e._v(" "),a("v-col",{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xs:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",{class:e.$vuetify.theme.dark?"":"black--text"},[a("v-row",{staticClass:"mb-2"},[a("v-col",{staticClass:"card-title-custom",attrs:{cols:"12"}},[a("text-field-display",{attrs:{value:"Platform Display Timezone"}}),e._v(" "),a("tooltip-icon-button",{attrs:{btnColor:"grey",btnIcon:"mdi-information-outline",buttonSize:"small",btnTooltip:e.descriptions.DISPLAY_TIMEZONE,onClick:function(){}}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:e.timezones,label:"Timezones","persistent-hint":""},on:{change:e.onSave},model:{value:e.setting.timezone,callback:function(t){e.$set(e.setting,"timezone",t)},expression:"setting.timezone"}})],1)],1)],1)],1)],1),e._v(" "),a("v-divider",{staticClass:"ml-n1",attrs:{vertical:""}}),e._v(" "),a("v-col",{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xs:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",{class:e.$vuetify.theme.dark?"":"black--text"},[a("v-row",{staticClass:"mb-2"},[a("v-col",{staticClass:"card-title-custom",attrs:{cols:"12"}},[a("text-field-display",{attrs:{value:"Text Case"}}),e._v(" "),a("tooltip-icon-button",{attrs:{btnColor:"grey",btnIcon:"mdi-information-outline",buttonSize:"small",btnTooltip:e.descriptions.TEXT_CASE,onClick:function(){}}})],1)],1),e._v(" "),a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"9"}},[a("v-autocomplete",{attrs:{items:e.caseTypes,label:"Case Type","persistent-hint":"",disabled:!e.setting.enableChangeCase},on:{change:e.onSave},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[e._v("\n                  "+e._s(i)+"\n                  "),a("span",{staticClass:"ml-3",staticStyle:{opacity:"0.5"}},[e._v("//=> "+e._s(e.conventionNaming("test string",{caseType:i,enableChangeCase:!0})))])]}}]),model:{value:e.setting.caseType,callback:function(t){e.$set(e.setting,"caseType",t)},expression:"setting.caseType"}})],1),e._v(" "),a("v-col",{staticClass:"app-detail-switch-wrapper",attrs:{cols:"3"}},[a("div",{staticClass:"mr-n3"},[a("span",{staticClass:"grey--text caption",staticStyle:{right:"15px"}},[e._v("Enable")]),e._v(" "),a("v-switch",{attrs:{inset:"",color:"exportColor"},on:{change:e.onSave},model:{value:e.setting.enableChangeCase,callback:function(t){e.$set(e.setting,"enableChangeCase",t)},expression:"setting.enableChangeCase"}})],1)])],1)],1)],1)],1),e._v(" "),a("v-divider",{staticClass:"ml-n1",attrs:{vertical:""}}),e._v(" "),a("v-col",{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xs:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",{class:e.$vuetify.theme.dark?"":"black--text"},[a("v-row",{staticClass:"mb-2"},[a("v-col",{staticClass:"card-title-custom",attrs:{cols:"12"}},[a("text-field-display",{attrs:{value:"Theme"}}),e._v(" "),a("tooltip-icon-button",{attrs:{btnColor:"grey",btnIcon:"mdi-information-outline",buttonSize:"small",btnTooltip:e.descriptions.THEME,onClick:function(){}}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Dark Mode",inset:"",color:"exportColor"},on:{change:e.onSave},model:{value:e.setting.darkMode,callback:function(t){e.$set(e.setting,"darkMode",t)},expression:"setting.darkMode"}})],1)],1)],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-row",{staticClass:"pa-2",attrs:{"no-gutter":""}},[a("v-col",{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xs:"12"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",{class:e.$vuetify.theme.dark?"":"black--text"},[a("v-row",{staticClass:"mb-2"},[a("v-col",{staticClass:"card-title-custom",attrs:{cols:"12"}},[a("text-field-display",{attrs:{value:"Network Naming"}}),e._v(" "),a("tooltip-icon-button",{attrs:{btnColor:"grey",btnIcon:"mdi-information-outline",buttonSize:"small",btnTooltip:e.descriptions.NETWORK_NAMING,onClick:function(){}}})],1)],1),e._v(" "),e._l(e.setting.interfaceValues,(function(t,i){return a("v-row",{key:i,attrs:{dense:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Interface Value"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"interfaceValue.value"}})],1),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Display Value"},model:{value:t.displayValue,callback:function(a){e.$set(t,"displayValue",a)},expression:"interfaceValue.displayValue"}})],1)],1)}))],2),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"btn-height-22 white--text float-right",attrs:{"x-small":"",color:"primary"},on:{click:e.onSave}},[e._v(" Save ")])],1)],1)],1),e._v(" "),a("v-divider",{staticClass:"ml-n1",attrs:{vertical:""}})],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(" Tags ")]),e._v(" "),a("v-card-text",{staticClass:"text-left"},[a("v-row",{staticClass:"ml-1 mt-1"},[a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"nubeGreen"},on:{click:e.showTagDialog}},[e._v("Create"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-plus")])],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"primary"},on:{click:e.showImportDialog}},[e._v("Import"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-import")])],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"exportColor"},on:{click:e.clickExport}},[e._v("Export"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-export")])],1)],1),a("br"),e._v(" "),a("v-data-table",{attrs:{headers:e.headers,items:e.tags},scopedSlots:e._u([{key:"item.data",fn:function(t){var a=t.item;return[e._v(e._s(JSON.stringify(a.data)))]}},{key:"item.tools",fn:function(t){var i=t.item,n=t.index;return[a("v-btn",{attrs:{icon:"",small:"",color:"error"},on:{click:function(){return e.toggleConfirmDialog(n)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1),e._v(" "),a("v-btn",{attrs:{icon:"",small:"",color:"nubeGreen"},on:{click:function(){return e.toggleTagDialog(n,i)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-rename-box")])],1)]}}],null,!0)})],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.tagDialog,callback:function(t){e.tagDialog=t},expression:"tagDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Tags")])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{required:"",rules:[e.rules.required],label:"Name"},model:{value:e.tagData.name,callback:function(t){e.$set(e.tagData,"name",t)},expression:"tagData.name"}}),e._v(" "),a("div",{staticClass:"text-left"},[a("code",[e._v('{"key": "value", "key1": "value1"}')])]),e._v(" "),a("v-text-field",{attrs:{required:"",rules:[e.rules.required],label:"Data"},model:{value:e.tagData.data,callback:function(t){e.$set(e.tagData,"data",t)},expression:"tagData.data"}})],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.closeTagDialog}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid,color:"blue darken-1",text:""},on:{click:e.saveTag}},[e._v("Save")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogImport,callback:function(t){e.dialogImport=t},expression:"dialogImport"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Import")])]),e._v(" "),a("v-card-text",[e._v("\n        Exp: "),a("code",[e._v('[{"name": "name 1", "data": {"key": "value", "key1": "value1"}}]')]),e._v(" "),a("v-container",[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},model:{value:e.dataImport,callback:function(t){e.dataImport=t},expression:"dataImport"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.showImportDialog}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveImport}},[e._v("Save")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Confirm? ")]),e._v(" "),a("v-card-text",[e._v("Do you want to delete?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"nubeGreen",text:""},on:{click:e.closeDialog}},[e._v(" No ")]),e._v(" "),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.onConfirm}},[e._v(" Yes ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,V=a("t3kO"),z=a.n(V),L=a("TcPG"),U=a.n(L),B=a("Isj4"),j=a("lkCm"),G=a("2wH6"),W=a("A5Vd"),J=a("RnRM"),K={components:{ConfirmDialog:j.a,ImportFromExcelDialog:G.a},data:function(){return{toUpperTextKey:m.r,conventionNaming:m.a,devices:[],importArrayDevice:[],expansionData:[],deviceHeaders:[{text:"Actions",value:"actions"},{text:"Name",value:"name",align:"start"}],searchWizardDevice:"",dataImportDevices:"",valid:!1,dialogDevice:!1,dialogDeleteDevice:!1,dialogImportDevice:!1,isClickSaveImportDevice:!1,e1Device:1,editedDeviceIndex:-1,editedDevice:{},currentDevice:{},rules:T()({},J.q),advancedView:!1,pointHeaders:[].concat(E()(J.o)),advancedHeaders:[].concat(E()(J.j)),point_types:[].concat(E()(J.p)),point_data_types:[].concat(E()(J.l)),point_data_endians:[].concat(E()(J.k)),history_data_types:[].concat(E()(J.d)),editedItem:T()({},J.m),editedIndex:-1,selected:[],search:"",searchItems:[],action:"",dialog:!1,dialogDelete:!1,searchWizard:"",dataImport:"",importArray:[],dialogImport:!1,e1:1,dialogImportExcel:!1,isClickSaveImport:!1,editAll:T()({},J.n),editField:"",dialogMassEdit:!1,tableProps:T()({},W.d)}},computed:{formDeviceTitle:function(){return-1===this.editedDeviceIndex?"Create Device":"Edit Device"},setting:function(){return this.$store.state.setting}},watch:{devices:function(e,t){e!=t&&(this.expansionData=[].concat(E()(e.keys())).map((function(e,t){return t})))}},mounted:function(){this.getdevices()},methods:{getdevices:function(){var e=this;h.a.get("modbus").then((function(t){e.devices=t,e.devices.forEach((function(e){e.points&&(e.points=e.points.map((function(e){if(e.point_store){var t=P()(e.point_store);t&&t.length>0&&t.forEach((function(t){e=T()({},e,U()({},t,e.point_store[t]))})),delete e.point_store,delete e.point_id}return e})))}))}))},clickJsonExportDevices:function(){var e=this;return v()(u.a.mark((function t(){var a,i,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(m.c)(n()(e.devices)),i=a?"Copied to clipboard!":"Failure on copying on clipboard!",r=a?"success":"error",t.abrupt("return",e.$toasted.show(i,{type:r}));case 4:case"end":return t.stop()}}),t,e)})))()},clickImportJsonDevices:function(){this.dialogImportDevice=!0,this.dataImportDevices="",this.e1Device=1},onClickDeleteImportDevice:function(e){var t=this;return v()(u.a.mark((function a(){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=t.importArrayDevice.indexOf(e),t.importArrayDevice.splice(i,1);case 2:case"end":return a.stop()}}),a,t)})))()},saveImportDevice:function(){var e=this;return v()(u.a.mark((function t(){var a,i,n,r,s,o,c,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.importArrayDevice&&e.importArrayDevice.length>0)){t.next=32;break}if(!e.$refs.form.validate()){t.next=32;break}for(e.isClickSaveImportDevice=!0,t.prev=3,a=[],i=function(t){a.push(new l.a((function(a,i){return e.saveDevice(t,a,i)})))},n=!0,r=!1,s=void 0,t.prev=9,o=z()(e.importArrayDevice);!(n=(c=o.next()).done);n=!0)d=c.value,i(d);t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),r=!0,s=t.t0;case 17:t.prev=17,t.prev=18,!n&&o.return&&o.return();case 20:if(t.prev=20,!r){t.next=23;break}throw s;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.next=27,l.a.all(a);case 27:e.closeDialogImportDevice(),t.next=32;break;case 30:t.prev=30,t.t1=t.catch(3);case 32:case"end":return t.stop()}}),t,e,[[3,30],[9,13,17,25],[18,,20,24]])})))()},closeDialogImportDevice:function(){var e=this;this.dialogImportDevice=!1,this.isClickSaveImportDevice=!1,this.$nextTick((function(){e.dataImportDevices=""}))},clickContinueImportDevice:function(){if(!Object(m.n)(this.dataImportDevices))return this.$toasted.show("incorrect data type!",{type:"error"});this.importArrayDevice=JSON.parse(this.dataImportDevices).map((function(e){return delete e._id,e})),this.e1Device=2},isExistingDevicevalue:function(e,t){var a=[].concat(E()(this.devices));return-1!==this.editedDeviceIndex&&a.splice(this.editedDeviceIndex,1),null!=a.find((function(a){return a[t]==e}))},closeDevice:function(){var e=this;this.dialogDevice=!1,this.$nextTick((function(){e.editedDevice=s()({},{}),e.editedDeviceIndex=-1}))},saveDevice:function(e,t,a){var i=this;return v()(u.a.mark((function n(){var r,o,l,c,d,v,p,m,f,g;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=e._id?"put":"post",o=e.points?e.points:[],delete e.points,n.next=6,h.a[r]("modbus",e);case 6:if(l=n.sent,!e._id){n.next=12;break}s()(i.devices[i.editedDeviceIndex],l),i.$toasted.show("update success"),n.next=34;break;case 12:if(i.devices.push(l),i.$toasted.show("create success"),!(o.length>0)){n.next=34;break}for(c=!0,d=!1,v=void 0,n.prev=18,p=z()(o);!(c=(m=p.next()).done);c=!0)(f=m.value).device_id=l._id,f.register=f.register?f.register:0,f.register_length=f.register_length?f.register_length:0,f.enable=!!f.enable&&f.enable,delete f._id,i.createPoint(f);n.next=26;break;case 22:n.prev=22,n.t0=n.catch(18),d=!0,v=n.t0;case 26:n.prev=26,n.prev=27,!c&&p.return&&p.return();case 29:if(n.prev=29,!d){n.next=32;break}throw v;case 32:return n.finish(29);case 33:return n.finish(26);case 34:i.importArrayDevice&&i.importArrayDevice.length>0&&(g=i.importArrayDevice.findIndex((function(e){return e.name==l.name})))>-1&&s()(i.importArrayDevice[g],l),i.closeDevice(),t&&t(),n.next=42;break;case 39:n.prev=39,n.t1=n.catch(0),a&&a();case 42:case"end":return n.stop()}}),n,i,[[0,39],[18,22,26,34],[27,,29,33]])})))()},onClickDeleteDevice:function(e){var t=this;return v()(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.dialogDeleteDevice=!0,t.currentDevice=e;case 2:case"end":return a.stop()}}),a,t)})))()},closeDeleteDevice:function(){var e=this;this.dialogDeleteDevice=!1,this.$nextTick((function(){e.currentDevice={}}))},confirmDeleteDevice:function(){var e=this;return v()(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.delete("modbus/"+e.currentDevice._id);case 2:t.sent&&(a=e.devices.indexOf(e.currentDevice),e.devices.splice(a,1),e.closeDeleteDevice());case 4:case"end":return t.stop()}}),t,e)})))()},clickEditDevice:function(e){this.editedDeviceIndex=this.devices.indexOf(e),this.editedDevice=s()({},e),this.dialogDevice=!0},onClickRefresh:function(){this.getdevices(),this.$toasted.show("successfully refresh",{type:"success"})},onClickDelete:function(e){var t=this;return v()(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.action="deleteSingle",t.dialogDelete=!0,t.editedItem=e;case 3:case"end":return a.stop()}}),a,t)})))()},onClickDeleteMulti:function(e){var t=this;return v()(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.currentDevice=e,t.dialogDelete=!0,t.action="deleteSelected";case 3:case"end":return a.stop()}}),a,t)})))()},deleteSingle:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.delete("modbus/point/"+e.editedItem._id);case 2:e.editedDeviceIndex=e.devices.indexOf(e.currentDevice),e.editedIndex=e.devices[e.editedDeviceIndex].points.indexOf(e.editedItem),e.devices[e.editedDeviceIndex].points.splice(e.editedIndex,1),e.closeDelete();case 6:case"end":return t.stop()}}),t,e)})))()},deleteSelected:function(){var e=this;return v()(u.a.mark((function t(){var a,i,n,r,s,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[],i=!0,n=!1,r=void 0,t.prev=4,s=z()(e.selected);!(i=(o=s.next()).done);i=!0)c=o.value,e.editedItem=c,a.push(e.deleteSingle());t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),n=!0,r=t.t0;case 12:t.prev=12,t.prev=13,!i&&s.return&&s.return();case 15:if(t.prev=15,!n){t.next=18;break}throw r;case 18:return t.finish(15);case 19:return t.finish(12);case 20:return t.next=22,l.a.all(a);case 22:e.selected=[];case 23:case"end":return t.stop()}}),t,e,[[4,8,12,20],[13,,15,19]])})))()},confirm:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e[e.action]();case 2:e.dialog=!1,e.action="";case 4:case"end":return t.stop()}}),t,e)})))()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=s()({},T()({},J.m)),e.editedIndex=-1}))},save:function(){this.$refs.form.validate()&&(this.editedItem._id?this.updatePoint(this.editedItem):this.createPoint(this.editedItem))},updatePoint:function(e){var t=this;return v()(u.a.mark((function a(){var i,n,r,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.put("modbus/point",e);case 2:i=a.sent,n=t.getIndexs(e),r=n.deviceIndex,o=n.pointIndex,s()(t.devices[r].points[o],i),t.$toasted.show("update success"),t.close();case 7:case"end":return a.stop()}}),a,t)})))()},createPoint:function(e){var t=this;return v()(u.a.mark((function a(){var i,n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.post("modbus/point",e);case 2:i=a.sent,n=t.getIndexs(e),r=n.deviceIndex,t.devices[r].points=t.devices[r].points?[].concat(E()(t.devices[r].points)):[],t.devices[r].points.push(i),t.$toasted.show("create success"),t.close();case 8:case"end":return a.stop()}}),a,t)})))()},saveImport:function(){var e=this;return v()(u.a.mark((function t(){var a,i,n,r,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.importArray&&e.importArray.length>0)){t.next=29;break}if(!e.$refs.form.validate()){t.next=29;break}for(e.isClickSaveImport=!0,t.prev=3,a=!0,i=!1,n=void 0,t.prev=7,r=z()(e.importArray);!(a=(s=r.next()).done);a=!0)(o=s.value).device_id=e.currentDevice._id,o.register_length=o.register_length?o.register_length:0,o._id||e.createPoint(o);t.next=15;break;case 11:t.prev=11,t.t0=t.catch(7),i=!0,n=t.t0;case 15:t.prev=15,t.prev=16,!a&&r.return&&r.return();case 18:if(t.prev=18,!i){t.next=21;break}throw n;case 21:return t.finish(18);case 22:return t.finish(15);case 23:e.closeDialogImport(),e.selected=[],t.next=29;break;case 27:t.prev=27,t.t1=t.catch(3);case 29:case"end":return t.stop()}}),t,e,[[3,27],[7,11,15,23],[16,,18,22]])})))()},closeDialogImport:function(){var e=this;this.dialogImport=!1,this.isClickSaveImport=!1,this.$nextTick((function(){e.dataImport=""}))},onClickDeleteImport:function(e){var t=this;return v()(u.a.mark((function a(){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=t.importArray.indexOf(e),t.importArray.splice(i,1);case 2:case"end":return a.stop()}}),a,t)})))()},clickImportJson:function(e){this.dialogImport=!0,this.dataImport=this.selected.length>0?n()(this.selected):"",this.e1=1,this.editedDeviceIndex=this.devices.indexOf(e),this.currentDevice=e},clickImportExcel:function(e){this.dialogImportExcel=!0,this.editedDeviceIndex=this.devices.indexOf(e),this.currentDevice=e},convertExcelToJson:function(e){var t=this,a=new FileReader;a.readAsBinaryString(e),a.onload=function(e){var a=e.target.result,i=B.read(a,{type:"binary"}),r=B.utils.sheet_to_row_object_array(i.Sheets.Sheet1).map((function(e){for(var a in e){var i=a.trimRight(""),n=e[a];delete e[a],e=T()({},e,U()({},i,n))}return e.device_id=t.currentDevice._id,e}));t.dataImport=n()(r),t.dialogImportExcel=!1,t.dialogImport=!0,t.e1=1}},clickContinue:function(){if(!Object(m.n)(this.dataImport))return this.$toasted.show("incorrect data type!",{type:"error"});this.importArray=JSON.parse(this.dataImport).map((function(e){return delete e._id,e})),this.e1=2},isExistingvalue:function(e,t,a){if(!this.devices||this.devices&&0==this.devices.length)return!1;var i=this.devices.indexOf(this.currentDevice),n=this.devices[i].points?[].concat(E()(this.devices[i].points)):[];return(!n||0!=n.length)&&(-1!==this.editedIndex&&n.splice(this.editedIndex,1),"register"===t&&(e=Number(e),a&&(n=n.filter((function(e){return e.function_code===a.function_code})))),null!=n.find((function(a){return a[t]==e})))},clickJsonExport:function(){var e=Object(m.c)(n()(this.selected)),t=e?"Copied to clipboard!":"Failure on copying on clipboard!",a=e?"success":"error";return this.$toasted.show(t,{type:a})},clickDownload:function(e,t){var a=Object(m.b)(JSON.parse(n()(e)));return"csv"===t?Object(m.e)("pre_made_points",a):"excel"===t?Object(m.g)("pre_made_points",a):"json"===t?Object(m.h)("pre_made_points",n()(e)):void 0},onClickCreateEditPoint:function(e){this.editedDeviceIndex=this.devices.indexOf(this.currentDevice),this.editedIndex=this.devices[this.editedDeviceIndex].points.indexOf(e),this.editedItem=s()({},e),this.dialog=!0},saveMassEdit:function(e,t){var a=!0,i=!1,n=void 0;try{for(var r,s=z()(this.selected);!(a=(r=s.next()).done);a=!0){var o=r.value;o[t]=e,this.updatePoint(o)}}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}this.refresh()},openMassEditDialog:function(e){var t=this;return v()(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t.selected.length<1)){a.next=2;break}return a.abrupt("return",t.$toasted.show("Please select item first!",{type:"error"}));case 2:t.dialogMassEdit=!0,t.editField=e;case 4:case"end":return a.stop()}}),a,t)})))()},refresh:function(){this.editAll={enable:!1,register_length:0,function_code:"READ_HOLDING_REGISTERS",data_type:"RAW",data_endian:"BEB_LEW",value_round:1,value_offset:0,value_operation:"x + 0",writable:!1,cov_threshold:0,history_enable:!1,history_type:"INTERVAL",history_interval:15,input_min:0,input_max:0,scale_min:0,scale_max:0,value:0},this.dialogMassEdit=!1},numberChange:function(){if(!this.editAll[this.editField])return this.editAll[this.editField]=0},cancelEdit:function(){},openEdit:function(e){this.editedItem=s()({},e)},closeEdit:function(){this.editedIndex=-1,this.editedItem={}},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=s()({},T()({},J.m)),e.editedIndex=-1}))},getIndexs:function(e){var t=this.devices?this.devices.findIndex((function(t){return t._id==e.device_id})):-1;return{deviceIndex:t,pointIndex:t>-1&&this.devices[t].points?this.devices[t].points.findIndex((function(t){return t._id==e._id})):-1}},onSearchChange:function(){this.searchItems=this.search.split(",").map((function(e){return e.trim()}))},filterCriteria:function(e,t,a){return null!=e&&this.searchItems&&Array.isArray(this.searchItems)&&this.searchItems.length>0&&this.searchItems.every((function(e){return"string"==typeof e}))&&this.searchItems.some((function(t){return-1!==e.toString().toLowerCase().indexOf(t.toLowerCase())}))}}},H={components:{SidebarSetting:b,IframeSetting:C,SettingsTab:q,ModbusSetting:Object(_.a)(K,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"ml-4 mt-1"},[a("v-btn",{staticClass:"mr-2 btn-height-22 white--text",attrs:{"x-small":"",color:"primary"},on:{click:e.onClickRefresh}},[e._v("Refresh"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-refresh")])],1),e._v(" "),a("v-btn",{staticClass:"mr-2 btn-height-22 white--text",attrs:{"x-small":"",color:"nubeGreen"},on:{click:function(t){e.dialogDevice=!0}}},[e._v("Create Devices"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-plus")])],1),e._v(" "),a("v-btn",{staticClass:"mr-2 btn-height-22 white--text",attrs:{"x-small":"",color:"primary"},on:{click:e.clickImportJsonDevices}},[e._v("Import Devices"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-import")])],1),e._v(" "),a("v-btn",{staticClass:"mr-2 btn-height-22 white--text",attrs:{"x-small":"",color:"exportColor"},on:{click:e.clickJsonExportDevices}},[e._v("Export Devices"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-export")])],1),e._v(" "),a("v-btn",{staticClass:"mr-2 btn-height-22 white--text",attrs:{"x-small":"",color:"purple"},on:{click:function(t){e.advancedView=!e.advancedView}}},[e._v(e._s(e.advancedView?"Simple":"Advanced")+" View")])],1),a("br"),e._v(" "),a("v-expansion-panels",{staticClass:"ml-2",attrs:{multiple:""},model:{value:e.expansionData,callback:function(t){e.expansionData=t},expression:"expansionData"}},e._l(e.devices,(function(t,i){return a("v-expansion-panel",{key:i,staticClass:"mb-1"},[a("v-expansion-panel-header",[a("v-row",[a("h3",{staticClass:"mr-3"},[e._v("Device: "+e._s(t.name))]),e._v(" "),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"info"},on:{click:function(a){return a.stopPropagation(),e.clickEditDevice(t)}}},[e._v(" mdi-pencil ")]),e._v(" "),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"error"},on:{click:function(a){return a.stopPropagation(),e.onClickDeleteDevice(t)}}},[e._v(" mdi-delete ")])],1)],1),e._v(" "),a("v-expansion-panel-content",[a("v-data-table",{staticClass:"elevation-1 text-left",attrs:{headers:e.advancedView?e.advancedHeaders:e.pointHeaders,items:t.points,"item-key":"_id","show-select":"","footer-props":e.tableProps.FOOTER_PROPS,itemsPerPage:e.tableProps.ITEMS_PER_PAGE,search:e.search,"custom-filter":e.filterCriteria},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("POINTS")]),e._v(" "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),a("div",{staticClass:"text-left"},[a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"nubeGreen"},on:{click:function(a){e.dialog=!0,e.editedItem.device_id=t._id,e.currentDevice=t}}},[e._v("\n                  Create"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v(" mdi-plus ")])],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"error",disabled:0===e.selected.length},on:{click:function(a){return e.onClickDeleteMulti(t)}}},[e._v("\n                  Delete"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v(" mdi-delete ")])],1),e._v(" "),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"downloadColor"}},"v-btn",n,!1),i),[e._v("Download"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-download")])],1)]}}],null,!0)},[e._v(" "),a("v-list",[a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(a){return e.clickDownload(t.points,"json")}}},[e._v("Json")])],1),e._v(" "),a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(a){return e.clickDownload(t.points,"excel")}}},[e._v("Excel")])],1),e._v(" "),a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(a){return e.clickDownload(t.points,"csv")}}},[e._v("CSV")])],1)],1)],1),e._v(" "),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"primary"}},"v-btn",n,!1),i),[e._v("Import"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-import")])],1)]}}],null,!0)},[e._v(" "),a("v-list",[a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(a){return e.clickImportJson(t)}}},[e._v("Json")])],1),e._v(" "),a("v-list-item",{attrs:{link:""}},[a("v-list-item-title",{on:{click:function(a){return e.clickImportExcel(t)}}},[e._v("Excel")])],1)],1)],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"exportColor",disabled:0===e.selected.length},on:{click:function(t){return e.clickJsonExport(e.selected)}}},[e._v("Export"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-export")])],1)],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{input:e.onSearchChange},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.enable",fn:function(t){var i=t.item;return[a("v-checkbox",{on:{click:function(t){return e.updatePoint(i)}},model:{value:i.enable,callback:function(t){e.$set(i,"enable",t)},expression:"item.enable"}})]}},{key:"item.writable",fn:function(t){var i=t.item;return[a("v-checkbox",{on:{click:function(t){return e.updatePoint(i)}},model:{value:i.writable,callback:function(t){e.$set(i,"writable",t)},expression:"item.writable"}})]}},{key:"item.write_value_once",fn:function(t){var i=t.item;return[a("v-checkbox",{on:{click:function(t){return e.updatePoint(i)}},model:{value:i.write_value_once,callback:function(t){e.$set(i,"write_value_once",t)},expression:"item.write_value_once"}})]}},{key:"item.priority_array_write",fn:function(){},proxy:!0},{key:"item.fault_message",fn:function(t){var i=t.item;return[a("div",{staticClass:"overflow-td"},[e._v(e._s(i.fault_message))])]}},{key:"item.value_raw",fn:function(t){var i=t.item;return[a("div",{staticClass:"overflow-td"},[e._v("\n              "+e._s(i.value_raw)+"\n            ")])]}},{key:"item.created_on",fn:function(t){var a=t.item;return[e._v("\n            "+e._s(e._f("timezone")(a.created_on))+"\n          ")]}},{key:"item.updated_on",fn:function(t){var a=t.item;return[e._v("\n            "+e._s(e._f("timezone")(a.updated_on))+"\n          ")]}},{key:"item.ts_value",fn:function(t){var a=t.item;return[e._v("\n            "+e._s(e._f("timezone")(a.ts_value))+"\n          ")]}},{key:"item.ts_fault",fn:function(t){var a=t.item;return[e._v("\n            "+e._s(e._f("timezone")(a.ts_fault))+"\n          ")]}},{key:"item.register",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.register,large:""},on:{"update:returnValue":function(t){return e.$set(i,"register",t)},"update:return-value":function(t){return e.$set(i,"register",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:function(t){return e.openEdit(i)},close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.register,callback:function(t){e.$set(i,"register",t)},expression:"item.register"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.register))])])]}},{key:"item.register_length",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.register_length,large:""},on:{"update:returnValue":function(t){return e.$set(i,"register_length",t)},"update:return-value":function(t){return e.$set(i,"register_length",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.register_length,callback:function(t){e.$set(i,"register_length",t)},expression:"item.register_length"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.register_length))])])]}},{key:"item.function_code",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.function_code,large:""},on:{"update:returnValue":function(t){return e.$set(i,"function_code",t)},"update:return-value":function(t){return e.$set(i,"function_code",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{attrs:{items:e.point_types},model:{value:i.function_code,callback:function(t){e.$set(i,"function_code",t)},expression:"item.function_code"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.function_code))])])]}},{key:"item.data_type",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.data_type,large:""},on:{"update:returnValue":function(t){return e.$set(i,"data_type",t)},"update:return-value":function(t){return e.$set(i,"data_type",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{attrs:{items:e.point_data_types},model:{value:i.data_type,callback:function(t){e.$set(i,"data_type",t)},expression:"item.data_type"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.data_type))])])]}},{key:"item.data_endian",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.data_endian,large:""},on:{"update:returnValue":function(t){return e.$set(i,"data_endian",t)},"update:return-value":function(t){return e.$set(i,"data_endian",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{attrs:{items:e.point_data_endians},model:{value:i.data_endian,callback:function(t){e.$set(i,"data_endian",t)},expression:"item.data_endian"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.data_endian))])])]}},{key:"item.value_round",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.value_round,large:""},on:{"update:returnValue":function(t){return e.$set(i,"value_round",t)},"update:return-value":function(t){return e.$set(i,"value_round",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.value_round,callback:function(t){e.$set(i,"value_round",t)},expression:"item.value_round"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.value_round))])])]}},{key:"item.value_operation",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.value_operation,large:""},on:{"update:returnValue":function(t){return e.$set(i,"value_operation",t)},"update:return-value":function(t){return e.$set(i,"value_operation",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"string"},model:{value:i.value_operation,callback:function(t){e.$set(i,"value_operation",t)},expression:"item.value_operation"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.value_operation))])])]}},{key:"item.cov_threshold",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.cov_threshold,large:""},on:{"update:returnValue":function(t){return e.$set(i,"cov_threshold",t)},"update:return-value":function(t){return e.$set(i,"cov_threshold",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.cov_threshold,callback:function(t){e.$set(i,"cov_threshold",t)},expression:"item.cov_threshold"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.cov_threshold))])])]}},{key:"item.input_min",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.input_min,large:""},on:{"update:returnValue":function(t){return e.$set(i,"input_min",t)},"update:return-value":function(t){return e.$set(i,"input_min",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.input_min,callback:function(t){e.$set(i,"input_min",t)},expression:"item.input_min"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.input_min))])])]}},{key:"item.input_max",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.input_max,large:""},on:{"update:returnValue":function(t){return e.$set(i,"input_max",t)},"update:return-value":function(t){return e.$set(i,"input_max",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.input_max,callback:function(t){e.$set(i,"input_max",t)},expression:"item.input_max"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.input_max))])])]}},{key:"item.scale_min",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.scale_min,large:""},on:{"update:returnValue":function(t){return e.$set(i,"scale_min",t)},"update:return-value":function(t){return e.$set(i,"scale_min",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.scale_min,callback:function(t){e.$set(i,"scale_min",t)},expression:"item.scale_min"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.scale_min))])])]}},{key:"item.scale_max",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.scale_max,large:""},on:{"update:returnValue":function(t){return e.$set(i,"scale_max",t)},"update:return-value":function(t){return e.$set(i,"scale_max",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.scale_max,callback:function(t){e.$set(i,"scale_max",t)},expression:"item.scale_max"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.scale_max))])])]}},{key:"item.value",fn:function(t){var i=t.item;return[a("v-edit-dialog",{attrs:{"return-value":i.value,large:""},on:{"update:returnValue":function(t){return e.$set(i,"value",t)},"update:return-value":function(t){return e.$set(i,"value",t)},save:function(t){return e.updatePoint(i)},cancel:e.cancelEdit,open:e.openEdit,close:e.closeEdit},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":"",type:"number",min:"0"},on:{input:function(t){return e.numberChange()}},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}})]},proxy:!0}],null,!0)},[a("b",[e._v(e._s(i.value))])])]}},{key:"item.actions",fn:function(i){var n=i.item;return[a("v-icon",{attrs:{small:"",color:"primary"},on:{click:function(a){e.currentDevice=t,e.onClickCreateEditPoint(n)}}},[e._v("\n              mdi-pencil\n            ")]),e._v(" "),a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){e.currentDevice=t,e.onClickDelete(n)}}},[e._v("\n              mdi-delete\n            ")])]}},{key:"header.enable",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("enable"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("enable"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.writable",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("writable"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("writable"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.write_value_once",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("write_value_once"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("write_value_once"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.register_length",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("register_length"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("register_length"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.data_type",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("data_type"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("data_type"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.data_endian",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("data_endian"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("data_endian"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.value_round",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("value_round"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("value_round"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.value_operation",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("value_operation"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("value_operation"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.cov_threshold",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("cov_threshold"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("cov_threshold"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.input_min",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("input_min"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("input_min"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.input_max",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("input_max"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("input_max"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.scale_min",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("scale_min"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("scale_min"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.scale_max",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("scale_max"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("scale_max"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.value",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("value"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("value"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.fallback_value",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("fallback_value"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("fallback_value"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"header.function_code",fn:function(){return[e._v("\n            "+e._s(e.toUpperTextKey("function_code"))+"\n            "),a("v-icon",{staticClass:"mr-1",attrs:{"x-small":"",right:"",color:"primary"},on:{click:function(t){e.openMassEditDialog("function_code"),t.stopPropagation()}}},[e._v("mdi-pencil")])]},proxy:!0},{key:"no-data",fn:function(){return[e._v(" No data ")]},proxy:!0}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)})),1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDevice,callback:function(t){e.dialogDevice=t},expression:"dialogDevice"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formDeviceTitle))])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"device name",required:"",rules:[function(){return!e.isExistingDevicevalue(e.editedDevice.name,"name")||"Name Existed"},e.rules.required]},on:{input:function(t){return e.editedDevice.name=e.conventionNaming(t,e.setting)}},model:{value:e.editedDevice.name,callback:function(t){e.$set(e.editedDevice,"name",t)},expression:"editedDevice.name"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.closeDevice}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"blue",text:"",disabled:!e.valid},on:{click:function(t){return e.saveDevice(e.editedDevice)}}},[e._v("Save")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialogImportDevice,callback:function(t){e.dialogImportDevice=t},expression:"dialogImportDevice"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Import Devices Dialog")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:e.closeDialogImportDevice}},[a("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),a("v-stepper",{model:{value:e.e1Device,callback:function(t){e.e1Device=t},expression:"e1Device"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1Device>1,step:"1"}},[e._v(" Import ")]),e._v(" "),a("v-divider"),e._v(" "),a("v-stepper-step",{attrs:{complete:e.e1Device>2,step:"2"}},[e._v(" Edit ")])],1),e._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticClass:"mb-4"},[a("v-card-text",[a("v-container",[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},model:{value:e.dataImportDevices,callback:function(t){e.dataImportDevices=t},expression:"dataImportDevices"}})],1)],1)],1),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!e.dataImportDevices},on:{click:function(t){return e.clickContinueImportDevice()}}},[e._v("\n            Continue\n          ")])],1),e._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-data-table",{staticClass:"elevation-1 mb-4",attrs:{headers:e.deviceHeaders,items:e.importArrayDevice,"item-key":"_id","footer-props":e.tableProps.FOOTER_PROPS,itemsPerPage:e.tableProps.ITEMS_PER_PAGE,search:e.searchWizardDevice},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Import Devices Table")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.searchWizardDevice,callback:function(t){e.searchWizardDevice=t},expression:"searchWizardDevice"}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[e.isClickSaveImportDevice?e._e():a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(t){return e.onClickDeleteImportDevice(i)}}},[e._v("\n                  mdi-delete\n                ")]),e._v(" "),e.isClickSaveImportDevice&&!e.isExistingDevicevalue(i._id,"_id")?a("v-icon",{attrs:{small:"",color:"error"}},[e._v("mdi-alert-octagram-outline")]):e._e(),e._v(" "),e.isClickSaveImportDevice&&e.isExistingDevicevalue(i._id,"_id")?a("v-icon",{attrs:{small:"",color:"nubeGreen"}},[e._v("mdi-check-circle-outline")]):e._e(),e._v(" "),e.isClickSaveImportDevice?a("v-icon",{attrs:{small:"",color:"info",disabled:e.isClickSaveImportDevice&&e.isExistingDevicevalue(i._id,"_id")},on:{click:function(t){return e.saveDevice(i)}}},[e._v("mdi-cached")]):e._e()]}},{key:"item.name",fn:function(t){var i=t.item;return[a("v-text-field",{attrs:{required:"",rules:[function(){return!e.isExistingDevicevalue(i.name,"name")||"Name Existed"},e.rules.required],disabled:e.isClickSaveImportDevice&&e.isExistingDevicevalue(i._id,"_id")},on:{input:function(t){return i.name=e.conventionNaming(t,e.setting)}},model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"item.name"}})]}}],null,!0)})],1),e._v(" "),a("v-btn",{on:{click:function(t){e.e1Device=1}}},[e._v(" Back ")]),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.saveImportDevice}},[e._v(" Save ")])],1)],1)],1)],1),e._v(" "),a("confirm-dialog",{attrs:{"is-open":e.dialogDeleteDevice,"on-close":e.closeDeleteDevice,"on-confirm":e.confirmDeleteDevice,"dialog-text":"Do you want to delete the device ?"}}),e._v(" "),a("v-dialog",{model:{value:e.dialogImport,callback:function(t){e.dialogImport=t},expression:"dialogImport"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Import Dialog")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:e.closeDialogImport}},[a("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v(" Import ")]),e._v(" "),a("v-divider"),e._v(" "),a("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v(" Edit ")])],1),e._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticClass:"mb-4"},[a("v-card-text",[a("v-container",[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},model:{value:e.dataImport,callback:function(t){e.dataImport=t},expression:"dataImport"}})],1)],1)],1),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!e.dataImport},on:{click:function(t){return e.clickContinue()}}},[e._v(" Continue ")])],1),e._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-data-table",{staticClass:"elevation-1 mb-4",attrs:{headers:e.advancedHeaders,items:e.importArray,"item-key":"uuid","footer-props":e.tableProps.FOOTER_PROPS,itemsPerPage:e.tableProps.ITEMS_PER_PAGE,search:e.searchWizard},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("IMPORT TABLE")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.searchWizard,callback:function(t){e.searchWizard=t},expression:"searchWizard"}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(t){return e.onClickDeleteImport(i)}}},[e._v(" mdi-delete ")]),e._v(" "),e.isClickSaveImport&&e.isExistingvalue(i.uuid,"uuid")?a("v-icon",{attrs:{small:"",color:"nubeGreen"}},[e._v("mdi-check-circle-outline")]):e._e(),e._v(" "),e.isClickSaveImport?a("v-icon",{attrs:{small:"",color:"info",disabled:e.isClickSaveImport&&e.isExistingvalue(i.uuid,"uuid")},on:{click:function(t){return e.createPoint(i)}}},[e._v("mdi-cached")]):e._e()]}},{key:"item.name",fn:function(t){var i=t.item;return[a("v-text-field",{staticStyle:{width:"100px"},attrs:{required:"",rules:[function(){return!e.isExistingvalue(i.name,"name")||"Name Existed"},e.rules.required],disabled:e.isClickSaveImport&&e.isExistingvalue(i.uuid,"uuid")},on:{input:function(t){return i.name=e.conventionNaming(t,e.setting)}},model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"item.name"}})]}},{key:"item.register",fn:function(t){var i=t.item;return[e.isClickSaveImport&&e.isExistingvalue(i.uuid,"uuid",i)?a("v-text-field",{staticStyle:{width:"100px"},attrs:{"single-line":"",disabled:""},model:{value:i.register,callback:function(t){e.$set(i,"register",t)},expression:"item.register"}}):a("v-text-field",{staticStyle:{width:"100px"},attrs:{type:"number","single-line":"",required:"",rules:[function(){return!e.isExistingvalue(i.register,"register",i)||"Register Existed"},e.rules.required]},model:{value:i.register,callback:function(t){e.$set(i,"register",t)},expression:"item.register"}})]}},{key:"item.enable",fn:function(t){var i=t.item;return[a("v-checkbox",{model:{value:i.enable,callback:function(t){e.$set(i,"enable",t)},expression:"item.enable"}})]}},{key:"item.function_code",fn:function(t){var i=t.item;return[a("v-select",{attrs:{items:e.point_types,required:"",rules:[e.rules.required]},on:{change:function(t){return e.$refs.form.resetValidation()}},model:{value:i.function_code,callback:function(t){e.$set(i,"function_code",t)},expression:"item.function_code"}})]}},{key:"item.value",fn:function(t){var i=t.item;return[a("v-text-field",{staticStyle:{width:"100px"},attrs:{type:"number","single-line":""},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}})]}}],null,!0)})],1),e._v(" "),a("v-btn",{attrs:{color:"secondary"},on:{click:function(t){e.e1=1}}},[e._v(" Back ")]),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.saveImport}},[e._v(" Save ")])],1)],1)],1)],1),e._v(" "),a("import-from-excel-dialog",{attrs:{"is-open":e.dialogImportExcel,"on-close":function(){return e.dialogImportExcel=!1},"on-confirm":e.convertExcelToJson}}),e._v(" "),a("confirm-dialog",{attrs:{"is-open":e.dialogDelete,"on-close":e.closeDelete,"on-confirm":e.confirm,"dialog-text":"Do you want to delete ?"}}),e._v(" "),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Point")])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"24",md:"24"}},[a("v-text-field",{staticClass:"centered-input",attrs:{disabled:""},model:{value:e.currentDevice.name,callback:function(t){e.$set(e.currentDevice,"name",t)},expression:"currentDevice.name"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"Point name",required:"",rules:[function(){return!e.isExistingvalue(e.editedItem.name,"name")||"Name Existed"},e.rules.required]},on:{input:function(t){return e.editedItem.name=e.conventionNaming(t,e.setting)}},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{attrs:{label:"enable"},model:{value:e.editedItem.enable,callback:function(t){e.$set(e.editedItem,"enable",t)},expression:"editedItem.enable"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{attrs:{label:"writable"},model:{value:e.editedItem.writable,callback:function(t){e.$set(e.editedItem,"writable",t)},expression:"editedItem.writable"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-checkbox",{attrs:{label:"Write Value Once"},model:{value:e.editedItem.write_value_once,callback:function(t){e.$set(e.editedItem,"write_value_once",t)},expression:"editedItem.write_value_once"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"cov threshold",type:"number"},model:{value:e.editedItem.cov_threshold,callback:function(t){e.$set(e.editedItem,"cov_threshold",t)},expression:"editedItem.cov_threshold"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{label:"function_code",items:e.point_types,required:"",rules:[e.rules.required]},on:{change:function(t){return e.$refs.form.resetValidation()}},model:{value:e.editedItem.function_code,callback:function(t){e.$set(e.editedItem,"function_code",t)},expression:"editedItem.function_code"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{label:"data type",items:e.point_data_types,required:"",rules:[e.rules.required]},model:{value:e.editedItem.data_type,callback:function(t){e.$set(e.editedItem,"data_type",t)},expression:"editedItem.data_type"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-select",{attrs:{label:"data endian",items:e.point_data_endians,required:"",rules:[e.rules.required]},model:{value:e.editedItem.data_endian,callback:function(t){e.$set(e.editedItem,"data_endian",t)},expression:"editedItem.data_endian"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"register",rules:[function(){return!e.isExistingvalue(e.editedItem,"register")||"Register Existed"}],type:"number"},model:{value:e.editedItem.register,callback:function(t){e.$set(e.editedItem,"register",t)},expression:"editedItem.register"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"register length",type:"number"},model:{value:e.editedItem.register_length,callback:function(t){e.$set(e.editedItem,"register_length",t)},expression:"editedItem.register_length"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"24",md:"24"}},[a("v-text-field",{staticClass:"centered-input",attrs:{value:"Point round/math",disabled:""}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"value",type:"number"},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"value round",type:"number"},model:{value:e.editedItem.value_round,callback:function(t){e.$set(e.editedItem,"value_round",t)},expression:"editedItem.value_round"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"math operation"},model:{value:e.editedItem.value_operation,callback:function(t){e.$set(e.editedItem,"value_operation",t)},expression:"editedItem.value_operation"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"value raw"},model:{value:e.editedItem.value_raw,callback:function(t){e.$set(e.editedItem,"value_raw",t)},expression:"editedItem.value_raw"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Fallback Value",type:"number",hint:"The empty value will return null"},model:{value:e.editedItem.fallback_value,callback:function(t){e.$set(e.editedItem,"fallback_value",t)},expression:"editedItem.fallback_value"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"24",md:"24"}},[a("v-text-field",{staticClass:"centered-input",attrs:{value:"Point value scale",disabled:""}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"input_min",type:"number"},model:{value:e.editedItem.input_min,callback:function(t){e.$set(e.editedItem,"input_min",t)},expression:"editedItem.input_min"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"input_max",type:"number"},model:{value:e.editedItem.input_max,callback:function(t){e.$set(e.editedItem,"input_max",t)},expression:"editedItem.input_max"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"scale_min",type:"number"},model:{value:e.editedItem.scale_min,callback:function(t){e.$set(e.editedItem,"scale_min",t)},expression:"editedItem.scale_min"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"scale_max",type:"number"},model:{value:e.editedItem.scale_max,callback:function(t){e.$set(e.editedItem,"scale_max",t)},expression:"editedItem.scale_max"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),e._v(" "),a("v-btn",{attrs:{color:"blue",text:"",disabled:!e.valid},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{width:"350px"},model:{value:e.dialogMassEdit,callback:function(t){e.dialogMassEdit=t},expression:"dialogMassEdit"}},[a("v-card",[a("v-card-title",[e._v("Mass Edit")]),e._v(" "),a("v-card-text",["function_code"===e.editField?a("v-select",{attrs:{items:e.point_types},model:{value:e.editAll[e.editField],callback:function(t){e.$set(e.editAll,e.editField,t)},expression:"editAll[editField]"}}):e._e(),e._v(" "),"data_type"===e.editField?a("v-select",{attrs:{items:e.point_data_types,label:e.toUpperTextKey(e.editField)},model:{value:e.editAll[e.editField],callback:function(t){e.$set(e.editAll,e.editField,t)},expression:"editAll[editField]"}}):e._e(),e._v(" "),"data_endian"===e.editField?a("v-select",{attrs:{items:e.point_data_endians,label:e.toUpperTextKey(e.editField)},model:{value:e.editAll[e.editField],callback:function(t){e.$set(e.editAll,e.editField,t)},expression:"editAll[editField]"}}):e._e(),e._v(" "),"boolean"==typeof e.editAll[e.editField]?a("v-checkbox",{attrs:{label:e.toUpperTextKey(e.editField)},model:{value:e.editAll[e.editField],callback:function(t){e.$set(e.editAll,e.editField,t)},expression:"editAll[editField]"}}):e._e(),e._v(" "),"number"==typeof e.editAll[e.editField]?a("v-text-field",{attrs:{min:"0",label:e.toUpperTextKey(e.editField),type:"number"},on:{input:function(t){return e.numberChange()}},model:{value:e.editAll[e.editField],callback:function(t){e.$set(e.editAll,e.editField,e._n(t))},expression:"editAll[editField]"}}):e._e(),e._v(" "),"string"==typeof e.editAll[e.editField]&&"function_code"!==e.editField&&"data_type"!==e.editField&&"data_endian"!==e.editField?a("v-text-field",{attrs:{label:e.toUpperTextKey(e.editField)},model:{value:e.editAll[e.editField],callback:function(t){e.$set(e.editAll,e.editField,t)},expression:"editAll[editField]"}}):e._e()],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.dialogMassEdit=!1}}},[e._v("Close")]),e._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.saveMassEdit(e.editAll[e.editField],e.editField)}}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,PageTitle:a("+SqX").a},data:function(){return{tab:0,tabs:["sidebar","apps","settings"],dialogImport:!1,dataImport:"",isValidData:!1,disableSave:!0,iframeArr:[]}},computed:{setting:function(){return this.$store.state.setting},loading:function(){return this.$store.state.loading},iframes:function(){return this.$store.state.iframes},mqttConfig:function(){return this.$store.state.mqttConfig}},watch:{"$store.state.iframes":function(e){this.iframeArr=e},"$route.query.tab":function(e){this.tab=this.tabs.indexOf(e)},tab:function(e,t){var a=this.$route.query.tab;if(a!==this.tabs[e]){var i=this.tabs[e];this.$router.push({path:"setting",query:{tab:i}})}}},mounted:function(){var e=this.$route.query.tab;this.tab=this.tabs.indexOf(e),this.iframeArr=this.iframes},methods:{onChangeImportData:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isValidData=e.disableSave=!Object(m.n)(e.dataImport)||Array.isArray(JSON.parse(e.dataImport));case 1:case"end":return t.stop()}}),t,e)})))()},clickImport:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dialogImport=!0;case 1:case"end":return t.stop()}}),t,e)})))()},closeDialogImport:function(){var e=this;return v()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dialogImport=!1;case 1:case"end":return t.stop()}}),t,e)})))()},saveImport:function(){var e=this;return v()(u.a.mark((function t(){var a,i,n,r,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(m.n)(e.dataImport)){t.next=2;break}return t.abrupt("return",e.$toasted.show("incorrect data type!",{type:"error"}));case 2:a=JSON.parse(e.dataImport),i=[],t.t0=u.a.keys(a);case 5:if((t.t1=t.t0()).done){t.next=19;break}n=t.t1.value,r=a[n],t.t2=n,t.next="settings"===t.t2?11:"iframes"===t.t2?13:"mqttConfig"===t.t2?15:17;break;case 11:return i.push(p.a(r)),t.abrupt("break",17);case 13:for(s=0;s<r.length;s++)i.push(h.a.put("iframe",r[s]));return t.abrupt("break",17);case 15:return i.push(h.a.put("mqtt/config",r)),t.abrupt("break",17);case 17:t.next=5;break;case 19:return e.$store.commit("changeLoading",!0),t.next=22,l.a.all(i);case 22:if(e.$store.commit("changeLoading",!1),a.mqttConfig&&e.$store.commit("changeMqttConfig",a.mqttConfig),a.settings&&e.$store.commit("changeSetting",a.settings),!a.iframes){t.next=30;break}return t.next=28,h.a.get("iframe");case 28:o=t.sent,e.$store.commit("changeIframes",o);case 30:e.$toasted.show("Success",{type:"success"}),e.dialogImport=!1,e.dataImport="";case 33:case"end":return t.stop()}}),t,e)})))()},clickJsonExport:function(){var e=s()({},{settings:Object(m.d)(this.setting),iframes:this.iframeArr,mqttConfig:this.mqttConfig}),t=Object(m.c)(n()(e)),a=t?"Copied to clipboard!":"Failure on copying on clipboard!",i=t?"success":"error";return this.$toasted.show(a,{type:i})}}},Y=Object(_.a)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-col",{staticClass:"text-left mb-2",attrs:{xl:"3",lg:"3",sm:"12"}},[a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"primary"},on:{click:e.clickImport}},[e._v("Import"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-import")])],1),e._v(" "),a("v-btn",{staticClass:"mr-1 btn-height-22 white--text",attrs:{"x-small":"",color:"exportColor"},on:{click:e.clickJsonExport}},[e._v("Export"),a("v-icon",{attrs:{"x-small":"",right:""}},[e._v("mdi-export")])],1)],1)],1),e._v(" "),a("v-tabs",{attrs:{right:"",color:e.$vuetify.theme.dark?"":"nubeGreen"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",{key:1},[e._v("SIDEBAR SETTING")]),e._v(" "),a("v-tab",{key:2},[e._v("APPS")]),e._v(" "),a("v-tab",{key:3},[e._v("Settings")])],1),e._v(" "),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{key:1},[a("page-title",{staticClass:"ml-4",attrs:{title:"Sidebar Settings"}}),e._v(" "),a("sidebar-setting")],1),e._v(" "),a("v-tab-item",{key:2},[a("page-title",{staticClass:"ml-4",attrs:{title:"Apps Settings"}}),e._v(" "),a("iframe-setting")],1),e._v(" "),a("v-tab-item",{key:3},[a("page-title",{staticClass:"ml-4",attrs:{title:"Common Settings"}}),e._v(" "),a("v-divider"),e._v(" "),a("settings-tab")],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogImport,callback:function(t){e.dialogImport=t},expression:"dialogImport"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Import")])]),e._v(" "),a("v-card-text",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.isValidData,expression:"isValidData"}],staticClass:"text-left",attrs:{dense:"","colored-border":"",type:"error",elevation:"2"}},[e._v("Incorrect Data Type!")]),e._v(" "),a("v-container",[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"import data"},on:{input:e.onChangeImportData},model:{value:e.dataImport,callback:function(t){e.dataImport=t},expression:"dataImport"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.closeDialogImport}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",disabled:e.disableSave,text:""},on:{click:e.saveImport}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=Y.exports},y1PV:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i={AUTO_REFRESH:"Rubix Platform pages will be automatically refreshed at the set rate.",DISPLAY_TIMEZONE:"Timestamps in Rubix Platform will be displayed in this timezone.\n It will not affect the timezone setting of the controller/host, only the timestamps displayed.",TEXT_CASE:"When enabled, Network, Device, and Point names will have the selected Text Case convention enforced.",THEME:"Sets the Rubix Platform colour scheme as Light or Dark.",NETWORK_NAMING:"Sets the display name of Network Adapters.\n This reduces confusion as the adapter name can be set to match the labelling on the device.",HOST_DEVICE_TIME:"Modify the timezone configuration of the host device that Rubix Platform is running on."}}}]);
//# sourceMappingURL=14.255ed9b715d914dd3151.js.map