(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"9Gv6":function(e,t,a){"use strict";a.r(t);var n=a("Kz1y"),r=a.n(n),i=a("edSL"),s=a.n(i),o=a("2SyR"),u={name:"rf-device-form",props:["isEdit","onCancel","onSave","item","isSaving","immediateParent"],data:function(){return{formValues:{},rerender:0,parentModulePath:null}},components:{DynamicForm:a("K3Z4").a},computed:{lowerCaseTitle:function(){return"device"},titleCase:function(){return"Device"},title:function(){return this.isEdit?"Edit "+this.titleCase:"Create "+this.titleCase},saveTitle:function(){return this.isEdit?"Save":"Create"}},mounted:function(){this.isEdit&&this.item&&(this.formValues=r()({},this.item),this.rerender++),this.immediateParent&&(this.parentModulePath=this.immediateParent.plugin_name,this.formValues=r()({},this.formValues,{plugin_name:this.immediateParent.plugin_name,network_uuid:this.immediateParent.uuid}),this.rerender++)}},c=a("psIG"),m=Object(c.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.parentModulePath?a("dynamic-form",{key:e.rerender,attrs:{"parent-module-path":e.parentModulePath,item:e.item,title:e.title,isEdit:e.isEdit,onSave:e.onSave,onCancel:e.onCancel,moduleName:"device",initialFormValues:e.formValues}}):e._e()}),[],!1,null,null,null).exports,d=a("TcPG"),l=a.n(d),v=a("oujF"),f=a("CfmX"),p=a("IpYZ"),h=a("oGAK"),g=a("97BG"),b={viewPoints:"viewPoints"},k=l()({},b.viewPoints,(function(e,t){return h.a.rfPoints.replace(":networkId",e).replace(":deviceId",t)})),w={name:"rf-device-grid",components:{GenericGrid:f.a,RfDeviceForm:m,IconButton:o.a,TextButton:v.a},props:["params","getDataCb","immediateParent"],data:function(){return{gridName:g.g,dialogNames:b,service:p.a,toolbarTitle:"Devices",gridHeaders:[{text:"Name",align:"center",value:"name",sortable:!0},{text:"Actions",align:"center",value:"actions",sortable:!0}]}},methods:{redirectTo:function(e,t){var a=this.$route.params.networkId,n=t.uuid;if(a&&n){var r=k[e];"function"==typeof r&&this.$router.push({path:r(a,n)})}}}},C=Object(c.a)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("generic-grid",{attrs:{gridName:e.gridName,isHeaderConfigurable:!0,params:e.params,service:e.service,headers:e.gridHeaders,toolbarTitle:e.toolbarTitle,navigableName:!0,getDataCb:e.getDataCb},scopedSlots:e._u([{key:"routeLinkName",fn:function(t){var n=t.item;return[a("text-button",{attrs:{text:n.name,onClick:function(){return e.redirectTo(e.dialogNames.viewPoints,n)}}})]}},{key:"createForm",fn:function(t){var n=t.onSave,r=t.onClose,i=t.isOpen,s=t.isSaving;return[i?a("rf-device-form",{attrs:{isEdit:!1,onSave:n,onCancel:r,isSaving:s,immediateParent:e.immediateParent}}):e._e()]}},{key:"editForm",fn:function(t){var n=t.onSave,r=t.item,i=t.onClose,s=t.isOpen,o=t.isSaving;return[s?a("rf-device-form",{attrs:{item:r,isEdit:!0,onSave:n,onCancel:i,isSaving:o,immediateParent:e.immediateParent}}):e._e()]}}])})],1)}),[],!1,null,null,null).exports,_=a("VNy9"),P=a("Ui9F"),D=a("LmcY"),N={text:"All Networks",disabled:!1,link:h.a.rfNetworkDevicePoint},x={name:"rf-devices",components:{IconButton:o.a,RfDeviceForm:m,RfDeviceGrid:C,TooltipIconButton:P.a,Breadcrumbs:_.a},data:function(){return{params:{uuid:null,with_devices:!0},immediateParent:null,renderCount:0,networkName:"",gridData:{},breadcrumbItems:[N]}},watch:{"$route.params.networkId":function(e,t){e!=t&&(this.params=r()({},this.params,{uuid:this.$route.params.networkId}),this.renderCount++)},networkNamesMap:function(){this.updateBreadCrumbs()}},mounted:function(){this.params=r()({},this.params,{uuid:this.$route.params.networkId}),this.updateBreadCrumbs()},computed:{networkNamesMap:function(){return this.$store.state.networkNamesMap}},methods:{onBack:function(){this.$router.go(-1)},getDataCb:function(e){this.gridData=e,this.immediateParent=s()(this.gridData,"extraData",null)},updateBreadCrumbs:function(){this.breadcrumbItems=[],this.breadcrumbItems.push(N),this.breadcrumbItems.push({text:D.a(this.networkNamesMap,this.$route.params.networkId),align:"center",disabled:!1})}}},I=Object(c.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{key:e.renderCount,attrs:{outlined:""}},[a("v-card-title",[a("v-btn",{staticClass:"mr-1",attrs:{icon:"",medium:""},on:{click:e.onBack}},[a("v-icon",{attrs:{medium:""}},[e._v(" mdi-arrow-left ")])],1),e._v(" "),a("span",[e._v("Devices")]),e.networkName?a("span",{staticClass:"caption pl-3"},[e._v("Network: "+e._s(e.networkName)+" ")]):e._e()],1),e._v(" "),a("v-card-text",[a("breadcrumbs",{attrs:{items:e.breadcrumbItems}}),e._v(" "),a("v-row",{attrs:{"no-gutter":""}},[a("v-col",{attrs:{cols:"12",lg:"12",xl:"12",md:"12",sm:"12",xs:"12"}},[e.params.uuid?a("rf-device-grid",{attrs:{params:e.params,getDataCb:e.getDataCb,immediateParent:e.immediateParent}}):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.default=I.exports},IpYZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a("tZmG"),r=a.n(n),i=a("YUSd"),s=a.n(i),o=a("Zv/C"),u=a.n(o),c=a("2lBV"),m=a.n(c),d=a("Dkg+"),l=a.n(d),v=a("Gjrs"),f=a.n(v),p=a("DeKB"),h=a("oCli"),g=a("uzYq"),b=a("PWxN"),k=a.n(b),w=a("NWgQ"),C=a.n(w),_=new(function(e){function t(){u()(this,t);var e=l()(this,(t.__proto__||s()(t)).call(this,h.a.rfDevices));return e.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uuid||e.id;if(!t)throw new Error("UUID is required for fetching devices of network");var a=h.a.rfNetworks(t);return(e=k()(e,["uuid","id"]))&&r()(e).length>0&&(a=a+"?"+C.a.stringify(e)),g.a.get(a).then((function(e){return{dataItems:e.devices,extraData:k()(e,["devices"])}}))},e}return f()(t,e),m()(t,[{key:"fetchAll",value:function(){var e=h.a.rfDevices();return g.a.get(e)}}]),t}(p.a))},LmcY:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("edSL");var n=function(e,t){var a=e&&e[t];return a||(a=t),a}},oujF:function(e,t,a){"use strict";var n={name:"text-button",props:["onClick","text"]},r=a("psIG"),i=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"ma-1",attrs:{link:"",color:"nubeGreen",plain:""},on:{click:e.onClick}},[a("span",{staticClass:"btn-text"},[e._v(e._s(e.text))])])}),[],!1,null,null,null);t.a=i.exports}}]);
//# sourceMappingURL=51.e530cd602aeaebdf41dd.js.map